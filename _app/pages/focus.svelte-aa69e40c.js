import{S as t,i as e,s as a,ao as n,e as s,k as l,t as r,c,a as o,d as i,n as f,g as u,b as $,f as m,M as d,O as h,a6 as p,u as g,w as v,x as k,h as x,j as w,m as E,o as b,v as y,E as D,_ as I,T,G as V,A,ap as L,aq as j,r as P,ar as q,as as z,N as F,a4 as N,W as R,a7 as S,at as Y}from"../chunks/vendor-90cda898.js";import{d as J,e as M,g as O,b as _,s as B}from"../chunks/state-fbb3de2a.js";import{F as C,a as G}from"../chunks/FabContainer-d034607e.js";const{document:U}=j;function W(t,e,a){const n=t.slice();return n[14]=e[a],n[16]=a,n}function H(t){let e,a;return e=new S({props:{size:"24"}}),{c(){w(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,n){b(e,t,n),a=!0},i(t){a||(k(e.$$.fragment,t),a=!0)},o(t){g(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function K(t){let e,a;return e=new Y({props:{size:"24"}}),{c(){w(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,n){b(e,t,n),a=!0},i(t){a||(k(e.$$.fragment,t),a=!0)},o(t){g(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function Q(t,e){let a,n,w,E,b,y,D,I,T,V,A,L=e[14].name+"";const j=[K,H],q=[];function z(t,e){return t[14].checked?0:1}function F(){return e[11](e[16])}return w=z(e),E=q[w]=j[w](e),{key:t,first:null,c(){a=s("div"),n=s("div"),E.c(),b=l(),y=s("div"),D=r(L),I=l(),this.h()},l(t){a=c(t,"DIV",{class:!0});var e=o(a);n=c(e,"DIV",{});var s=o(n);E.l(s),s.forEach(i),b=f(e),y=c(e,"DIV",{});var l=o(y);D=u(l,L),l.forEach(i),I=f(e),e.forEach(i),this.h()},h(){$(a,"class","inline-flex items-center gap-4 cursor-pointer"),this.first=a},m(t,e){m(t,a,e),d(a,n),q[w].m(n,null),d(a,b),d(a,y),d(y,D),d(a,I),T=!0,V||(A=h(a,"click",p(F)),V=!0)},p(t,a){let s=w;w=z(e=t),w!==s&&(P(),g(q[s],1,1,(()=>{q[s]=null})),v(),E=q[w],E||(E=q[w]=j[w](e),E.c()),k(E,1),E.m(n,null)),(!T||1&a)&&L!==(L=e[14].name+"")&&x(D,L)},i(t){T||(k(E),T=!0)},o(t){g(E),T=!1},d(t){t&&i(a),q[w].d(),V=!1,A()}}}function X(t){let e,a;return e=new C({props:{$$slots:{default:[Z]},$$scope:{ctx:t}}}),{c(){w(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,n){b(e,t,n),a=!0},p(t,a){const n={};131072&a&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){a||(k(e.$$.fragment,t),a=!0)},o(t){g(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function Z(t){let e,a,n,s;return e=new G({props:{small:!0,icon:q}}),e.$on("click",t[4]),n=new G({props:{icon:z}}),n.$on("click",t[3]),{c(){w(e.$$.fragment),a=l(),w(n.$$.fragment)},l(t){E(e.$$.fragment,t),a=f(t),E(n.$$.fragment,t)},m(t,l){b(e,t,l),m(t,a,l),b(n,t,l),s=!0},p:F,i(t){s||(k(e.$$.fragment,t),k(n.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),g(n.$$.fragment,t),s=!1},d(t){y(e,t),t&&i(a),y(n,t)}}}function tt(t){var e,a;let V,A,L,j,q,z,F,R,S,Y,J,M,O,_,B,C,G,H,K=((null==(e=t[0])?void 0:e.title)||"Pronto!")+"",Z=[],tt=new Map;q=new n({props:{size:"24"}});let et=(null==(a=t[0])?void 0:a.checkList.toArray())||[];const at=t=>t[14]._id;for(let n=0;n<et.length;n+=1){let e=W(t,et,n),a=at(e);tt.set(a,Z[n]=Q(a,e))}let nt=t[0]&&X(t);return{c(){V=l(),A=s("div"),L=s("div"),j=s("button"),w(q.$$.fragment),z=l(),F=s("div"),R=s("p"),S=r(K),Y=l(),J=s("p"),M=r(""),O=l(),_=s("div");for(let t=0;t<Z.length;t+=1)Z[t].c();B=l(),nt&&nt.c(),this.h()},l(t){D('[data-svelte="svelte-ihrkqk"]',U.head).forEach(i),V=f(t),A=c(t,"DIV",{class:!0});var e=o(A);L=c(e,"DIV",{class:!0});var a=o(L);j=c(a,"BUTTON",{});var n=o(j);E(q.$$.fragment,n),n.forEach(i),a.forEach(i),z=f(e),F=c(e,"DIV",{class:!0});var s=o(F);R=c(s,"P",{class:!0});var l=o(R);S=u(l,K),l.forEach(i),Y=f(s),J=c(s,"P",{class:!0});var r=o(J);M=u(r,""),r.forEach(i),O=f(s),_=c(s,"DIV",{class:!0});var $=o(_);for(let c=0;c<Z.length;c+=1)Z[c].l($);$.forEach(i),s.forEach(i),B=f(e),nt&&nt.l(e),e.forEach(i),this.h()},h(){U.title="Focus",$(L,"class","inline-flex relative items-center w-ful p-4"),$(R,"class","text-bg font-bold text-xl"),$(J,"class","font-light font-mono whitespace-pre-wrap"),$(_,"class","inline-flex flex-col gap-2 px-4 pt-4 w-full"),$(F,"class","text-accent w-full inline-flex my-auto box-border flex-col overflow-y-scroll gap-6 p-4 items-center"),$(A,"class","bg-base-100 text-base-content inline-flex flex-col h-full w-full")},m(e,a){m(e,V,a),m(e,A,a),d(A,L),d(L,j),b(q,j,null),d(A,z),d(A,F),d(F,R),d(R,S),d(F,Y),d(F,J),d(J,M),t[10](J),d(F,O),d(F,_);for(let t=0;t<Z.length;t+=1)Z[t].m(_,null);d(A,B),nt&&nt.m(A,null),C=!0,G||(H=[h(j,"click",t[2]),h(J,"click",p(t[6])),h(J,"blur",t[5]),h(A,"click",t[7])],G=!0)},p(t,[e]){var a,n;(!C||1&e)&&K!==(K=((null==(a=t[0])?void 0:a.title)||"Pronto!")+"")&&x(S,K),257&e&&(et=(null==(n=t[0])?void 0:n.checkList.toArray())||[],P(),Z=I(Z,e,at,1,t,et,tt,_,N,Q,null,W),v()),t[0]?nt?(nt.p(t,e),1&e&&k(nt,1)):(nt=X(t),nt.c(),k(nt,1),nt.m(A,null)):nt&&(P(),g(nt,1,1,(()=>{nt=null})),v())},i(t){if(!C){k(q.$$.fragment,t);for(let t=0;t<et.length;t+=1)k(Z[t]);k(nt),C=!0}},o(t){g(q.$$.fragment,t);for(let e=0;e<Z.length;e+=1)g(Z[e]);g(nt),C=!1},d(e){e&&i(V),e&&i(A),y(q),t[10](null);for(let t=0;t<Z.length;t+=1)Z[t].d();nt&&nt.d(),G=!1,T(H)}}}function et(t,e,a){let n;V(t,B,(t=>a(9,n=t)));let s,l,r=null,c=!1;A((()=>{var t;r=null==(t=navigator.wakeLock)?void 0:t.request()})),L((()=>{null==r||r.release()}));const o=t=>{_(s.setIn(["checkList",t,"checked"],!s.checkList.get(t).checked))};return t.$$.update=()=>{512&t.$$.dirty&&a(0,s=n.activities.find((t=>t.state===J.READY.key))),3&t.$$.dirty&&l&&document.activeElement!==l&&a(1,l.innerText=s?(null==s?void 0:s.description)||"...":"Nenhuma outra atividade",l)},[s,l,()=>{window.history.back()},()=>{M(s)},()=>{const t=n.activities.toJS().filter((({state:t})=>t===J.READY.key)),e=n.activities.toJS().filter((({state:t})=>t!==J.READY.key));if(t.length>1){const[a,n,...s]=t,l=[n,a,...s,...e];O(l)}},()=>{const t=l.innerText.trim();a(1,l.contentEditable=!1,l),_(s.set("description",t)),console.log("newDescription",t),t||a(1,l.innerText="...",l),c=!0},()=>{s&&document.activeElement!==l&&(a(1,l.innerText=s.description,l),a(1,l.contentEditable=!0,l),l.focus())},()=>{c&&(c=!1)},o,n,function(t){R[t?"unshift":"push"]((()=>{l=t,a(1,l),a(0,s),a(9,n)}))},t=>o(t)]}export default class extends t{constructor(t){super(),e(this,t,et,tt,a,{})}}
