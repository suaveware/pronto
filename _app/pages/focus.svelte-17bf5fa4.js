import{S as t,i as e,s,ak as a,e as n,k as l,t as r,c,a as i,d as o,n as f,g as u,b as h,f as d,J as m,O as p,u as $,w as g,x as v,h as x,j as b,m as k,o as E,K as w,v as y,l as D,a8 as I,W as T,P as j,a9 as V,al as A,r as P,am as z,a0 as G,D as L,_ as N,an as O,ao as B}from"../chunks/vendor-7f99f88b.js";import{g as S}from"../chunks/navigation-c804b3db.js";import{b as U}from"../chunks/paths-7dc55c62.js";import{A as _,s as q,e as F,c as J}from"../chunks/state-514b4061.js";const{document:K}=A;function M(t,e,s){const a=t.slice();return a[10]=e[s],a[12]=s,a}function R(t){let e,s;return e=new O({props:{size:"24"}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,a){E(e,t,a),s=!0},i(t){s||(v(e.$$.fragment,t),s=!0)},o(t){$(e.$$.fragment,t),s=!1},d(t){y(e,t)}}}function W(t){let e,s;return e=new B({props:{size:"24"}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,a){E(e,t,a),s=!0},i(t){s||(v(e.$$.fragment,t),s=!0)},o(t){$(e.$$.fragment,t),s=!1},d(t){y(e,t)}}}function Y(t,e){let s,a,b,k,E,w,y,D,I,T,j,V=e[10].name+"";const A=[W,R],z=[];function G(t,e){return t[10].checked?0:1}function L(){return e[9](e[12])}return b=G(e),k=z[b]=A[b](e),{key:t,first:null,c(){s=n("div"),a=n("div"),k.c(),E=l(),w=n("div"),y=r(V),D=l(),this.h()},l(t){s=c(t,"DIV",{class:!0});var e=i(s);a=c(e,"DIV",{});var n=i(a);k.l(n),n.forEach(o),E=f(e),w=c(e,"DIV",{});var l=i(w);y=u(l,V),l.forEach(o),D=f(e),e.forEach(o),this.h()},h(){h(s,"class","inline-flex gap-4 cursor-pointer"),this.first=s},m(t,e){d(t,s,e),m(s,a),z[b].m(a,null),m(s,E),m(s,w),m(w,y),m(s,D),I=!0,T||(j=p(s,"click",L),T=!0)},p(t,s){let n=b;b=G(e=t),b!==n&&(P(),$(z[n],1,1,(()=>{z[n]=null})),g(),k=z[b],k||(k=z[b]=A[b](e),k.c()),v(k,1),k.m(a,null)),(!I||1&s)&&V!==(V=e[10].name+"")&&x(y,V)},i(t){I||(v(k),I=!0)},o(t){$(k),I=!1},d(t){t&&o(s),z[b].d(),T=!1,j()}}}function C(t){let e,s,a,l,r,f;return a=new z({props:{size:"28"}}),{c(){e=n("div"),s=n("button"),b(a.$$.fragment),this.h()},l(t){e=c(t,"DIV",{class:!0});var n=i(e);s=c(n,"BUTTON",{class:!0});var l=i(s);k(a.$$.fragment,l),l.forEach(o),n.forEach(o),this.h()},h(){h(s,"class","p-5 bg-blueGray-400 text-white shadow bg-white rounded-full"),h(e,"class","fixed bottom-4 right-4 gap-3 items-center inline-flex flex-col")},m(n,c){d(n,e,c),m(e,s),E(a,s,null),l=!0,r||(f=p(s,"click",t[3]),r=!0)},p:w,i(t){l||(v(a.$$.fragment,t),l=!0)},o(t){$(a.$$.fragment,t),l=!1},d(t){t&&o(e),y(a),r=!1,f()}}}function H(t){var e,s;let w,V,A,z,L,N,O,B,S,U,_,q,F,J,R,W,H=((null==(e=t[0])?void 0:e.title)||"Pronto!")+"",Q=[],X=new Map;A=new a({props:{class:"text-blueGray-600",size:"24"}});let Z=(null==(s=t[0])?void 0:s.checkList.toArray())||[];const tt=t=>t[10]._id;for(let a=0;a<Z.length;a+=1){let e=M(t,Z,a),s=tt(e);X.set(s,Q[a]=Y(s,e))}let et=t[0]&&C(t);return{c(){w=l(),V=n("button"),b(A.$$.fragment),z=l(),L=n("div"),N=n("p"),O=r(H),B=l(),S=n("p"),U=l(),_=n("div");for(let t=0;t<Q.length;t+=1)Q[t].c();q=l(),et&&et.c(),F=D(),this.h()},l(t){I('[data-svelte="svelte-ihrkqk"]',K.head).forEach(o),w=f(t),V=c(t,"BUTTON",{class:!0});var e=i(V);k(A.$$.fragment,e),e.forEach(o),z=f(t),L=c(t,"DIV",{class:!0});var s=i(L);N=c(s,"P",{class:!0});var a=i(N);O=u(a,H),a.forEach(o),B=f(s),S=c(s,"P",{class:!0}),i(S).forEach(o),U=f(s),_=c(s,"DIV",{class:!0});var n=i(_);for(let l=0;l<Q.length;l+=1)Q[l].l(n);n.forEach(o),s.forEach(o),q=f(t),et&&et.l(t),F=D(),this.h()},h(){K.title="Focus",h(V,"class","fixed text-blueGray-600 top-4 left-4"),h(N,"class","text-bg font-bold text-xl"),h(S,"class","font-light text-sm font-mono text-base whitespace-pre-wrap"),h(_,"class","inline-flex flex-col gap-2 px-4 pt-4 w-full"),h(L,"class","w-full h-full inline-flex flex-col text-blueGray-600 gap-6 p-4 justify-center items-center")},m(e,s){d(e,w,s),d(e,V,s),E(A,V,null),d(e,z,s),d(e,L,s),m(L,N),m(N,O),m(L,B),m(L,S),t[8](S),m(L,U),m(L,_);for(let t=0;t<Q.length;t+=1)Q[t].m(_,null);d(e,q,s),et&&et.m(e,s),d(e,F,s),J=!0,R||(W=[p(V,"click",t[2]),p(S,"click",t[5]),p(S,"blur",t[4])],R=!0)},p(t,[e]){var s,a;(!J||1&e)&&H!==(H=((null==(s=t[0])?void 0:s.title)||"Pronto!")+"")&&x(O,H),65&e&&(Z=(null==(a=t[0])?void 0:a.checkList.toArray())||[],P(),Q=T(Q,e,tt,1,t,Z,X,_,G,Y,null,M),g()),t[0]?et?(et.p(t,e),1&e&&v(et,1)):(et=C(t),et.c(),v(et,1),et.m(F.parentNode,F)):et&&(P(),$(et,1,1,(()=>{et=null})),g())},i(t){if(!J){v(A.$$.fragment,t);for(let t=0;t<Z.length;t+=1)v(Q[t]);v(et),J=!0}},o(t){$(A.$$.fragment,t);for(let e=0;e<Q.length;e+=1)$(Q[e]);$(et),J=!1},d(e){e&&o(w),e&&o(V),y(A),e&&o(z),e&&o(L),t[8](null);for(let t=0;t<Q.length;t+=1)Q[t].d();e&&o(q),et&&et.d(e),e&&o(F),R=!1,j(W)}}}function Q(t,e,s){let a,n,l;V(t,J,(t=>s(7,a=t))),n&&q(n.set("startedAt",L.utc().toISO()));const r=t=>{q(n.setIn(["checkList",t,"checked"],!n.checkList.get(t).checked))};return t.$$.update=()=>{131&t.$$.dirty&&(s(0,n=a.activities.find((t=>t.state===_.READY.key))),l&&document.activeElement!==l&&s(1,l.innerText=n?n.description||"...":"Nenhuma outra atividade.",l))},[n,l,()=>{S(`${U}/`)},()=>{F(n)},()=>{const t=l.innerText.trim();s(1,l.contentEditable=!1,l),q(n.set("description",t)),t||s(1,l.innerText="...",l)},()=>{n&&document.activeElement!==l&&(s(1,l.innerText=n.description,l),s(1,l.contentEditable=!0,l),l.focus())},r,a,function(t){N[t?"unshift":"push"]((()=>{l=t,s(1,l),s(7,a),s(0,n)}))},t=>r(t)]}export default class extends t{constructor(t){super(),e(this,t,Q,H,s,{})}}
