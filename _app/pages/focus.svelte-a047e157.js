import{S as t,i as e,s as a,ak as s,e as n,k as l,t as r,c,a as i,d as o,n as f,g as u,b as h,f as d,J as m,M as p,u as $,w as g,x as v,h as x,j as k,m as b,o as E,K as w,v as y,l as D,a9 as I,Y as T,P as V,aa as P,al as j,r as z,am as A,a2 as G,D as L,U as N,an as O,ao as U}from"../chunks/vendor-8b139f5e.js";import{a as B,s as M,e as S,c as Y}from"../chunks/state-2f44a191.js";const{document:q}=j;function F(t,e,a){const s=t.slice();return s[10]=e[a],s[12]=a,s}function J(t){let e,a;return e=new O({props:{size:"24"}}),{c(){k(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,s){E(e,t,s),a=!0},i(t){a||(v(e.$$.fragment,t),a=!0)},o(t){$(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function K(t){let e,a;return e=new U({props:{size:"24"}}),{c(){k(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,s){E(e,t,s),a=!0},i(t){a||(v(e.$$.fragment,t),a=!0)},o(t){$(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function R(t,e){let a,s,k,b,E,w,y,D,I,T,V,P=e[10].name+"";const j=[K,J],A=[];function G(t,e){return t[10].checked?0:1}function L(){return e[9](e[12])}return k=G(e),b=A[k]=j[k](e),{key:t,first:null,c(){a=n("div"),s=n("div"),b.c(),E=l(),w=n("div"),y=r(P),D=l(),this.h()},l(t){a=c(t,"DIV",{class:!0});var e=i(a);s=c(e,"DIV",{});var n=i(s);b.l(n),n.forEach(o),E=f(e),w=c(e,"DIV",{});var l=i(w);y=u(l,P),l.forEach(o),D=f(e),e.forEach(o),this.h()},h(){h(a,"class","inline-flex gap-4 cursor-pointer"),this.first=a},m(t,e){d(t,a,e),m(a,s),A[k].m(s,null),m(a,E),m(a,w),m(w,y),m(a,D),I=!0,T||(V=p(a,"click",L),T=!0)},p(t,a){let n=k;k=G(e=t),k!==n&&(z(),$(A[n],1,1,(()=>{A[n]=null})),g(),b=A[k],b||(b=A[k]=j[k](e),b.c()),v(b,1),b.m(s,null)),(!I||1&a)&&P!==(P=e[10].name+"")&&x(y,P)},i(t){I||(v(b),I=!0)},o(t){$(b),I=!1},d(t){t&&o(a),A[k].d(),T=!1,V()}}}function _(t){let e,a,s,l,r,f;return s=new A({props:{size:"28"}}),{c(){e=n("div"),a=n("button"),k(s.$$.fragment),this.h()},l(t){e=c(t,"DIV",{class:!0});var n=i(e);a=c(n,"BUTTON",{class:!0});var l=i(a);b(s.$$.fragment,l),l.forEach(o),n.forEach(o),this.h()},h(){h(a,"class","p-5 bg-blueGray-400 text-white shadow bg-white rounded-full"),h(e,"class","fixed bottom-4 right-4 gap-3 items-center inline-flex flex-col")},m(n,c){d(n,e,c),m(e,a),E(s,a,null),l=!0,r||(f=p(a,"click",t[3]),r=!0)},p:w,i(t){l||(v(s.$$.fragment,t),l=!0)},o(t){$(s.$$.fragment,t),l=!1},d(t){t&&o(e),y(s),r=!1,f()}}}function C(t){var e,a;let w,P,j,A,L,N,O,U,B,M,S,Y,J,K,C,H,Q=((null==(e=t[0])?void 0:e.title)||"Pronto!")+"",W=[],X=new Map;j=new s({props:{class:"text-blueGray-600",size:"24"}});let Z=(null==(a=t[0])?void 0:a.checkList.toArray())||[];const tt=t=>t[10]._id;for(let s=0;s<Z.length;s+=1){let e=F(t,Z,s),a=tt(e);X.set(a,W[s]=R(a,e))}let et=t[0]&&_(t);return{c(){w=l(),P=n("button"),k(j.$$.fragment),A=l(),L=n("div"),N=n("p"),O=r(Q),U=l(),B=n("p"),M=l(),S=n("div");for(let t=0;t<W.length;t+=1)W[t].c();Y=l(),et&&et.c(),J=D(),this.h()},l(t){I('[data-svelte="svelte-ihrkqk"]',q.head).forEach(o),w=f(t),P=c(t,"BUTTON",{class:!0});var e=i(P);b(j.$$.fragment,e),e.forEach(o),A=f(t),L=c(t,"DIV",{class:!0});var a=i(L);N=c(a,"P",{class:!0});var s=i(N);O=u(s,Q),s.forEach(o),U=f(a),B=c(a,"P",{class:!0}),i(B).forEach(o),M=f(a),S=c(a,"DIV",{class:!0});var n=i(S);for(let l=0;l<W.length;l+=1)W[l].l(n);n.forEach(o),a.forEach(o),Y=f(t),et&&et.l(t),J=D(),this.h()},h(){q.title="Focus",h(P,"class","fixed text-blueGray-600 top-4 left-4"),h(N,"class","text-bg font-bold text-xl"),h(B,"class","font-light text-sm font-mono text-base whitespace-pre-wrap"),h(S,"class","inline-flex flex-col gap-2 px-4 pt-4 w-full"),h(L,"class","w-full h-full inline-flex flex-col text-blueGray-600 gap-6 p-4 justify-center items-center")},m(e,a){d(e,w,a),d(e,P,a),E(j,P,null),d(e,A,a),d(e,L,a),m(L,N),m(N,O),m(L,U),m(L,B),t[8](B),m(L,M),m(L,S);for(let t=0;t<W.length;t+=1)W[t].m(S,null);d(e,Y,a),et&&et.m(e,a),d(e,J,a),K=!0,C||(H=[p(P,"click",t[2]),p(B,"click",t[5]),p(B,"blur",t[4])],C=!0)},p(t,[e]){var a,s;(!K||1&e)&&Q!==(Q=((null==(a=t[0])?void 0:a.title)||"Pronto!")+"")&&x(O,Q),65&e&&(Z=(null==(s=t[0])?void 0:s.checkList.toArray())||[],z(),W=T(W,e,tt,1,t,Z,X,S,G,R,null,F),g()),t[0]?et?(et.p(t,e),1&e&&v(et,1)):(et=_(t),et.c(),v(et,1),et.m(J.parentNode,J)):et&&(z(),$(et,1,1,(()=>{et=null})),g())},i(t){if(!K){v(j.$$.fragment,t);for(let t=0;t<Z.length;t+=1)v(W[t]);v(et),K=!0}},o(t){$(j.$$.fragment,t);for(let e=0;e<W.length;e+=1)$(W[e]);$(et),K=!1},d(e){e&&o(w),e&&o(P),y(j),e&&o(A),e&&o(L),t[8](null);for(let t=0;t<W.length;t+=1)W[t].d();e&&o(Y),et&&et.d(e),e&&o(J),C=!1,V(H)}}}function H(t,e,a){let s,n,l;P(t,Y,(t=>a(7,s=t))),n&&M(n.set("startedAt",L.utc().toISO()));const r=t=>{M(n.setIn(["checkList",t,"checked"],!n.checkList.get(t).checked))};return t.$$.update=()=>{131&t.$$.dirty&&(a(0,n=s.activities.find((t=>t.state===B.READY.key))),l&&document.activeElement!==l&&a(1,l.innerText=n?n.description||"...":"Nenhuma outra atividade.",l))},[n,l,()=>{window.history.back()},()=>{S(n)},()=>{const t=l.innerText.trim();a(1,l.contentEditable=!1,l),M(n.set("description",t)),t||a(1,l.innerText="...",l)},()=>{n&&document.activeElement!==l&&(a(1,l.innerText=n.description,l),a(1,l.contentEditable=!0,l),l.focus())},r,s,function(t){N[t?"unshift":"push"]((()=>{l=t,a(1,l),a(7,s),a(0,n)}))},t=>r(t)]}export default class extends t{constructor(t){super(),e(this,t,H,C,a,{})}}
