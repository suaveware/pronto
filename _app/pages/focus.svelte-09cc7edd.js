import{S as t,i as e,s as a,ak as s,e as n,k as l,t as r,c,a as i,d as o,n as f,g as u,b as h,f as d,J as m,O as p,u as $,w as g,x as v,h as x,j as k,m as b,o as E,K as w,v as y,l as D,a8 as I,W as T,P as j,a9 as V,al as A,r as P,am as z,a0 as G,D as L,_ as N,an as O,ao as B}from"../chunks/vendor-7f99f88b.js";import{g as S}from"../chunks/navigation-c804b3db.js";import{b as U}from"../chunks/paths-7dc55c62.js";import{A as _,s as q,e as F,c as J}from"../chunks/state-c0af19dc.js";const{document:K}=A;function M(t,e,a){const s=t.slice();return s[10]=e[a],s[12]=a,s}function R(t){let e,a;return e=new O({props:{size:"24"}}),{c(){k(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,s){E(e,t,s),a=!0},i(t){a||(v(e.$$.fragment,t),a=!0)},o(t){$(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function W(t){let e,a;return e=new B({props:{size:"24"}}),{c(){k(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,s){E(e,t,s),a=!0},i(t){a||(v(e.$$.fragment,t),a=!0)},o(t){$(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function Y(t,e){let a,s,k,b,E,w,y,D,I,T,j,V=e[10].name+"";const A=[W,R],z=[];function G(t,e){return t[10].checked?0:1}function L(){return e[9](e[12])}return k=G(e),b=z[k]=A[k](e),{key:t,first:null,c(){a=n("div"),s=n("div"),b.c(),E=l(),w=n("div"),y=r(V),D=l(),this.h()},l(t){a=c(t,"DIV",{class:!0});var e=i(a);s=c(e,"DIV",{});var n=i(s);b.l(n),n.forEach(o),E=f(e),w=c(e,"DIV",{});var l=i(w);y=u(l,V),l.forEach(o),D=f(e),e.forEach(o),this.h()},h(){h(a,"class","inline-flex gap-4 cursor-pointer"),this.first=a},m(t,e){d(t,a,e),m(a,s),z[k].m(s,null),m(a,E),m(a,w),m(w,y),m(a,D),I=!0,T||(j=p(a,"click",L),T=!0)},p(t,a){let n=k;k=G(e=t),k!==n&&(P(),$(z[n],1,1,(()=>{z[n]=null})),g(),b=z[k],b||(b=z[k]=A[k](e),b.c()),v(b,1),b.m(s,null)),(!I||1&a)&&V!==(V=e[10].name+"")&&x(y,V)},i(t){I||(v(b),I=!0)},o(t){$(b),I=!1},d(t){t&&o(a),z[k].d(),T=!1,j()}}}function C(t){let e,a,s,l,r,f;return s=new z({props:{size:"28"}}),{c(){e=n("div"),a=n("button"),k(s.$$.fragment),this.h()},l(t){e=c(t,"DIV",{class:!0});var n=i(e);a=c(n,"BUTTON",{class:!0});var l=i(a);b(s.$$.fragment,l),l.forEach(o),n.forEach(o),this.h()},h(){h(a,"class","p-5 bg-blueGray-400 text-white shadow bg-white rounded-full"),h(e,"class","fixed bottom-4 right-4 gap-3 items-center inline-flex flex-col")},m(n,c){d(n,e,c),m(e,a),E(s,a,null),l=!0,r||(f=p(a,"click",t[3]),r=!0)},p:w,i(t){l||(v(s.$$.fragment,t),l=!0)},o(t){$(s.$$.fragment,t),l=!1},d(t){t&&o(e),y(s),r=!1,f()}}}function H(t){var e,a;let w,V,A,z,L,N,O,B,S,U,_,q,F,J,R,W,H=((null==(e=t[0])?void 0:e.title)||"Pronto!")+"",Q=[],X=new Map;A=new s({props:{class:"text-blueGray-600",size:"24"}});let Z=(null==(a=t[0])?void 0:a.checkList.toArray())||[];const tt=t=>t[10]._id;for(let s=0;s<Z.length;s+=1){let e=M(t,Z,s),a=tt(e);X.set(a,Q[s]=Y(a,e))}let et=t[0]&&C(t);return{c(){w=l(),V=n("button"),k(A.$$.fragment),z=l(),L=n("div"),N=n("p"),O=r(H),B=l(),S=n("p"),U=l(),_=n("div");for(let t=0;t<Q.length;t+=1)Q[t].c();q=l(),et&&et.c(),F=D(),this.h()},l(t){I('[data-svelte="svelte-ihrkqk"]',K.head).forEach(o),w=f(t),V=c(t,"BUTTON",{class:!0});var e=i(V);b(A.$$.fragment,e),e.forEach(o),z=f(t),L=c(t,"DIV",{class:!0});var a=i(L);N=c(a,"P",{class:!0});var s=i(N);O=u(s,H),s.forEach(o),B=f(a),S=c(a,"P",{class:!0}),i(S).forEach(o),U=f(a),_=c(a,"DIV",{class:!0});var n=i(_);for(let l=0;l<Q.length;l+=1)Q[l].l(n);n.forEach(o),a.forEach(o),q=f(t),et&&et.l(t),F=D(),this.h()},h(){K.title="Focus",h(V,"class","fixed text-blueGray-600 top-4 left-4"),h(N,"class","text-bg font-bold text-xl"),h(S,"class","font-light text-sm font-mono text-base whitespace-pre-wrap"),h(_,"class","inline-flex flex-col gap-2 px-4 pt-4 w-full"),h(L,"class","w-full h-full inline-flex flex-col text-blueGray-600 gap-6 p-4 justify-center items-center")},m(e,a){d(e,w,a),d(e,V,a),E(A,V,null),d(e,z,a),d(e,L,a),m(L,N),m(N,O),m(L,B),m(L,S),t[8](S),m(L,U),m(L,_);for(let t=0;t<Q.length;t+=1)Q[t].m(_,null);d(e,q,a),et&&et.m(e,a),d(e,F,a),J=!0,R||(W=[p(V,"click",t[2]),p(S,"click",t[5]),p(S,"blur",t[4])],R=!0)},p(t,[e]){var a,s;(!J||1&e)&&H!==(H=((null==(a=t[0])?void 0:a.title)||"Pronto!")+"")&&x(O,H),65&e&&(Z=(null==(s=t[0])?void 0:s.checkList.toArray())||[],P(),Q=T(Q,e,tt,1,t,Z,X,_,G,Y,null,M),g()),t[0]?et?(et.p(t,e),1&e&&v(et,1)):(et=C(t),et.c(),v(et,1),et.m(F.parentNode,F)):et&&(P(),$(et,1,1,(()=>{et=null})),g())},i(t){if(!J){v(A.$$.fragment,t);for(let t=0;t<Z.length;t+=1)v(Q[t]);v(et),J=!0}},o(t){$(A.$$.fragment,t);for(let e=0;e<Q.length;e+=1)$(Q[e]);$(et),J=!1},d(e){e&&o(w),e&&o(V),y(A),e&&o(z),e&&o(L),t[8](null);for(let t=0;t<Q.length;t+=1)Q[t].d();e&&o(q),et&&et.d(e),e&&o(F),R=!1,j(W)}}}function Q(t,e,a){let s,n,l;V(t,J,(t=>a(7,s=t))),n&&q(n.set("startedAt",L.utc().toISO()));const r=t=>{q(n.setIn(["checkList",t,"checked"],!n.checkList.get(t).checked))};return t.$$.update=()=>{131&t.$$.dirty&&(a(0,n=s.activities.find((t=>t.state===_.READY.key))),l&&document.activeElement!==l&&a(1,l.innerText=n?n.description||"...":"Nenhuma outra atividade.",l))},[n,l,()=>{S(`${U}/`)},()=>{F(n)},()=>{const t=l.innerText.trim();a(1,l.contentEditable=!1,l),q(n.set("description",t)),t||a(1,l.innerText="...",l)},()=>{n&&document.activeElement!==l&&(a(1,l.innerText=n.description,l),a(1,l.contentEditable=!0,l),l.focus())},r,s,function(t){N[t?"unshift":"push"]((()=>{l=t,a(1,l),a(7,s),a(0,n)}))},t=>r(t)]}export default class extends t{constructor(t){super(),e(this,t,Q,H,a,{})}}
