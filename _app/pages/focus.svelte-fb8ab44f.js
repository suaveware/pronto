import{S as t,i as e,s as a,ao as n,e as s,k as l,t as r,c,a as o,d as i,n as f,g as u,b as $,f as m,K as d,N as h,a5 as p,u as g,w as v,x as k,h as x,j as w,m as b,o as E,v as y,ac as D,Z as I,Q as V,F as A,A as T,ap as L,aq as j,r as F,ar as P,as as q,M as z,a3 as N,V as R,a6 as S,at as Y}from"../chunks/vendor-9e23095b.js";import{d as J,e as M,g as B,b as C,s as K}from"../chunks/state-b71a4335.js";import{F as O,a as Q}from"../chunks/FabContainer-2b8c9ead.js";const{document:U}=j;function Z(t,e,a){const n=t.slice();return n[14]=e[a],n[16]=a,n}function _(t){let e,a;return e=new S({props:{size:"24"}}),{c(){w(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,n){E(e,t,n),a=!0},i(t){a||(k(e.$$.fragment,t),a=!0)},o(t){g(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function G(t){let e,a;return e=new Y({props:{size:"24"}}),{c(){w(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,n){E(e,t,n),a=!0},i(t){a||(k(e.$$.fragment,t),a=!0)},o(t){g(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function H(t,e){let a,n,w,b,E,y,D,I,V,A,T,L=e[14].name+"";const j=[G,_],P=[];function q(t,e){return t[14].checked?0:1}function z(){return e[11](e[16])}return w=q(e),b=P[w]=j[w](e),{key:t,first:null,c(){a=s("div"),n=s("div"),b.c(),E=l(),y=s("div"),D=r(L),I=l(),this.h()},l(t){a=c(t,"DIV",{class:!0});var e=o(a);n=c(e,"DIV",{});var s=o(n);b.l(s),s.forEach(i),E=f(e),y=c(e,"DIV",{});var l=o(y);D=u(l,L),l.forEach(i),I=f(e),e.forEach(i),this.h()},h(){$(a,"class","inline-flex items-center gap-4 cursor-pointer"),this.first=a},m(t,e){m(t,a,e),d(a,n),P[w].m(n,null),d(a,E),d(a,y),d(y,D),d(a,I),V=!0,A||(T=h(a,"click",p(z)),A=!0)},p(t,a){let s=w;w=q(e=t),w!==s&&(F(),g(P[s],1,1,(()=>{P[s]=null})),v(),b=P[w],b||(b=P[w]=j[w](e),b.c()),k(b,1),b.m(n,null)),(!V||1&a)&&L!==(L=e[14].name+"")&&x(D,L)},i(t){V||(k(b),V=!0)},o(t){g(b),V=!1},d(t){t&&i(a),P[w].d(),A=!1,T()}}}function W(t){let e,a;return e=new O({props:{$$slots:{default:[X]},$$scope:{ctx:t}}}),{c(){w(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,n){E(e,t,n),a=!0},p(t,a){const n={};131072&a&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){a||(k(e.$$.fragment,t),a=!0)},o(t){g(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function X(t){let e,a,n,s;return e=new Q({props:{small:!0,icon:P}}),e.$on("click",t[4]),n=new Q({props:{icon:q}}),n.$on("click",t[3]),{c(){w(e.$$.fragment),a=l(),w(n.$$.fragment)},l(t){b(e.$$.fragment,t),a=f(t),b(n.$$.fragment,t)},m(t,l){E(e,t,l),m(t,a,l),E(n,t,l),s=!0},p:z,i(t){s||(k(e.$$.fragment,t),k(n.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),g(n.$$.fragment,t),s=!1},d(t){y(e,t),t&&i(a),y(n,t)}}}function tt(t){var e,a;let A,T,L,j,P,q,z,R,S,Y,J,M,B,C,K,O,Q,_,G=((null==(e=t[0])?void 0:e.title)||"Pronto!")+"",X=[],tt=new Map;P=new n({props:{size:"24"}});let et=(null==(a=t[0])?void 0:a.checkList.toArray())||[];const at=t=>t[14]._id;for(let n=0;n<et.length;n+=1){let e=Z(t,et,n),a=at(e);tt.set(a,X[n]=H(a,e))}let nt=t[0]&&W(t);return{c(){A=l(),T=s("div"),L=s("div"),j=s("button"),w(P.$$.fragment),q=l(),z=s("div"),R=s("p"),S=r(G),Y=l(),J=s("p"),M=r(""),B=l(),C=s("div");for(let t=0;t<X.length;t+=1)X[t].c();K=l(),nt&&nt.c(),this.h()},l(t){D('[data-svelte="svelte-ihrkqk"]',U.head).forEach(i),A=f(t),T=c(t,"DIV",{class:!0});var e=o(T);L=c(e,"DIV",{class:!0});var a=o(L);j=c(a,"BUTTON",{});var n=o(j);b(P.$$.fragment,n),n.forEach(i),a.forEach(i),q=f(e),z=c(e,"DIV",{class:!0});var s=o(z);R=c(s,"P",{class:!0});var l=o(R);S=u(l,G),l.forEach(i),Y=f(s),J=c(s,"P",{class:!0});var r=o(J);M=u(r,""),r.forEach(i),B=f(s),C=c(s,"DIV",{class:!0});var $=o(C);for(let c=0;c<X.length;c+=1)X[c].l($);$.forEach(i),s.forEach(i),K=f(e),nt&&nt.l(e),e.forEach(i),this.h()},h(){U.title="Focus",$(L,"class","inline-flex relative items-center w-ful p-4"),$(R,"class","text-bg font-bold text-xl"),$(J,"class","font-light font-mono whitespace-pre-wrap"),$(C,"class","inline-flex flex-col gap-2 px-4 pt-4 w-full"),$(z,"class","text-accent w-full inline-flex my-auto box-border flex-col overflow-y-scroll gap-6 p-4 items-center"),$(T,"class","bg-base-100 text-base-content inline-flex flex-col h-full w-full")},m(e,a){m(e,A,a),m(e,T,a),d(T,L),d(L,j),E(P,j,null),d(T,q),d(T,z),d(z,R),d(R,S),d(z,Y),d(z,J),d(J,M),t[10](J),d(z,B),d(z,C);for(let t=0;t<X.length;t+=1)X[t].m(C,null);d(T,K),nt&&nt.m(T,null),O=!0,Q||(_=[h(j,"click",t[2]),h(J,"click",p(t[6])),h(J,"blur",t[5]),h(T,"click",t[7])],Q=!0)},p(t,[e]){var a,n;(!O||1&e)&&G!==(G=((null==(a=t[0])?void 0:a.title)||"Pronto!")+"")&&x(S,G),257&e&&(et=(null==(n=t[0])?void 0:n.checkList.toArray())||[],F(),X=I(X,e,at,1,t,et,tt,C,N,H,null,Z),v()),t[0]?nt?(nt.p(t,e),1&e&&k(nt,1)):(nt=W(t),nt.c(),k(nt,1),nt.m(T,null)):nt&&(F(),g(nt,1,1,(()=>{nt=null})),v())},i(t){if(!O){k(P.$$.fragment,t);for(let t=0;t<et.length;t+=1)k(X[t]);k(nt),O=!0}},o(t){g(P.$$.fragment,t);for(let e=0;e<X.length;e+=1)g(X[e]);g(nt),O=!1},d(e){e&&i(A),e&&i(T),y(P),t[10](null);for(let t=0;t<X.length;t+=1)X[t].d();nt&&nt.d(),Q=!1,V(_)}}}function et(t,e,a){let n;A(t,K,(t=>a(9,n=t)));let s,l,r=null,c=!1;T((()=>{var t;r=null==(t=navigator.wakeLock)?void 0:t.request()})),L((()=>{null==r||r.release()}));const o=t=>{C(s.setIn(["checkList",t,"checked"],!s.checkList.get(t).checked))};return t.$$.update=()=>{512&t.$$.dirty&&a(0,s=n.activities.find((t=>t.state===J.READY.key))),3&t.$$.dirty&&l&&document.activeElement!==l&&a(1,l.innerText=s?(null==s?void 0:s.description)||"...":"Nenhuma outra atividade",l)},[s,l,()=>{window.history.back()},()=>{M(s)},()=>{const t=n.activities.toJS().filter((({state:t})=>t===J.READY.key)),e=n.activities.toJS().filter((({state:t})=>t!==J.READY.key));if(t.length>1){const[a,n,...s]=t,l=[n,a,...s,...e];B(l)}},()=>{const t=l.innerText.trim();a(1,l.contentEditable=!1,l),C(s.set("description",t)),console.log("newDescription",t),t||a(1,l.innerText="...",l),c=!0},()=>{s&&document.activeElement!==l&&(a(1,l.innerText=s.description,l),a(1,l.contentEditable=!0,l),l.focus())},()=>{c&&(c=!1)},o,n,function(t){R[t?"unshift":"push"]((()=>{l=t,a(1,l),a(0,s),a(9,n)}))},t=>o(t)]}export default class extends t{constructor(t){super(),e(this,t,et,tt,a,{})}}
