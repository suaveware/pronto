import{S as t,i as e,s as n,ao as a,e as s,k as l,t as r,c,a as o,d as i,n as f,g as u,b as $,f as m,H as d,J as h,a0 as p,u as g,w as v,x as k,h as x,j as w,m as E,o as b,v as y,E as D,T as I,M as T,a7 as A,A as V,ap as L,aq as P,r as j,ar as N,as as q,I as z,_ as C,P as F,a1 as J,at as R}from"../chunks/vendor-1875a1a5.js";import{T as S,F as Y,d as M,c as _,b as B,s as H,e as O}from"../chunks/FabContainer-67db6cab.js";import{A as U}from"../chunks/tick-f1af8690.js";const{document:G}=P;function K(t,e,n){const a=t.slice();return a[16]=e[n],a[18]=n,a}function Q(t){let e,n;return e=new J({props:{size:"24"}}),{c(){w(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,a){b(e,t,a),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function W(t){let e,n;return e=new R({props:{size:"24"}}),{c(){w(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,a){b(e,t,a),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function X(t,e){let n,a,w,E,b,y,D,I,T,A,V,L=e[16].name+"";const P=[W,Q],N=[];function q(t,e){return t[16].checked?0:1}function z(){return e[12](e[18])}return w=q(e),E=N[w]=P[w](e),{key:t,first:null,c(){n=s("div"),a=s("div"),E.c(),b=l(),y=s("div"),D=r(L),I=l(),this.h()},l(t){n=c(t,"DIV",{class:!0});var e=o(n);a=c(e,"DIV",{});var s=o(a);E.l(s),s.forEach(i),b=f(e),y=c(e,"DIV",{});var l=o(y);D=u(l,L),l.forEach(i),I=f(e),e.forEach(i),this.h()},h(){$(n,"class","inline-flex items-center gap-4 cursor-pointer"),this.first=n},m(t,e){m(t,n,e),d(n,a),N[w].m(a,null),d(n,b),d(n,y),d(y,D),d(n,I),T=!0,A||(V=h(n,"click",p(z)),A=!0)},p(t,n){let s=w;w=q(e=t),w!==s&&(j(),g(N[s],1,1,(()=>{N[s]=null})),v(),E=N[w],E||(E=N[w]=P[w](e),E.c()),k(E,1),E.m(a,null)),(!T||1&n)&&L!==(L=e[16].name+"")&&x(D,L)},i(t){T||(k(E),T=!0)},o(t){g(E),T=!1},d(t){t&&i(n),N[w].d(),A=!1,V()}}}function Z(t){let e,n;return e=new Y({props:{$$slots:{default:[tt]},$$scope:{ctx:t}}}),{c(){w(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,a){b(e,t,a),n=!0},p(t,n){const a={};524288&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function tt(t){let e,n,a,s;return e=new M({props:{small:!0,icon:N}}),e.$on("click",t[5]),a=new M({props:{icon:q}}),a.$on("click",t[4]),{c(){w(e.$$.fragment),n=l(),w(a.$$.fragment)},l(t){E(e.$$.fragment,t),n=f(t),E(a.$$.fragment,t)},m(t,l){b(e,t,l),m(t,n,l),b(a,t,l),s=!0},p:z,i(t){s||(k(e.$$.fragment,t),k(a.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),g(a.$$.fragment,t),s=!1},d(t){y(e,t),t&&i(n),y(a,t)}}}function et(t){var e,n;let A,V,L,P,N,q,z,F,J,R,Y,M,_,B,H,O,U,Q,W,tt,et=((null==(e=t[0])?void 0:e.title)||"Pronto!")+"",nt=[],at=new Map;A=new S({props:{themeColoredNode:t[2]}}),z=new a({props:{size:"24"}});let st=(null==(n=t[0])?void 0:n.checkList.toArray())||[];const lt=t=>t[16]._id;for(let a=0;a<st.length;a+=1){let e=K(t,st,a),n=lt(e);at.set(n,nt[a]=X(n,e))}let rt=t[0]&&Z(t);return{c(){w(A.$$.fragment),V=l(),L=l(),P=s("div"),N=s("div"),q=s("button"),w(z.$$.fragment),F=l(),J=s("div"),R=s("p"),Y=r(et),M=l(),_=s("p"),B=r(""),H=l(),O=s("div");for(let t=0;t<nt.length;t+=1)nt[t].c();U=l(),rt&&rt.c(),this.h()},l(t){E(A.$$.fragment,t),V=f(t);D('[data-svelte="svelte-ihrkqk"]',G.head).forEach(i),L=f(t),P=c(t,"DIV",{class:!0});var e=o(P);N=c(e,"DIV",{class:!0});var n=o(N);q=c(n,"BUTTON",{});var a=o(q);E(z.$$.fragment,a),a.forEach(i),n.forEach(i),F=f(e),J=c(e,"DIV",{class:!0});var s=o(J);R=c(s,"P",{class:!0});var l=o(R);Y=u(l,et),l.forEach(i),M=f(s),_=c(s,"P",{class:!0});var r=o(_);B=u(r,""),r.forEach(i),H=f(s),O=c(s,"DIV",{class:!0});var $=o(O);for(let c=0;c<nt.length;c+=1)nt[c].l($);$.forEach(i),s.forEach(i),U=f(e),rt&&rt.l(e),e.forEach(i),this.h()},h(){G.title="Focus",$(N,"class","inline-flex relative items-center w-ful p-4"),$(R,"class","text-bg font-bold text-xl"),$(_,"class","font-light font-mono whitespace-pre-wrap"),$(O,"class","inline-flex flex-col gap-2 px-4 pt-4 w-full"),$(J,"class","text-accent w-full inline-flex my-auto box-border flex-col overflow-y-scroll gap-6 p-4 items-center"),$(P,"class","bg-base-100 text-base-content inline-flex flex-col h-full w-full")},m(e,n){b(A,e,n),m(e,V,n),m(e,L,n),m(e,P,n),d(P,N),d(N,q),b(z,q,null),d(P,F),d(P,J),d(J,R),d(R,Y),d(J,M),d(J,_),d(_,B),t[11](_),d(J,H),d(J,O);for(let t=0;t<nt.length;t+=1)nt[t].m(O,null);d(P,U),rt&&rt.m(P,null),t[13](P),Q=!0,W||(tt=[h(q,"click",t[3]),h(_,"click",p(t[7])),h(_,"blur",t[6]),h(P,"click",t[8])],W=!0)},p(t,[e]){var n,a;const s={};4&e&&(s.themeColoredNode=t[2]),A.$set(s),(!Q||1&e)&&et!==(et=((null==(n=t[0])?void 0:n.title)||"Pronto!")+"")&&x(Y,et),513&e&&(st=(null==(a=t[0])?void 0:a.checkList.toArray())||[],j(),nt=I(nt,e,lt,1,t,st,at,O,C,X,null,K),v()),t[0]?rt?(rt.p(t,e),1&e&&k(rt,1)):(rt=Z(t),rt.c(),k(rt,1),rt.m(P,null)):rt&&(j(),g(rt,1,1,(()=>{rt=null})),v())},i(t){if(!Q){k(A.$$.fragment,t),k(z.$$.fragment,t);for(let t=0;t<st.length;t+=1)k(nt[t]);k(rt),Q=!0}},o(t){g(A.$$.fragment,t),g(z.$$.fragment,t);for(let e=0;e<nt.length;e+=1)g(nt[e]);g(rt),Q=!1},d(e){y(A,e),e&&i(V),e&&i(L),e&&i(P),y(z),t[11](null);for(let t=0;t<nt.length;t+=1)nt[t].d();rt&&rt.d(),t[13](null),W=!1,T(tt)}}}function nt(t,e,n){let a;A(t,O,(t=>n(10,a=t)));let s,l,r=null,c=null,o=!1;V((()=>{var t;c=null==(t=navigator.wakeLock)?void 0:t.request()})),L((()=>{null==c||c.release()}));const i=t=>{H(s.setIn(["checkList",t,"checked"],!s.checkList.get(t).checked))};return t.$$.update=()=>{1024&t.$$.dirty&&n(0,s=a.activities.find((t=>t.state===U.READY.key))),3&t.$$.dirty&&l&&document.activeElement!==l&&n(1,l.innerText=s?(null==s?void 0:s.description)||"...":"Nenhuma outra atividade",l)},[s,l,r,()=>{window.history.back()},()=>{_(s)},()=>{const t=a.activities.toJS().filter((({state:t})=>t===U.READY.key)),e=a.activities.toJS().filter((({state:t})=>t!==U.READY.key));if(t.length>1){const[n,a,...s]=t,l=[a,n,...s,...e];B(l)}},()=>{const t=l.innerText.trim();n(1,l.contentEditable=!1,l),H(s.set("description",t)),console.log("newDescription",t),t||n(1,l.innerText="...",l),o=!0},()=>{s&&document.activeElement!==l&&(n(1,l.innerText=s.description,l),n(1,l.contentEditable=!0,l),l.focus())},()=>{o&&(o=!1)},i,a,function(t){F[t?"unshift":"push"]((()=>{l=t,n(1,l),n(0,s),n(10,a)}))},t=>i(t),function(t){F[t?"unshift":"push"]((()=>{r=t,n(2,r)}))}]}export default class extends t{constructor(t){super(),e(this,t,nt,et,n,{})}}
