import{S as e,i as t,s as n,ao as a,e as s,k as l,t as r,c,a as o,d as i,n as f,g as u,b as $,f as m,H as d,J as h,a0 as p,u as g,w as v,x as k,h as x,j as w,m as E,o as b,v as y,E as D,T as I,M as T,a6 as A,A as V,ap as L,aq as P,r as j,ar as N,as as S,I as q,_ as z,P as C,at as F,au as J}from"../chunks/vendor-a4282cea.js";import{T as R,F as Y,e as M,c as _,d as B,s as H,f as O}from"../chunks/FabContainer-d9f022b7.js";import{A as U}from"../chunks/tick-e416fa57.js";const{document:G}=P;function K(e,t,n){const a=e.slice();return a[16]=t[n],a[18]=n,a}function Q(e){let t,n;return t=new F({props:{size:"24"}}),{c(){w(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,a){b(t,e,a),n=!0},i(e){n||(k(t.$$.fragment,e),n=!0)},o(e){g(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function W(e){let t,n;return t=new J({props:{size:"24"}}),{c(){w(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,a){b(t,e,a),n=!0},i(e){n||(k(t.$$.fragment,e),n=!0)},o(e){g(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function X(e,t){let n,a,w,E,b,y,D,I,T,A,V,L=t[16].name+"";const P=[W,Q],N=[];function S(e,t){return e[16].checked?0:1}function q(){return t[12](t[18])}return w=S(t),E=N[w]=P[w](t),{key:e,first:null,c(){n=s("div"),a=s("div"),E.c(),b=l(),y=s("div"),D=r(L),I=l(),this.h()},l(e){n=c(e,"DIV",{class:!0});var t=o(n);a=c(t,"DIV",{});var s=o(a);E.l(s),s.forEach(i),b=f(t),y=c(t,"DIV",{});var l=o(y);D=u(l,L),l.forEach(i),I=f(t),t.forEach(i),this.h()},h(){$(n,"class","inline-flex items-center gap-4 cursor-pointer"),this.first=n},m(e,t){m(e,n,t),d(n,a),N[w].m(a,null),d(n,b),d(n,y),d(y,D),d(n,I),T=!0,A||(V=h(n,"click",p(q)),A=!0)},p(e,n){let s=w;w=S(t=e),w!==s&&(j(),g(N[s],1,1,(()=>{N[s]=null})),v(),E=N[w],E||(E=N[w]=P[w](t),E.c()),k(E,1),E.m(a,null)),(!T||1&n)&&L!==(L=t[16].name+"")&&x(D,L)},i(e){T||(k(E),T=!0)},o(e){g(E),T=!1},d(e){e&&i(n),N[w].d(),A=!1,V()}}}function Z(e){let t,n;return t=new Y({props:{$$slots:{default:[ee]},$$scope:{ctx:e}}}),{c(){w(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,a){b(t,e,a),n=!0},p(e,n){const a={};524288&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a)},i(e){n||(k(t.$$.fragment,e),n=!0)},o(e){g(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function ee(e){let t,n,a,s;return t=new M({props:{small:!0,icon:N}}),t.$on("click",e[5]),a=new M({props:{icon:S}}),a.$on("click",e[4]),{c(){w(t.$$.fragment),n=l(),w(a.$$.fragment)},l(e){E(t.$$.fragment,e),n=f(e),E(a.$$.fragment,e)},m(e,l){b(t,e,l),m(e,n,l),b(a,e,l),s=!0},p:q,i(e){s||(k(t.$$.fragment,e),k(a.$$.fragment,e),s=!0)},o(e){g(t.$$.fragment,e),g(a.$$.fragment,e),s=!1},d(e){y(t,e),e&&i(n),y(a,e)}}}function te(e){var t,n;let A,V,L,P,N,S,q,C,F,J,Y,M,_,B,H,O,U,Q,W,ee,te=((null==(t=e[0])?void 0:t.title)||"Pronto!")+"",ne=[],ae=new Map;A=new R({props:{themeColoredNode:e[2]}}),q=new a({props:{size:"24"}});let se=(null==(n=e[0])?void 0:n.checkList.toArray())||[];const le=e=>e[16]._id;for(let a=0;a<se.length;a+=1){let t=K(e,se,a),n=le(t);ae.set(n,ne[a]=X(n,t))}let re=e[0]&&Z(e);return{c(){w(A.$$.fragment),V=l(),L=l(),P=s("div"),N=s("div"),S=s("button"),w(q.$$.fragment),C=l(),F=s("div"),J=s("p"),Y=r(te),M=l(),_=s("p"),B=r(""),H=l(),O=s("div");for(let e=0;e<ne.length;e+=1)ne[e].c();U=l(),re&&re.c(),this.h()},l(e){E(A.$$.fragment,e),V=f(e);D('[data-svelte="svelte-ihrkqk"]',G.head).forEach(i),L=f(e),P=c(e,"DIV",{class:!0});var t=o(P);N=c(t,"DIV",{class:!0});var n=o(N);S=c(n,"BUTTON",{});var a=o(S);E(q.$$.fragment,a),a.forEach(i),n.forEach(i),C=f(t),F=c(t,"DIV",{class:!0});var s=o(F);J=c(s,"P",{class:!0});var l=o(J);Y=u(l,te),l.forEach(i),M=f(s),_=c(s,"P",{class:!0});var r=o(_);B=u(r,""),r.forEach(i),H=f(s),O=c(s,"DIV",{class:!0});var $=o(O);for(let c=0;c<ne.length;c+=1)ne[c].l($);$.forEach(i),s.forEach(i),U=f(t),re&&re.l(t),t.forEach(i),this.h()},h(){G.title="Focus",$(N,"class","inline-flex relative items-center w-ful p-4"),$(J,"class","text-bg font-bold text-xl"),$(_,"class","font-light font-mono whitespace-pre-wrap"),$(O,"class","inline-flex flex-col gap-2 px-4 pt-4 w-full"),$(F,"class","text-accent w-full inline-flex my-auto box-border flex-col overflow-y-scroll gap-6 p-4 items-center"),$(P,"class","bg-base-100 text-base-content inline-flex flex-col h-full w-full")},m(t,n){b(A,t,n),m(t,V,n),m(t,L,n),m(t,P,n),d(P,N),d(N,S),b(q,S,null),d(P,C),d(P,F),d(F,J),d(J,Y),d(F,M),d(F,_),d(_,B),e[11](_),d(F,H),d(F,O);for(let e=0;e<ne.length;e+=1)ne[e].m(O,null);d(P,U),re&&re.m(P,null),e[13](P),Q=!0,W||(ee=[h(S,"click",e[3]),h(_,"click",p(e[7])),h(_,"blur",e[6]),h(P,"click",e[8])],W=!0)},p(e,[t]){var n,a;const s={};4&t&&(s.themeColoredNode=e[2]),A.$set(s),(!Q||1&t)&&te!==(te=((null==(n=e[0])?void 0:n.title)||"Pronto!")+"")&&x(Y,te),513&t&&(se=(null==(a=e[0])?void 0:a.checkList.toArray())||[],j(),ne=I(ne,t,le,1,e,se,ae,O,z,X,null,K),v()),e[0]?re?(re.p(e,t),1&t&&k(re,1)):(re=Z(e),re.c(),k(re,1),re.m(P,null)):re&&(j(),g(re,1,1,(()=>{re=null})),v())},i(e){if(!Q){k(A.$$.fragment,e),k(q.$$.fragment,e);for(let e=0;e<se.length;e+=1)k(ne[e]);k(re),Q=!0}},o(e){g(A.$$.fragment,e),g(q.$$.fragment,e);for(let t=0;t<ne.length;t+=1)g(ne[t]);g(re),Q=!1},d(t){y(A,t),t&&i(V),t&&i(L),t&&i(P),y(q),e[11](null);for(let e=0;e<ne.length;e+=1)ne[e].d();re&&re.d(),e[13](null),W=!1,T(ee)}}}function ne(e,t,n){let a;A(e,O,(e=>n(10,a=e)));let s,l,r=null,c=null,o=!1;V((async()=>{var e;c=await(null==(e=navigator.wakeLock)?void 0:e.request())})),L((()=>{console.log("wakeLockSentinel",c),null==c||c.release()}));const i=e=>{H(s.setIn(["checkList",e,"checked"],!s.checkList.get(e).checked))};return e.$$.update=()=>{1024&e.$$.dirty&&n(0,s=a.activities.find((e=>e.state===U.READY.key))),3&e.$$.dirty&&l&&document.activeElement!==l&&n(1,l.innerText=s?(null==s?void 0:s.description)||"...":"Nenhuma outra atividade",l)},[s,l,r,()=>{window.history.back()},()=>{_(s)},()=>{const e=a.activities.toJS().filter((({state:e})=>e===U.READY.key)),t=a.activities.toJS().filter((({state:e})=>e!==U.READY.key));if(e.length>1){const[n,a,...s]=e,l=[a,n,...s,...t];B(l)}},()=>{const e=l.innerText.trim();n(1,l.contentEditable=!1,l),H(s.set("description",e)),console.log("newDescription",e),e||n(1,l.innerText="...",l),o=!0},()=>{s&&document.activeElement!==l&&(n(1,l.innerText=s.description,l),n(1,l.contentEditable=!0,l),l.focus())},()=>{o&&(o=!1)},i,a,function(e){C[e?"unshift":"push"]((()=>{l=e,n(1,l),n(0,s),n(10,a)}))},e=>i(e),function(e){C[e?"unshift":"push"]((()=>{r=e,n(2,r)}))}]}export default class extends e{constructor(e){super(),t(this,e,ne,te,n,{})}}
