import{S as e,i as t,s as n,W as a,a2 as s,ao as l,e as r,k as o,t as c,c as i,a as f,d as u,n as $,g as m,b as d,f as h,M as p,O as g,a6 as v,u as k,w as x,x as w,h as E,j as b,m as y,o as D,v as T,E as I,a3 as V,_ as A,T as N,G as C,A as L,ap as j,aq as P,r as q,ar as z,as as R,N as S,a4 as Y,a7 as F,at as J}from"../chunks/vendor-90cda898.js";import{d as M,e as O,g as _,b as B,s as G}from"../chunks/state-d0752e44.js";import{T as U,F as W,a as H}from"../chunks/ThemeColorChanger-97bd5090.js";const{document:K}=P;function Q(e,t,n){const a=e.slice();return a[17]=t[n],a[19]=n,a}function X(e){let t,n;return t=new F({props:{size:"24"}}),{c(){b(t.$$.fragment)},l(e){y(t.$$.fragment,e)},m(e,a){D(t,e,a),n=!0},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){k(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Z(e){let t,n;return t=new J({props:{size:"24"}}),{c(){b(t.$$.fragment)},l(e){y(t.$$.fragment,e)},m(e,a){D(t,e,a),n=!0},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){k(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function ee(e,t){let n,a,s,l,b,y,D,T,I,V,A,N=t[17].name+"";const C=[Z,X],L=[];function j(e,t){return e[17].checked?0:1}function P(){return t[13](t[19])}return s=j(t),l=L[s]=C[s](t),{key:e,first:null,c(){n=r("div"),a=r("div"),l.c(),b=o(),y=r("div"),D=c(N),T=o(),this.h()},l(e){n=i(e,"DIV",{class:!0});var t=f(n);a=i(t,"DIV",{});var s=f(a);l.l(s),s.forEach(u),b=$(t),y=i(t,"DIV",{});var r=f(y);D=m(r,N),r.forEach(u),T=$(t),t.forEach(u),this.h()},h(){d(n,"class","inline-flex items-center gap-4 cursor-pointer"),this.first=n},m(e,t){h(e,n,t),p(n,a),L[s].m(a,null),p(n,b),p(n,y),p(y,D),p(n,T),I=!0,V||(A=g(n,"click",v(P)),V=!0)},p(e,n){let r=s;s=j(t=e),s!==r&&(q(),k(L[r],1,1,(()=>{L[r]=null})),x(),l=L[s],l||(l=L[s]=C[s](t),l.c()),w(l,1),l.m(a,null)),(!I||1&n)&&N!==(N=t[17].name+"")&&E(D,N)},i(e){I||(w(l),I=!0)},o(e){k(l),I=!1},d(e){e&&u(n),L[s].d(),V=!1,A()}}}function te(e){let t,n;return t=new W({props:{$$slots:{default:[ne]},$$scope:{ctx:e}}}),{c(){b(t.$$.fragment)},l(e){y(t.$$.fragment,e)},m(e,a){D(t,e,a),n=!0},p(e,n){const a={};1048576&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){k(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function ne(e){let t,n,a,s;return t=new H({props:{small:!0,icon:z}}),t.$on("click",e[5]),a=new H({props:{icon:R}}),a.$on("click",e[4]),{c(){b(t.$$.fragment),n=o(),b(a.$$.fragment)},l(e){y(t.$$.fragment,e),n=$(e),y(a.$$.fragment,e)},m(e,l){D(t,e,l),h(e,n,l),D(a,e,l),s=!0},p:S,i(e){s||(w(t.$$.fragment,e),w(a.$$.fragment,e),s=!0)},o(e){k(t.$$.fragment,e),k(a.$$.fragment,e),s=!1},d(e){T(t,e),e&&u(n),T(a,e)}}}function ae(e){var t,n;let C,L,j,P,z,R,S,F,J,M,O,_,B,G,W,H,X,Z,ne,ae,se,le=((null==(t=e[0])?void 0:t.title)||"Pronto!")+"",re=[],oe=new Map;function ce(t){e[11](t)}let ie={};void 0!==e[2]&&(ie.themeColoredNode=e[2]),C=new U({props:ie}),a.push((()=>s(C,"themeColoredNode",ce))),F=new l({props:{size:"24"}});let fe=(null==(n=e[0])?void 0:n.checkList.toArray())||[];const ue=e=>e[17]._id;for(let a=0;a<fe.length;a+=1){let t=Q(e,fe,a),n=ue(t);oe.set(n,re[a]=ee(n,t))}let $e=e[0]&&te(e);return{c(){b(C.$$.fragment),j=o(),P=o(),z=r("div"),R=r("div"),S=r("button"),b(F.$$.fragment),J=o(),M=r("div"),O=r("p"),_=c(le),B=o(),G=r("p"),W=c(""),H=o(),X=r("div");for(let e=0;e<re.length;e+=1)re[e].c();Z=o(),$e&&$e.c(),this.h()},l(e){y(C.$$.fragment,e),j=$(e);I('[data-svelte="svelte-ihrkqk"]',K.head).forEach(u),P=$(e),z=i(e,"DIV",{class:!0});var t=f(z);R=i(t,"DIV",{class:!0});var n=f(R);S=i(n,"BUTTON",{});var a=f(S);y(F.$$.fragment,a),a.forEach(u),n.forEach(u),J=$(t),M=i(t,"DIV",{class:!0});var s=f(M);O=i(s,"P",{class:!0});var l=f(O);_=m(l,le),l.forEach(u),B=$(s),G=i(s,"P",{class:!0});var r=f(G);W=m(r,""),r.forEach(u),H=$(s),X=i(s,"DIV",{class:!0});var o=f(X);for(let c=0;c<re.length;c+=1)re[c].l(o);o.forEach(u),s.forEach(u),Z=$(t),$e&&$e.l(t),t.forEach(u),this.h()},h(){K.title="Focus",d(R,"class","inline-flex relative items-center w-ful p-4"),d(O,"class","text-bg font-bold text-xl"),d(G,"class","font-light font-mono whitespace-pre-wrap"),d(X,"class","inline-flex flex-col gap-2 px-4 pt-4 w-full"),d(M,"class","text-accent w-full inline-flex my-auto box-border flex-col overflow-y-scroll gap-6 p-4 items-center"),d(z,"class","bg-base-100 text-base-content inline-flex flex-col h-full w-full")},m(t,n){D(C,t,n),h(t,j,n),h(t,P,n),h(t,z,n),p(z,R),p(R,S),D(F,S,null),p(z,J),p(z,M),p(M,O),p(O,_),p(M,B),p(M,G),p(G,W),e[12](G),p(M,H),p(M,X);for(let e=0;e<re.length;e+=1)re[e].m(X,null);p(z,Z),$e&&$e.m(z,null),e[14](z),ne=!0,ae||(se=[g(S,"click",e[3]),g(G,"click",v(e[7])),g(G,"blur",e[6]),g(z,"click",e[8])],ae=!0)},p(e,[t]){var n,a;const s={};!L&&4&t&&(L=!0,s.themeColoredNode=e[2],V((()=>L=!1))),C.$set(s),(!ne||1&t)&&le!==(le=((null==(n=e[0])?void 0:n.title)||"Pronto!")+"")&&E(_,le),513&t&&(fe=(null==(a=e[0])?void 0:a.checkList.toArray())||[],q(),re=A(re,t,ue,1,e,fe,oe,X,Y,ee,null,Q),x()),e[0]?$e?($e.p(e,t),1&t&&w($e,1)):($e=te(e),$e.c(),w($e,1),$e.m(z,null)):$e&&(q(),k($e,1,1,(()=>{$e=null})),x())},i(e){if(!ne){w(C.$$.fragment,e),w(F.$$.fragment,e);for(let e=0;e<fe.length;e+=1)w(re[e]);w($e),ne=!0}},o(e){k(C.$$.fragment,e),k(F.$$.fragment,e);for(let t=0;t<re.length;t+=1)k(re[t]);k($e),ne=!1},d(t){T(C,t),t&&u(j),t&&u(P),t&&u(z),T(F),e[12](null);for(let e=0;e<re.length;e+=1)re[e].d();$e&&$e.d(),e[14](null),ae=!1,N(se)}}}function se(e,t,n){let s;C(e,G,(e=>n(10,s=e)));let l,r,o=null,c=null,i=!1;L((()=>{var e;c=null==(e=navigator.wakeLock)?void 0:e.request()})),j((()=>{null==c||c.release()}));const f=e=>{B(l.setIn(["checkList",e,"checked"],!l.checkList.get(e).checked))};return e.$$.update=()=>{1024&e.$$.dirty&&n(0,l=s.activities.find((e=>e.state===M.READY.key))),3&e.$$.dirty&&r&&document.activeElement!==r&&n(1,r.innerText=l?(null==l?void 0:l.description)||"...":"Nenhuma outra atividade",r)},[l,r,o,()=>{window.history.back()},()=>{O(l)},()=>{const e=s.activities.toJS().filter((({state:e})=>e===M.READY.key)),t=s.activities.toJS().filter((({state:e})=>e!==M.READY.key));if(e.length>1){const[n,a,...s]=e,l=[a,n,...s,...t];_(l)}},()=>{const e=r.innerText.trim();n(1,r.contentEditable=!1,r),B(l.set("description",e)),console.log("newDescription",e),e||n(1,r.innerText="...",r),i=!0},()=>{l&&document.activeElement!==r&&(n(1,r.innerText=l.description,r),n(1,r.contentEditable=!0,r),r.focus())},()=>{i&&(i=!1)},f,s,function(e){o=e,n(2,o)},function(e){a[e?"unshift":"push"]((()=>{r=e,n(1,r),n(0,l),n(10,s)}))},e=>f(e),function(e){a[e?"unshift":"push"]((()=>{o=e,n(2,o)}))}]}export default class extends e{constructor(e){super(),t(this,e,se,ae,n,{})}}
