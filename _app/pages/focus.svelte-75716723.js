import{S as t,i as e,s as n,ao as a,e as s,k as l,t as r,c,a as o,d as i,n as f,g as u,b as $,f as m,M as d,O as h,a6 as p,u as g,w as v,x as k,h as x,j as w,m as E,o as b,v as y,E as D,_ as I,T,G as V,A,ap as L,aq as j,r as P,ar as q,as as z,N as F,a4 as N,W as R,a7 as S,at as Y}from"../chunks/vendor-90cda898.js";import{d as J,e as M,g as O,b as _,s as B}from"../chunks/state-d0752e44.js";import{F as C,a as G}from"../chunks/FabContainer-d034607e.js";const{document:U}=j;function W(t,e,n){const a=t.slice();return a[14]=e[n],a[16]=n,a}function H(t){let e,n;return e=new S({props:{size:"24"}}),{c(){w(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,a){b(e,t,a),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function K(t){let e,n;return e=new Y({props:{size:"24"}}),{c(){w(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,a){b(e,t,a),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Q(t,e){let n,a,w,E,b,y,D,I,T,V,A,L=e[14].name+"";const j=[K,H],q=[];function z(t,e){return t[14].checked?0:1}function F(){return e[11](e[16])}return w=z(e),E=q[w]=j[w](e),{key:t,first:null,c(){n=s("div"),a=s("div"),E.c(),b=l(),y=s("div"),D=r(L),I=l(),this.h()},l(t){n=c(t,"DIV",{class:!0});var e=o(n);a=c(e,"DIV",{});var s=o(a);E.l(s),s.forEach(i),b=f(e),y=c(e,"DIV",{});var l=o(y);D=u(l,L),l.forEach(i),I=f(e),e.forEach(i),this.h()},h(){$(n,"class","inline-flex items-center gap-4 cursor-pointer"),this.first=n},m(t,e){m(t,n,e),d(n,a),q[w].m(a,null),d(n,b),d(n,y),d(y,D),d(n,I),T=!0,V||(A=h(n,"click",p(F)),V=!0)},p(t,n){let s=w;w=z(e=t),w!==s&&(P(),g(q[s],1,1,(()=>{q[s]=null})),v(),E=q[w],E||(E=q[w]=j[w](e),E.c()),k(E,1),E.m(a,null)),(!T||1&n)&&L!==(L=e[14].name+"")&&x(D,L)},i(t){T||(k(E),T=!0)},o(t){g(E),T=!1},d(t){t&&i(n),q[w].d(),V=!1,A()}}}function X(t){let e,n;return e=new C({props:{$$slots:{default:[Z]},$$scope:{ctx:t}}}),{c(){w(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,a){b(e,t,a),n=!0},p(t,n){const a={};131072&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Z(t){let e,n,a,s;return e=new G({props:{small:!0,icon:q}}),e.$on("click",t[4]),a=new G({props:{icon:z}}),a.$on("click",t[3]),{c(){w(e.$$.fragment),n=l(),w(a.$$.fragment)},l(t){E(e.$$.fragment,t),n=f(t),E(a.$$.fragment,t)},m(t,l){b(e,t,l),m(t,n,l),b(a,t,l),s=!0},p:F,i(t){s||(k(e.$$.fragment,t),k(a.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),g(a.$$.fragment,t),s=!1},d(t){y(e,t),t&&i(n),y(a,t)}}}function tt(t){var e,n;let V,A,L,j,q,z,F,R,S,Y,J,M,O,_,B,C,G,H,K=((null==(e=t[0])?void 0:e.title)||"Pronto!")+"",Z=[],tt=new Map;q=new a({props:{size:"24"}});let et=(null==(n=t[0])?void 0:n.checkList.toArray())||[];const nt=t=>t[14]._id;for(let a=0;a<et.length;a+=1){let e=W(t,et,a),n=nt(e);tt.set(n,Z[a]=Q(n,e))}let at=t[0]&&X(t);return{c(){V=l(),A=s("div"),L=s("div"),j=s("button"),w(q.$$.fragment),z=l(),F=s("div"),R=s("p"),S=r(K),Y=l(),J=s("p"),M=r(""),O=l(),_=s("div");for(let t=0;t<Z.length;t+=1)Z[t].c();B=l(),at&&at.c(),this.h()},l(t){D('[data-svelte="svelte-ihrkqk"]',U.head).forEach(i),V=f(t),A=c(t,"DIV",{class:!0});var e=o(A);L=c(e,"DIV",{class:!0});var n=o(L);j=c(n,"BUTTON",{});var a=o(j);E(q.$$.fragment,a),a.forEach(i),n.forEach(i),z=f(e),F=c(e,"DIV",{class:!0});var s=o(F);R=c(s,"P",{class:!0});var l=o(R);S=u(l,K),l.forEach(i),Y=f(s),J=c(s,"P",{class:!0});var r=o(J);M=u(r,""),r.forEach(i),O=f(s),_=c(s,"DIV",{class:!0});var $=o(_);for(let c=0;c<Z.length;c+=1)Z[c].l($);$.forEach(i),s.forEach(i),B=f(e),at&&at.l(e),e.forEach(i),this.h()},h(){U.title="Focus",$(L,"class","inline-flex relative items-center w-ful p-4"),$(R,"class","text-bg font-bold text-xl"),$(J,"class","font-light font-mono whitespace-pre-wrap"),$(_,"class","inline-flex flex-col gap-2 px-4 pt-4 w-full"),$(F,"class","text-accent w-full inline-flex my-auto box-border flex-col overflow-y-scroll gap-6 p-4 items-center"),$(A,"class","bg-base-100 text-base-content inline-flex flex-col h-full w-full")},m(e,n){m(e,V,n),m(e,A,n),d(A,L),d(L,j),b(q,j,null),d(A,z),d(A,F),d(F,R),d(R,S),d(F,Y),d(F,J),d(J,M),t[10](J),d(F,O),d(F,_);for(let t=0;t<Z.length;t+=1)Z[t].m(_,null);d(A,B),at&&at.m(A,null),C=!0,G||(H=[h(j,"click",t[2]),h(J,"click",p(t[6])),h(J,"blur",t[5]),h(A,"click",t[7])],G=!0)},p(t,[e]){var n,a;(!C||1&e)&&K!==(K=((null==(n=t[0])?void 0:n.title)||"Pronto!")+"")&&x(S,K),257&e&&(et=(null==(a=t[0])?void 0:a.checkList.toArray())||[],P(),Z=I(Z,e,nt,1,t,et,tt,_,N,Q,null,W),v()),t[0]?at?(at.p(t,e),1&e&&k(at,1)):(at=X(t),at.c(),k(at,1),at.m(A,null)):at&&(P(),g(at,1,1,(()=>{at=null})),v())},i(t){if(!C){k(q.$$.fragment,t);for(let t=0;t<et.length;t+=1)k(Z[t]);k(at),C=!0}},o(t){g(q.$$.fragment,t);for(let e=0;e<Z.length;e+=1)g(Z[e]);g(at),C=!1},d(e){e&&i(V),e&&i(A),y(q),t[10](null);for(let t=0;t<Z.length;t+=1)Z[t].d();at&&at.d(),G=!1,T(H)}}}function et(t,e,n){let a;V(t,B,(t=>n(9,a=t)));let s,l,r=null,c=!1;A((()=>{var t;r=null==(t=navigator.wakeLock)?void 0:t.request()})),L((()=>{null==r||r.release()}));const o=t=>{_(s.setIn(["checkList",t,"checked"],!s.checkList.get(t).checked))};return t.$$.update=()=>{512&t.$$.dirty&&n(0,s=a.activities.find((t=>t.state===J.READY.key))),3&t.$$.dirty&&l&&document.activeElement!==l&&n(1,l.innerText=s?(null==s?void 0:s.description)||"...":"Nenhuma outra atividade",l)},[s,l,()=>{window.history.back()},()=>{M(s)},()=>{const t=a.activities.toJS().filter((({state:t})=>t===J.READY.key)),e=a.activities.toJS().filter((({state:t})=>t!==J.READY.key));if(t.length>1){const[n,a,...s]=t,l=[a,n,...s,...e];O(l)}},()=>{const t=l.innerText.trim();n(1,l.contentEditable=!1,l),_(s.set("description",t)),console.log("newDescription",t),t||n(1,l.innerText="...",l),c=!0},()=>{s&&document.activeElement!==l&&(n(1,l.innerText=s.description,l),n(1,l.contentEditable=!0,l),l.focus())},()=>{c&&(c=!1)},o,a,function(t){R[t?"unshift":"push"]((()=>{l=t,n(1,l),n(0,s),n(9,a)}))},t=>o(t)]}export default class extends t{constructor(t){super(),e(this,t,et,tt,n,{})}}
