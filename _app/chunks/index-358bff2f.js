var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(t,n,l)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[n]=l,r=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&o(e,n,t[n]);if(l)for(var n of l(t))s.call(t,n)&&o(e,n,t[n]);return e},c=(e,l)=>t(e,n(l));import{S as i,i as u,s as f,e as d,t as h,c as p,a as m,g as v,d as $,b as g,f as b,H as y,h as x,j as w,m as E,o as k,J as N,x as A,u as D,v as L,k as I,n as S,K as T,L as O,r as P,w as _,M as V,B,N as C,X as j,O as z,P as Y,D as M,F as W,I as R,Q as U,R as F,T as X,U as q,V as J,W as G,Y as H,l as Q,Z as K,_ as Z,$ as ee,G as te,a0 as ne,a1 as le,a2 as ae,a3 as se,a4 as oe,a5 as re,a6 as ce,a7 as ie,a8 as ue,a9 as fe,aa as de,ab as he,ac as pe,ad as me,ae as ve,af as $e,ag as ge,ah as be,ai as ye}from"./vendor-c3741222.js";import{r as xe,b as we}from"./paths-7dc55c62.js";import{T as Ee,C as ke,r as Ne,R as Ae,s as De,A as Le,a as Ie,c as Se,b as Te,d as Oe,F as Pe,e as _e,f as Ve}from"./FabContainer-8061c6f0.js";import{R as Be,c as Ce,A as je,m as ze}from"./tick-cf308ed2.js";import{S as Ye}from"./Separator-947fe102.js";import{T as Me}from"./TopBar-e1b953c3.js";const We=async function(e,t){return xe.goto(e,t,[])};function Re(e){let t,n,l;return{c(){t=d("label"),n=d("span"),l=h(e[2]),this.h()},l(a){t=p(a,"LABEL",{class:!0,for:!0});var s=m(t);n=p(s,"SPAN",{class:!0});var o=m(n);l=v(o,e[2]),o.forEach($),s.forEach($),this.h()},h(){g(n,"class","label-text"),g(t,"class","label"),g(t,"for","grid-username")},m(e,a){b(e,t,a),y(t,n),y(n,l)},p(e,t){4&t&&x(l,e[2])},d(e){e&&$(t)}}}function Ue(e){let t,n,l,a,s;return n=new j({props:{size:e[6]?"20":"24"}}),{c(){t=d("button"),w(n.$$.fragment),this.h()},l(e){t=p(e,"BUTTON",{class:!0});var l=m(t);E(n.$$.fragment,l),l.forEach($),this.h()},h(){g(t,"class","absolute right-1 top-1/2 transform -translate-y-1/2")},m(o,r){b(o,t,r),k(n,t,null),l=!0,a||(s=N(t,"click",e[9]),a=!0)},p(e,t){const l={};64&t&&(l.size=e[6]?"20":"24"),n.$set(l)},i(e){l||(A(n.$$.fragment,e),l=!0)},o(e){D(n.$$.fragment,e),l=!1},d(e){e&&$(t),L(n),a=!1,s()}}}function Fe(e){let t,n,l,a,s,o,r,c,i,u=e[2]&&Re(e),f=e[5]&&e[0]&&Ue(e);return{c(){t=d("div"),u&&u.c(),n=I(),l=d("div"),a=d("input"),s=I(),f&&f.c(),this.h()},l(e){t=p(e,"DIV",{class:!0});var o=m(t);u&&u.l(o),n=S(o),l=p(o,"DIV",{class:!0});var r=m(l);a=p(r,"INPUT",{class:!0,id:!0,placeholder:!0}),s=S(r),f&&f.l(r),r.forEach($),o.forEach($),this.h()},h(){g(a,"class","input w-full svelte-1fybpoe"),g(a,"id","grid-username"),g(a,"placeholder",e[3]),a.autofocus=e[4],T(a,"clearButton",e[5]),T(a,"regular",!(e[6]||e[7])),T(a,"small",e[6]),T(a,"large",e[7]),g(l,"class","relative"),g(t,"class",o="w-full text-base-content "+e[10].class+" svelte-1fybpoe")},m(o,d){b(o,t,d),u&&u.m(t,null),y(t,n),y(t,l),y(l,a),e[17](a),O(a,e[0]),y(l,s),f&&f.m(l,null),r=!0,c||(i=[N(a,"focus",e[8]),N(a,"change",e[13]),N(a,"focus",e[14]),N(a,"blur",e[15]),N(a,"keyup",e[16]),N(a,"input",e[18])],c=!0)},p(e,[s]){e[2]?u?u.p(e,s):(u=Re(e),u.c(),u.m(t,n)):u&&(u.d(1),u=null),(!r||8&s)&&g(a,"placeholder",e[3]),(!r||16&s)&&(a.autofocus=e[4]),1&s&&a.value!==e[0]&&O(a,e[0]),32&s&&T(a,"clearButton",e[5]),192&s&&T(a,"regular",!(e[6]||e[7])),64&s&&T(a,"small",e[6]),128&s&&T(a,"large",e[7]),e[5]&&e[0]?f?(f.p(e,s),33&s&&A(f,1)):(f=Ue(e),f.c(),A(f,1),f.m(l,null)):f&&(P(),D(f,1,1,(()=>{f=null})),_()),(!r||1024&s&&o!==(o="w-full text-base-content "+e[10].class+" svelte-1fybpoe"))&&g(t,"class",o)},i(e){r||(A(f),r=!0)},o(e){D(f),r=!1},d(n){n&&$(t),u&&u.d(),e[17](null),f&&f.d(),c=!1,V(i)}}}function Xe(e,t,n){let{type:l="text"}=t,{label:a=""}=t,{placeholder:s=""}=t,{autofocus:o=!1}=t,{value:r=""}=t,{scrollOnFocus:c=!1}=t,{clearButton:i=!1}=t,{inputElement:u=null}=t,{small:f=!1}=t,{large:d=!1}=t;return e.$$set=e=>{n(10,t=B(B({},t),C(e))),"type"in e&&n(11,l=e.type),"label"in e&&n(2,a=e.label),"placeholder"in e&&n(3,s=e.placeholder),"autofocus"in e&&n(4,o=e.autofocus),"value"in e&&n(0,r=e.value),"scrollOnFocus"in e&&n(12,c=e.scrollOnFocus),"clearButton"in e&&n(5,i=e.clearButton),"inputElement"in e&&n(1,u=e.inputElement),"small"in e&&n(6,f=e.small),"large"in e&&n(7,d=e.large)},t=C(t),[r,u,a,s,o,i,f,d,e=>{e.target.type=l,c&&e.target.scrollIntoView()},()=>{u.focus(),n(0,r="")},t,l,c,function(t){z.call(this,e,t)},function(t){z.call(this,e,t)},function(t){z.call(this,e,t)},function(t){z.call(this,e,t)},function(e){Y[e?"unshift":"push"]((()=>{u=e,n(1,u)}))},function(){r=this.value,n(0,r)}]}class qe extends i{constructor(e){super(),u(this,e,Xe,Fe,f,{type:11,label:2,placeholder:3,autofocus:4,value:0,scrollOnFocus:12,clearButton:5,inputElement:1,small:6,large:7})}}function Je(e){let t,n;return{c(){t=d("h6"),n=h(e[0]),this.h()},l(l){t=p(l,"H6",{class:!0});var a=m(t);n=v(a,e[0]),a.forEach($),this.h()},h(){g(t,"class","text-base-content text-lg mt-2 mb-6 font-bold")},m(e,l){b(e,t,l),y(t,n)},p(e,t){1&t&&x(n,e[0])},d(e){e&&$(t)}}}function Ge(e){let t,n,l,a,s,o=e[0]&&Je(e);const r=e[3].default,c=M(r,e,e[2],null);return{c(){t=d("div"),o&&o.c(),n=I(),l=d("div"),c&&c.c(),this.h()},l(e){t=p(e,"DIV",{class:!0});var a=m(t);o&&o.l(a),n=S(a),l=p(a,"DIV",{class:!0});var s=m(l);c&&c.l(s),s.forEach($),a.forEach($),this.h()},h(){g(l,"class","px-4 inline-flex w-full flex-col flex-wrap gap-4"),g(t,"class",a="card overflow-visible shadow "+e[1].class)},m(e,a){b(e,t,a),o&&o.m(t,null),y(t,n),y(t,l),c&&c.m(l,null),s=!0},p(e,[l]){e[0]?o?o.p(e,l):(o=Je(e),o.c(),o.m(t,n)):o&&(o.d(1),o=null),c&&c.p&&(!s||4&l)&&W(c,r,e,e[2],s?l:-1,null,null),(!s||2&l&&a!==(a="card overflow-visible shadow "+e[1].class))&&g(t,"class",a)},i(e){s||(A(c,e),s=!0)},o(e){D(c,e),s=!1},d(e){e&&$(t),o&&o.d(),c&&c.d(e)}}}function He(e,t,n){let{$$slots:l={},$$scope:a}=t,{title:s}=t;return e.$$set=e=>{n(1,t=B(B({},t),C(e))),"title"in e&&n(0,s=e.title),"$$scope"in e&&n(2,a=e.$$scope)},t=C(t),[s,t,a,l]}class Qe extends i{constructor(e){super(),u(this,e,He,Ge,f,{title:0})}}function Ke(e){let t,n,l;return{c(){t=d("label"),n=d("span"),l=h(e[1]),this.h()},l(a){t=p(a,"LABEL",{class:!0,for:!0});var s=m(t);n=p(s,"SPAN",{class:!0});var o=m(n);l=v(o,e[1]),o.forEach($),s.forEach($),this.h()},h(){g(n,"class","label-text"),g(t,"class","label"),g(t,"for","grid-about-me")},m(e,a){b(e,t,a),y(t,n),y(n,l)},p(e,t){2&t&&x(l,e[1])},d(e){e&&$(t)}}}function Ze(e){let t,n,l,a,s,o,r=e[1]&&Ke(e);return{c(){t=d("div"),r&&r.c(),n=I(),l=d("textarea"),this.h()},l(e){t=p(e,"DIV",{class:!0});var a=m(t);r&&r.l(a),n=S(a),l=p(a,"TEXTAREA",{id:!0,class:!0,rows:!0,placeholder:!0}),m(l).forEach($),a.forEach($),this.h()},h(){g(l,"id","grid-about-me"),g(l,"class","textarea resize-none w-full ease-linear transition-all duration-150"),g(l,"rows",e[2]),g(l,"placeholder",e[3]),g(t,"class",a="text-base-content relative w-full "+e[4].class)},m(a,c){b(a,t,c),r&&r.m(t,null),y(t,n),y(t,l),O(l,e[0]),s||(o=N(l,"input",e[5]),s=!0)},p(e,[s]){e[1]?r?r.p(e,s):(r=Ke(e),r.c(),r.m(t,n)):r&&(r.d(1),r=null),4&s&&g(l,"rows",e[2]),8&s&&g(l,"placeholder",e[3]),1&s&&O(l,e[0]),16&s&&a!==(a="text-base-content relative w-full "+e[4].class)&&g(t,"class",a)},i:R,o:R,d(e){e&&$(t),r&&r.d(),s=!1,o()}}}function et(e,t,n){let{label:l=""}=t,{rows:a}=t,{value:s=""}=t,{placeholder:o=""}=t;return e.$$set=e=>{n(4,t=B(B({},t),C(e))),"label"in e&&n(1,l=e.label),"rows"in e&&n(2,a=e.rows),"value"in e&&n(0,s=e.value),"placeholder"in e&&n(3,o=e.placeholder)},t=C(t),[s,l,a,o,t,function(){s=this.value,n(0,s)}]}class tt extends i{constructor(e){super(),u(this,e,et,Ze,f,{label:1,rows:2,value:0,placeholder:3})}}const nt=e=>{const t=t=>{!e||e.contains(t.target)||t.defaultPrevented||e.dispatchEvent(new CustomEvent("clickedOutside",e))};return document.addEventListener("click",t,!0),{destroy(){document.removeEventListener("click",t,!0)}}};function lt(e,t,n){const l=e.slice();return l[9]=t[n],l}function at(e){let t,n,l;return{c(){t=d("label"),n=d("span"),l=h(e[2]),this.h()},l(a){t=p(a,"LABEL",{class:!0,for:!0});var s=m(t);n=p(s,"SPAN",{class:!0});var o=m(n);l=v(o,e[2]),o.forEach($),s.forEach($),this.h()},h(){g(n,"class","label-text"),g(t,"class","label"),g(t,"for","form-select")},m(e,a){b(e,t,a),y(t,n),y(n,l)},p(e,t){4&t&&x(l,e[2])},d(e){e&&$(t)}}}function st(e,t){let n,l,a,s,o,r,c=t[9].label+"";function i(){return t[6](t[9])}return{key:e,first:null,c(){n=d("div"),l=h(c),a=I(),this.h()},l(e){n=p(e,"DIV",{class:!0});var t=m(n);l=v(t,c),a=S(t),t.forEach($),this.h()},h(){g(n,"class",s="px-2 box-border rounded text-base-content pointer-events-auto hover:bg-base-300 "+(t[0]===t[9].value?"bg-base-300":"")),this.first=n},m(e,t){b(e,n,t),y(n,l),y(n,a),o||(r=N(n,"click",i),o=!0)},p(e,a){t=e,8&a&&c!==(c=t[9].label+"")&&x(l,c),9&a&&s!==(s="px-2 box-border rounded text-base-content pointer-events-auto hover:bg-base-300 "+(t[0]===t[9].value?"bg-base-300":""))&&g(n,"class",s)},d(e){e&&$(n),o=!1,r()}}}function ot(e){var t;let n,l,a,s,o,r,c,i,u,f,T,O,P,_,B=((null==(t=e[3].find(e[5]))?void 0:t.label)||"")+"",C=[],j=new Map,z=e[2]&&at(e);c=new U({props:{size:"24"}});let Y=e[3];const M=e=>e[9].value;for(let d=0;d<Y.length;d+=1){let t=lt(e,Y,d),n=M(t);j.set(n,C[d]=st(n,t))}return{c(){n=d("div"),z&&z.c(),l=I(),a=d("div"),s=d("div"),o=h(B),r=I(),w(c.$$.fragment),i=I(),u=d("div");for(let e=0;e<C.length;e+=1)C[e].c();this.h()},l(e){n=p(e,"DIV",{class:!0});var t=m(n);z&&z.l(t),l=S(t),a=p(t,"DIV",{id:!0,class:!0});var f=m(a);s=p(f,"DIV",{});var d=m(s);o=v(d,B),d.forEach($),r=S(f),E(c.$$.fragment,f),i=S(f),u=p(f,"DIV",{class:!0});var h=m(u);for(let n=0;n<C.length;n+=1)C[n].l(h);h.forEach($),f.forEach($),t.forEach($),this.h()},h(){g(u,"class",f="card absolute box-border overflow-y-scroll max-h-40 p-2 space-y-1 bg-base-100 top-full translate-y-2 left-0 w-full shadow-lg z-30 transition-all duration-75 "+(e[1]?"opacity-100":"hidden opacity-0")),g(a,"id","form-select"),g(a,"class","input flex flex-row justify-between relative bg-base-100 items-center border cursor-pointer box-border"),g(n,"class",T="inline-flex text-base-content flex-col w-full "+e[4].class)},m(t,f){b(t,n,f),z&&z.m(n,null),y(n,l),y(n,a),y(a,s),y(s,o),y(a,r),k(c,a,null),y(a,i),y(a,u);for(let e=0;e<C.length;e+=1)C[e].m(u,null);O=!0,P||(_=[F(nt.call(null,a)),N(a,"clickedOutside",e[7]),N(a,"click",e[8])],P=!0)},p(e,[t]){var a;e[2]?z?z.p(e,t):(z=at(e),z.c(),z.m(n,l)):z&&(z.d(1),z=null),(!O||9&t)&&B!==(B=((null==(a=e[3].find(e[5]))?void 0:a.label)||"")+"")&&x(o,B),9&t&&(Y=e[3],C=X(C,t,M,1,e,Y,j,u,q,st,null,lt)),(!O||2&t&&f!==(f="card absolute box-border overflow-y-scroll max-h-40 p-2 space-y-1 bg-base-100 top-full translate-y-2 left-0 w-full shadow-lg z-30 transition-all duration-75 "+(e[1]?"opacity-100":"hidden opacity-0")))&&g(u,"class",f),(!O||16&t&&T!==(T="inline-flex text-base-content flex-col w-full "+e[4].class))&&g(n,"class",T)},i(e){O||(A(c.$$.fragment,e),O=!0)},o(e){D(c.$$.fragment,e),O=!1},d(e){e&&$(n),z&&z.d(),L(c);for(let t=0;t<C.length;t+=1)C[t].d();P=!1,V(_)}}}function rt(e,t,n){let{value:l=""}=t,{open:a=!1}=t,{label:s}=t,{options:o=[]}=t;return e.$$set=e=>{n(4,t=B(B({},t),C(e))),"value"in e&&n(0,l=e.value),"open"in e&&n(1,a=e.open),"label"in e&&n(2,s=e.label),"options"in e&&n(3,o=e.options)},t=C(t),[l,a,s,o,t,e=>e.value===l,e=>{n(0,l=e.value)},()=>{n(1,a=!1)},()=>{n(1,a=!a)}]}class ct extends i{constructor(e){super(),u(this,e,rt,ot,f,{value:0,open:1,label:2,options:3})}}function it(e,t,n){const l=e.slice();return l[7]=t[n],l}function ut(e){let t,n,l;return{c(){t=d("label"),n=d("span"),l=h(e[1]),this.h()},l(a){t=p(a,"LABEL",{class:!0,for:!0});var s=m(t);n=p(s,"SPAN",{class:!0});var o=m(n);l=v(o,e[1]),o.forEach($),s.forEach($),this.h()},h(){g(n,"class","label-text"),g(t,"class","label"),g(t,"for","form-toggle-button")},m(e,a){b(e,t,a),y(t,n),y(n,l)},p(e,t){2&t&&x(l,e[1])},d(e){e&&$(t)}}}function ft(e){let t,n,l,a,s,o,r=e[7].label+"";function c(){return e[5](e[7])}return{c(){t=d("button"),n=h(r),l=I(),this.h()},l(e){t=p(e,"BUTTON",{class:!0,toggle:!0,extrasmall:!0,outlined:!0});var a=m(t);n=v(a,r),l=S(a),a.forEach($),this.h()},h(){g(t,"class",a="bg-base-100 border rounded-full border-base-content "+(e[4][e[7].value]?"bg-base-content text-base-100":"")),g(t,"toggle",""),g(t,"extrasmall",""),g(t,"outlined","")},m(e,a){b(e,t,a),y(t,n),y(t,l),s||(o=N(t,"click",c),s=!0)},p(l,s){e=l,4&s&&r!==(r=e[7].label+"")&&x(n,r),20&s&&a!==(a="bg-base-100 border rounded-full border-base-content "+(e[4][e[7].value]?"bg-base-content text-base-100":""))&&g(t,"class",a)},d(e){e&&$(t),s=!1,o()}}}function dt(e){let t,n,l,a=e[1]&&ut(e),s=e[2],o=[];for(let r=0;r<s.length;r+=1)o[r]=ft(it(e,s,r));return{c(){t=d("div"),a&&a.c(),n=I(),l=d("div");for(let e=0;e<o.length;e+=1)o[e].c();this.h()},l(e){t=p(e,"DIV",{class:!0});var s=m(t);a&&a.l(s),n=S(s),l=p(s,"DIV",{id:!0,class:!0});var r=m(l);for(let t=0;t<o.length;t+=1)o[t].l(r);r.forEach($),s.forEach($),this.h()},h(){g(l,"id","form-toggle-button"),g(l,"class","input !h-auto bg-base-100 box-border p-2 w-full gap-1 grid grid-cols-7 auto-cols-min"),g(t,"class","text-base-content inline-flex flex-col w-full")},m(e,s){b(e,t,s),a&&a.m(t,null),y(t,n),y(t,l);for(let t=0;t<o.length;t+=1)o[t].m(l,null)},p(e,[r]){if(e[1]?a?a.p(e,r):(a=ut(e),a.c(),a.m(t,n)):a&&(a.d(1),a=null),29&r){let t;for(s=e[2],t=0;t<s.length;t+=1){const n=it(e,s,t);o[t]?o[t].p(n,r):(o[t]=ft(n),o[t].c(),o[t].m(l,null))}for(;t<o.length;t+=1)o[t].d(1);o.length=s.length}},i:R,o:R,d(e){e&&$(t),a&&a.d(),J(o,e)}}}function ht(e,t,n){let{label:l=""}=t,{options:a=[]}=t,{multi:s}=t,{value:o=(s?[]:"")}=t;const r=Array.isArray(o)?o:[o];let c=Object.fromEntries(r.map((e=>[e,!0])));return e.$$set=e=>{"label"in e&&n(1,l=e.label),"options"in e&&n(2,a=e.options),"multi"in e&&n(3,s=e.multi),"value"in e&&n(0,o=e.value)},[o,l,a,s,c,e=>{n(4,c[e.value]=!c[e.value],c),console.log("clicked"),console.log("option",e),n(0,o=s?Object.entries(c).filter((([,e])=>e)).map((([e])=>e)):e.value),s||n(4,c={[e.value]:!0})}]}class pt extends i{constructor(e){super(),u(this,e,ht,dt,f,{label:1,options:2,multi:3,value:0})}}function mt(e,t,n){const l=e.slice();return l[20]=t[n],l[21]=t,l[22]=n,l}function vt(e){let t,n,l,a,s;return n=new ee({props:{size:"24",strokeWidth:"3"}}),{c(){t=d("button"),w(n.$$.fragment),this.h()},l(e){t=p(e,"BUTTON",{class:!0});var l=m(t);E(n.$$.fragment,l),l.forEach($),this.h()},h(){g(t,"class","btn btn-square btn-ghost absolute top-3 right-3")},m(o,r){b(o,t,r),k(n,t,null),l=!0,a||(s=N(t,"click",e[4]),a=!0)},p:R,i(e){l||(A(n.$$.fragment,e),l=!0)},o(e){D(n.$$.fragment,e),l=!1},d(e){e&&$(t),L(n),a=!1,s()}}}function $t(e,t){let n,l,a,s;function o(e){t[12](e,t[22])}let r={clearButton:!0,small:!0,label:t[22]?"":"Lista de tarefas",scrollOnFocus:!0,placeholder:t[22]<t[2].checkList.length-1?"Deixe vazio para remover":"Nova tarefa"};return void 0!==t[2].checkList[t[22]].name&&(r.value=t[2].checkList[t[22]].name),l=new qe({props:r}),Y.push((()=>H(l,"value",o))),l.$on("blur",t[7]),l.$on("focus",(function(){return t[13](t[20])})),l.$on("keyup",t[9]),{key:e,first:null,c(){n=Q(),w(l.$$.fragment),this.h()},l(e){n=Q(),E(l.$$.fragment,e),this.h()},h(){this.first=n},m(e,t){b(e,n,t),k(l,e,t),s=!0},p(e,n){t=e;const s={};4&n&&(s.label=t[22]?"":"Lista de tarefas"),4&n&&(s.placeholder=t[22]<t[2].checkList.length-1?"Deixe vazio para remover":"Nova tarefa"),!a&&4&n&&(a=!0,s.value=t[2].checkList[t[22]].name,K((()=>a=!1))),l.$set(s)},i(e){s||(A(l.$$.fragment,e),s=!0)},o(e){D(l.$$.fragment,e),s=!1},d(e){e&&$(n),L(l,e)}}}function gt(e){let t,n,l;function a(t){e[16](t)}let s={label:"Dias do mês",multi:!0,options:new Array(31).fill(0).map(Et)};return void 0!==e[2].recurrence.monthDays&&(s.value=e[2].recurrence.monthDays),t=new pt({props:s}),Y.push((()=>H(t,"value",a))),{c(){w(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,n){k(t,e,n),l=!0},p(e,l){const a={};!n&&4&l&&(n=!0,a.value=e[2].recurrence.monthDays,K((()=>n=!1))),t.$set(a)},i(e){l||(A(t.$$.fragment,e),l=!0)},o(e){D(t.$$.fragment,e),l=!1},d(e){L(t,e)}}}function bt(e){let t,n,l;function a(t){e[15](t)}let s={label:"Dias da semana",multi:!0,options:e[3]};return void 0!==e[2].recurrence.weekdays&&(s.value=e[2].recurrence.weekdays),t=new pt({props:s}),Y.push((()=>H(t,"value",a))),{c(){w(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,n){k(t,e,n),l=!0},p(e,l){const a={};!n&&4&l&&(n=!0,a.value=e[2].recurrence.weekdays,K((()=>n=!1))),t.$set(a)},i(e){l||(A(t.$$.fragment,e),l=!0)},o(e){D(t.$$.fragment,e),l=!1},d(e){L(t,e)}}}function yt(e){var t;let n,l,a,s,o,r,c,i,u,f,h,v,y,x,N,T,O=[],V=new Map,B=(null==(t=e[0])?void 0:t._id)&&vt(e);function C(t){e[10](t)}let j={label:"Título",type:"text",autofocus:!0};function z(t){e[11](t)}void 0!==e[2].title&&(j.value=e[2].title),l=new qe({props:j}),Y.push((()=>H(l,"value",C)));let M={label:"Descrição",rows:5};void 0!==e[2].description&&(M.value=e[2].description),o=new tt({props:M}),Y.push((()=>H(o,"value",z)));let W=e[2].checkList;const R=e=>e[20]._id;for(let d=0;d<W.length;d+=1){let t=mt(e,W,d),n=R(t);V.set(n,O[d]=$t(n,t))}function U(t){e[14](t)}let F={label:"Recorrência",options:Object.values(Be).map(wt)};void 0!==e[2].recurrence.type&&(F.value=e[2].recurrence.type),f=new ct({props:F}),Y.push((()=>H(f,"value",U)));const q=[bt,gt],J=[];function G(e,t){return e[2].recurrence.type===Be.EVERY_WEEK_DAYS.key?0:e[2].recurrence.type===Be.EVERY_MONTH_DAYS.key?1:-1}return~(y=G(e))&&(x=J[y]=q[y](e)),{c(){B&&B.c(),n=I(),w(l.$$.fragment),s=I(),w(o.$$.fragment),c=I(),i=d("div");for(let e=0;e<O.length;e+=1)O[e].c();u=I(),w(f.$$.fragment),v=I(),x&&x.c(),N=Q(),this.h()},l(e){B&&B.l(e),n=S(e),E(l.$$.fragment,e),s=S(e),E(o.$$.fragment,e),c=S(e),i=p(e,"DIV",{class:!0});var t=m(i);for(let n=0;n<O.length;n+=1)O[n].l(t);t.forEach($),u=S(e),E(f.$$.fragment,e),v=S(e),x&&x.l(e),N=Q(),this.h()},h(){g(i,"class","inline-flex flex-col gap-2")},m(e,t){B&&B.m(e,t),b(e,n,t),k(l,e,t),b(e,s,t),k(o,e,t),b(e,c,t),b(e,i,t);for(let n=0;n<O.length;n+=1)O[n].m(i,null);b(e,u,t),k(f,e,t),b(e,v,t),~y&&J[y].m(e,t),b(e,N,t),T=!0},p(e,t){var s;(null==(s=e[0])?void 0:s._id)?B?(B.p(e,t),1&t&&A(B,1)):(B=vt(e),B.c(),A(B,1),B.m(n.parentNode,n)):B&&(P(),D(B,1,1,(()=>{B=null})),_());const c={};!a&&4&t&&(a=!0,c.value=e[2].title,K((()=>a=!1))),l.$set(c);const u={};!r&&4&t&&(r=!0,u.value=e[2].description,K((()=>r=!1))),o.$set(u),900&t&&(W=e[2].checkList,P(),O=X(O,t,R,1,e,W,V,i,Z,$t,null,mt),_());const d={};!h&&4&t&&(h=!0,d.value=e[2].recurrence.type,K((()=>h=!1))),f.$set(d);let p=y;y=G(e),y===p?~y&&J[y].p(e,t):(x&&(P(),D(J[p],1,1,(()=>{J[p]=null})),_()),~y?(x=J[y],x?x.p(e,t):(x=J[y]=q[y](e),x.c()),A(x,1),x.m(N.parentNode,N)):x=null)},i(e){if(!T){A(B),A(l.$$.fragment,e),A(o.$$.fragment,e);for(let e=0;e<W.length;e+=1)A(O[e]);A(f.$$.fragment,e),A(x),T=!0}},o(e){D(B),D(l.$$.fragment,e),D(o.$$.fragment,e);for(let t=0;t<O.length;t+=1)D(O[t]);D(f.$$.fragment,e),D(x),T=!1},d(e){B&&B.d(e),e&&$(n),L(l,e),e&&$(s),L(o,e),e&&$(c),e&&$(i);for(let t=0;t<O.length;t+=1)O[t].d();e&&$(u),L(f,e),e&&$(v),~y&&J[y].d(e),e&&$(N)}}}function xt(e){let t,n,l,a,s,o,r,c,i,u,f,T,O,P,_=e[0]._id?"Salvar":"Adicionar";return t=new Ee({props:{themeColoredNode:e[1]}}),a=new Qe({props:{title:"Atividade",class:"bg-base-300 mb-6 p-4 relative",$$slots:{default:[yt]},$$scope:{ctx:e}}}),{c(){w(t.$$.fragment),n=I(),l=d("div"),w(a.$$.fragment),s=I(),o=d("div"),r=d("button"),c=h("Cancelar"),i=I(),u=d("button"),f=h(_),this.h()},l(e){E(t.$$.fragment,e),n=S(e),l=p(e,"DIV",{class:!0});var d=m(l);E(a.$$.fragment,d),s=S(d),o=p(d,"DIV",{class:!0});var h=m(o);r=p(h,"BUTTON",{class:!0});var g=m(r);c=v(g,"Cancelar"),g.forEach($),i=S(h),u=p(h,"BUTTON",{class:!0});var b=m(u);f=v(b,_),b.forEach($),h.forEach($),d.forEach($),this.h()},h(){g(r,"class","btn btn-ghost btn-secondary"),g(u,"class","btn btn-primary"),g(o,"class","box-border mt-auto w-full bottom-2 inline-flex justify-evenly mb-4 mt-auto"),g(l,"class","absolute z-20 right-0 left-0 bottom-0 top-0 p-4 overflow-y-scroll inline-flex justify-start flex-col bg-base-100 text-base-content h-full")},m(d,h){k(t,d,h),b(d,n,h),b(d,l,h),k(a,l,null),y(l,s),y(l,o),y(o,r),y(r,c),y(o,i),y(o,u),y(u,f),e[17](l),T=!0,O||(P=[N(r,"click",e[5]),N(u,"click",e[6])],O=!0)},p(e,[n]){const l={};2&n&&(l.themeColoredNode=e[1]),t.$set(l);const s={};8388613&n&&(s.$$scope={dirty:n,ctx:e}),a.$set(s),(!T||1&n)&&_!==(_=e[0]._id?"Salvar":"Adicionar")&&x(f,_)},i(e){T||(A(t.$$.fragment,e),A(a.$$.fragment,e),T=!0)},o(e){D(t.$$.fragment,e),D(a.$$.fragment,e),T=!1},d(s){L(t,s),s&&$(n),s&&$(l),L(a),e[17](null),O=!1,V(P)}}}const wt=({key:e,label:t})=>({value:e,label:t}),Et=(e,t)=>({label:t+1,value:t+1});function kt(e,t,n){let{activity:l}=t;const a=G.weekdays("narrow").map(((e,t)=>({label:e,value:t+1}))),s=[a.pop(),...a];let o,i=l.toJS();i.checkList=[...i.checkList,ke().toJS()];const u=e=>{e.name||n(2,i.checkList=[...i.checkList,ke().toJS()],i)};return e.$$set=e=>{"activity"in e&&n(0,l=e.activity)},[l,o,i,s,()=>{Ne(l),n(0,l=null)},()=>{n(0,l=null)},()=>{const e=Ce(Ae(i.recurrence));De(Le(c(r(r({},l.toJS()),i),{recurrence:c(r(r({},l.recurrence.toJS()),i.recurrence),{nextDate:e}),checkList:i.checkList.filter((({name:e})=>e)),_id:l._id}))),n(0,l=null)},()=>{const e=i.checkList.pop(),t=e.name?ke().toJS():e;n(2,i.checkList=[...i.checkList.filter((({name:e})=>e)),t],i)},u,e=>{var t,n;if("Enter"===e.key){const l=null==(n=null==(t=e.target.parentElement)?void 0:t.nextElementSibling)?void 0:n.firstElementChild;if(l&&"input"===l.localName)return void l.focus();console.error("Not an input element. You'll to fix this ugly workaround code.")}},function(t){e.$$.not_equal(i.title,t)&&(i.title=t,n(2,i))},function(t){e.$$.not_equal(i.description,t)&&(i.description=t,n(2,i))},function(t,l){e.$$.not_equal(i.checkList[l].name,t)&&(i.checkList[l].name=t,n(2,i))},e=>u(e),function(t){e.$$.not_equal(i.recurrence.type,t)&&(i.recurrence.type=t,n(2,i))},function(t){e.$$.not_equal(i.recurrence.weekdays,t)&&(i.recurrence.weekdays=t,n(2,i))},function(t){e.$$.not_equal(i.recurrence.monthDays,t)&&(i.recurrence.monthDays=t,n(2,i))},function(e){Y[e?"unshift":"push"]((()=>{o=e,n(1,o)}))}]}class Nt extends i{constructor(e){super(),u(this,e,kt,xt,f,{activity:0})}}function At(e){let t,n,l=te.fromISO(e[0].recurrence.nextDate).toLocal().toLocaleString(te.DATE_FULL)+"";return{c(){t=d("p"),n=h(l),this.h()},l(e){t=p(e,"P",{class:!0});var a=m(t);n=v(a,l),a.forEach($),this.h()},h(){g(t,"class","text-xs font-light")},m(e,l){b(e,t,l),y(t,n)},p(e,t){1&t&&l!==(l=te.fromISO(e[0].recurrence.nextDate).toLocal().toLocaleString(te.DATE_FULL)+"")&&x(n,l)},d(e){e&&$(t)}}}function Dt(e){let t,n,l,a,s,o,r,c,i,u,f,w=e[0].title+"",E=e[0].state===je.WAITING.key&&At(e);return{c(){t=d("div"),n=d("div"),l=d("input"),s=I(),o=d("div"),r=d("div"),c=h(w),i=I(),E&&E.c(),this.h()},l(e){t=p(e,"DIV",{class:!0});var a=m(t);n=p(a,"DIV",{class:!0});var u=m(n);l=p(u,"INPUT",{type:!0,class:!0}),s=S(u),o=p(u,"DIV",{class:!0});var f=m(o);r=p(f,"DIV",{});var d=m(r);c=v(d,w),d.forEach($),i=S(f),E&&E.l(f),f.forEach($),u.forEach($),a.forEach($),this.h()},h(){g(l,"type","checkbox"),l.checked=a=e[0].state!==je.READY.key,g(l,"class","checkbox border-2 checkbox-sm checkbox-primary flex-shrink-0"),g(o,"class","space-y-2"),g(n,"class","flex space-x-2 items-start"),g(t,"class","card w-full px-4 py-3 flex bg-base-100 text-base-content select-none border-primary flex-col space-y-2")},m(a,d){b(a,t,d),y(t,n),y(n,l),y(n,s),y(n,o),y(o,r),y(r,c),y(o,i),E&&E.m(o,null),u||(f=[N(l,"click",ne(e[1])),N(t,"click",e[2])],u=!0)},p(e,[t]){1&t&&a!==(a=e[0].state!==je.READY.key)&&(l.checked=a),1&t&&w!==(w=e[0].title+"")&&x(c,w),e[0].state===je.WAITING.key?E?E.p(e,t):(E=At(e),E.c(),E.m(o,null)):E&&(E.d(1),E=null)},i:R,o:R,d(e){e&&$(t),E&&E.d(),u=!1,V(f)}}}function Lt(e,t,n){let{activity:l}=t;return e.$$set=e=>{"activity"in e&&n(0,l=e.activity)},[l,()=>{switch(l.state){case je.READY.key:Se(l);break;case je.DONE.key:case je.WAITING.key:Ie(l,je.READY.key)}},function(t){z.call(this,e,t)}]}class It extends i{constructor(e){super(),u(this,e,Lt,Dt,f,{activity:0})}}const St=["touchmove","mousemove"],Tt=["touchend","mouseup"],Ot=e=>{var t,n,l,a,s,o;const r={x:e.clientX||(null==(n=null==(t=e.changedTouches)?void 0:t[0])?void 0:n.clientX)||(null==(l=e.detail)?void 0:l.clientX),y:e.clientY||(null==(s=null==(a=e.changedTouches)?void 0:a[0])?void 0:s.clientY)||(null==(o=e.detail)?void 0:o.clientY)};return r.x&&r.y||console.error("Unable to extract position from the event:",e),r},Pt=(e,{startEvent:t="hold",preventClickWhenReleasing:n=!0,onStart:l,onMove:a,onEnd:s}={})=>{let o=Array.from((null==e?void 0:e.children)||[]),r=null,c=null,i=-1,u=null,f={x:0,y:0};const d=e=>t=>{t.stopPropagation(),t.currentTarget.removeEventListener(t.type,d,e)},h=t=>{r=t.currentTarget,n&&t.currentTarget.addEventListener("click",d(!0),!0);const a=r.getBoundingClientRect(),s=Ot(t);o=Array.from((null==e?void 0:e.children)||[]),r.isDragging=!0,f.x=a.left-t.detail.clientX,f.y=a.top-t.detail.clientY,i=o.findIndex((e=>e===r)),c=r.cloneNode(!0),c.style["pointer-events"]="none",c.style["touch-action"]="none",c.style["z-index"]=1,c.style.width=`${r.clientWidth}px`,c.style.height=`${r.clientHeight}px`,c.style.position="fixed",c.style.top=0,c.style.left=0,c.style.transform=`translate(${a.left}px, ${a.top}px)`,e.appendChild(c),null==l||l({event:t,position:s,containerNode:e,itemNodeCopy:c,itemNode:r,itemNodes:o})},p=t=>{if(!c)return;const n=Ot(t),l=n.x+f.x,s=n.y+f.y;o=Array.from((null==e?void 0:e.children)||[]),i=o.findIndex((e=>e===r)),c.style.transform=`translate(${l}px, ${s}px)`;const d=document.elementsFromPoint(n.x,n.y).find((t=>t!==r&&(null==t?void 0:t.parentNode)===e));if(d===u)return;const h=o.findIndex((e=>e===d));u=d,h>=0&&i!==h&&(null==a||a({event:t,position:n,fromIndex:i,toIndex:h,toNode:d,containerNode:e,itemNodeCopy:c,itemNode:r,itemNodes:o}))},m=t=>{if(!c)return;t.stopPropagation(),t.stopImmediatePropagation();const n=Ot(t);r.style["pointer-events"]="auto",r.style["touch-action"]="auto",r.isDragging=void 0,c.remove(),c=null,null==s||s({event:t,itemNode:r,position:n,containerNode:e,itemNodeCopy:c,itemNodes:o})},v=e=>{e.addEventListener(t,h),St.forEach((e=>window.addEventListener(e,p))),Tt.forEach((e=>window.addEventListener(e,m)))},$=e=>{e.removeEventListener(t,h),St.forEach((t=>e.removeEventListener(t,p))),Tt.forEach((t=>e.removeEventListener(t,m)))};o.forEach(v);return new MutationObserver((e=>{Array.from(e).forEach((e=>{var t;return null==(t=e.addedNodes)?void 0:t.forEach((e=>{o.find((t=>t===e))||(v(e,o.length),o.push(e))}))}))})).observe(e,{childList:!0}),{update:e=>{console.error("Parementer updating is not implemented. The dragging behavior will not change.")},destroy:()=>{o.forEach($)}}};function _t(e,t=400){let n,l;const a=()=>{clearTimeout(n)},s=e=>{const{clientX:t,clientY:a}=e.touches?e.touches[0]:e;let s=a,o=t-l.x,r=s-l.y;o*o+r*r>50&&clearTimeout(n)},o=o=>{const{clientX:r,clientY:c}=o.touches?o.touches[0]:o;l={x:r,y:c},n=setTimeout((()=>{e.removeEventListener("mouseup",a),e.removeEventListener("touchend",a),e.dispatchEvent(new CustomEvent("hold",{detail:{clientX:l.x,clientY:l.y}}))}),t),e.addEventListener("mouseup",a),e.addEventListener("mousemove",s),e.addEventListener("touchend",a),e.addEventListener("touchmove",s)};return e.addEventListener("mousedown",o),e.addEventListener("touchstart",o),{update(e){t=e},destroy(){e.removeEventListener("mousedown",o),e.removeEventListener("touchStart",o),e.removeEventListener("mouseup",a),e.removeEventListener("touchend",a),e.removeEventListener("mousemove",s)}}}function Vt(e,t,n){const l=e.slice();return l[22]=t[n],l}function Bt(e,t,n){const l=e.slice();return l[22]=t[n],l}function Ct(e,t,n){const l=e.slice();return l[22]=t[n],l}function jt(e){let t,n;return t=new ge({props:{size:"24"}}),{c(){w(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){k(t,e,l),n=!0},i(e){n||(A(t.$$.fragment,e),n=!0)},o(e){D(t.$$.fragment,e),n=!1},d(e){L(t,e)}}}function zt(e){let t,n;return t=new j({props:{size:"24"}}),{c(){w(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){k(t,e,l),n=!0},i(e){n||(A(t.$$.fragment,e),n=!0)},o(e){D(t.$$.fragment,e),n=!1},d(e){L(t,e)}}}function Yt(e){let t,n,l,a,s,o,r,c,i;const u=[zt,jt],f=[];function x(e,t){return e[3]?0:1}return s=x(e),o=f[s]=u[s](e),{c(){t=d("div"),n=h("Pronto"),l=I(),a=d("div"),o.c(),this.h()},l(e){t=p(e,"DIV",{class:!0});var s=m(t);n=v(s,"Pronto"),s.forEach($),l=S(e),a=p(e,"DIV",{class:!0});var r=m(a);o.l(r),r.forEach($),this.h()},h(){g(t,"class","text-2xl"),g(a,"class","cursor-pointer")},m(o,u){b(o,t,u),y(t,n),b(o,l,u),b(o,a,u),f[s].m(a,null),r=!0,c||(i=N(a,"click",e[11]),c=!0)},p(e,t){let n=s;s=x(e),s!==n&&(P(),D(f[n],1,1,(()=>{f[n]=null})),_(),o=f[s],o||(o=f[s]=u[s](e),o.c()),A(o,1),o.m(a,null))},i(e){r||(A(o),r=!0)},o(e){D(o),r=!1},d(e){e&&$(t),e&&$(l),e&&$(a),f[s].d(),c=!1,i()}}}function Mt(e){let t,n,l,a,s,o,r,c,i,u,f,x,T,O,P,_,B,C,j,z,Y,M,W,R,U;return a=new ie({props:{size:"24"}}),f=new ue({props:{size:"24"}}),C=new fe({props:{size:"24"}}),{c(){t=d("div"),n=d("button"),l=d("span"),w(a.$$.fragment),s=I(),o=d("span"),r=h("Temas"),c=I(),i=d("a"),u=d("span"),w(f.$$.fragment),x=I(),T=d("span"),O=h("Me diga sua opinião"),P=I(),_=d("button"),B=d("span"),w(C.$$.fragment),j=I(),z=d("span"),Y=h("Sobre"),this.h()},l(e){t=p(e,"DIV",{class:!0,style:!0});var d=m(t);n=p(d,"BUTTON",{class:!0});var h=m(n);l=p(h,"SPAN",{});var g=m(l);E(a.$$.fragment,g),g.forEach($),s=S(h),o=p(h,"SPAN",{});var b=m(o);r=v(b,"Temas"),b.forEach($),h.forEach($),c=S(d),i=p(d,"A",{href:!0,class:!0});var y=m(i);u=p(y,"SPAN",{});var w=m(u);E(f.$$.fragment,w),w.forEach($),x=S(y),T=p(y,"SPAN",{});var k=m(T);O=v(k,"Me diga sua opinião"),k.forEach($),y.forEach($),P=S(d),_=p(d,"BUTTON",{class:!0});var N=m(_);B=p(N,"SPAN",{});var A=m(B);E(C.$$.fragment,A),A.forEach($),j=S(N),z=p(N,"SPAN",{});var D=m(z);Y=v(D,"Sobre"),D.forEach($),N.forEach($),d.forEach($),this.h()},h(){g(n,"class","inline-flex rounded w-full items-center gap-3"),g(i,"href","https://docs.google.com/forms/d/e/1FAIpQLSdt5iCVOdCW6jP6HbdckHLx3_AduXTIn44PaUQakkJESkUM2g/viewform?usp=sf_link"),g(i,"class","inline-flex rounded w-full items-center gap-3"),g(_,"class","inline-flex rounded w-full items-center gap-3"),g(t,"class","px-6 py-8 overflow-y-scroll inline-flex gap-4 text-xl flex-col items-stretch w-full"),le(t,"height","76vh")},m(d,h){b(d,t,h),y(t,n),y(n,l),k(a,l,null),y(n,s),y(n,o),y(o,r),y(t,c),y(t,i),y(i,u),k(f,u,null),y(i,x),y(i,T),y(T,O),y(t,P),y(t,_),y(_,B),k(C,B,null),y(_,j),y(_,z),y(z,Y),W=!0,R||(U=[N(n,"click",e[18]),N(_,"click",e[19])],R=!0)},p(t,n){e=t},i(e){W||(A(a.$$.fragment,e),A(f.$$.fragment,e),A(C.$$.fragment,e),e&&ae((()=>{M||(M=se(t,de,{duration:ln},!0)),M.run(1)})),W=!0)},o(e){D(a.$$.fragment,e),D(f.$$.fragment,e),D(C.$$.fragment,e),e&&(M||(M=se(t,de,{duration:ln},!1)),M.run(0)),W=!1},d(e){e&&$(t),L(a),L(f),L(C),e&&M&&M.end(),R=!1,V(U)}}}function Wt(e){let t,n;return{c(){t=d("span"),n=h("Nenhuma atividade, clique no botão de + para adicionar."),this.h()},l(e){t=p(e,"SPAN",{class:!0});var l=m(t);n=v(l,"Nenhuma atividade, clique no botão de + para adicionar."),l.forEach($),this.h()},h(){g(t,"class","text-base-conent")},m(e,l){b(e,t,l),y(t,n)},p:R,i:R,o:R,d(e){e&&$(t)}}}function Rt(e){let t,n,l,a,s=[],o=new Map,r=e[5];const c=e=>e[22]._id;for(let i=0;i<r.length;i+=1){let t=Ct(e,r,i),n=c(t);o.set(n,s[i]=Ut(n,t))}return{c(){t=d("div");for(let e=0;e<s.length;e+=1)s[e].c();this.h()},l(e){t=p(e,"DIV",{class:!0});var n=m(t);for(let t=0;t<s.length;t+=1)s[t].l(n);n.forEach($),this.h()},h(){g(t,"class","w-full mb-10 flex-col inline-flex gap-2")},m(o,r){b(o,t,r);for(let e=0;e<s.length;e+=1)s[e].m(t,null);n=!0,l||(a=F(Pt.call(null,t,{onStart:e[15],onMove:e[16],onEnd:e[17]})),l=!0)},p(e,n){if(536871968&n){r=e[5],P();for(let e=0;e<s.length;e+=1)s[e].r();s=X(s,n,c,1,e,r,o,t,ve,Ut,null,Ct);for(let e=0;e<s.length;e+=1)s[e].a();_()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)A(s[e]);n=!0}},o(e){for(let t=0;t<s.length;t+=1)D(s[t]);n=!1},d(e){e&&$(t);for(let t=0;t<s.length;t+=1)s[t].d();l=!1,a()}}}function Ut(e,t){let n,l,a,s,o,r,c,i=R;return l=new It({props:{activity:t[22]}}),l.$on("click",(function(){he(!t[29]&&t[10](t[22]._id))&&(!t[29]&&t[10](t[22]._id)).apply(this,arguments)})),{key:e,first:null,c(){n=d("span"),w(l.$$.fragment),a=I(),this.h()},l(e){n=p(e,"SPAN",{class:!0});var t=m(n);E(l.$$.fragment,t),a=S(t),t.forEach($),this.h()},h(){g(n,"class","card overflow-visible border-none bg-transparent"),this.first=n},m(e,t){b(e,n,t),k(l,n,null),y(n,a),o=!0,r||(c=F(_t.call(null,n)),r=!0)},p(e,n){t=e;const a={};32&n&&(a.activity=t[22]),l.$set(a)},r(){s=n.getBoundingClientRect()},f(){pe(n),i()},a(){i(),i=me(n,s,be,{duration:nn})},i(e){o||(A(l.$$.fragment,e),o=!0)},o(e){D(l.$$.fragment,e),o=!1},d(e){e&&$(n),L(l),r=!1,c()}}}function Ft(e){let t,n;return t=new Ye({props:{icon:e[1].config.showWaitingActivities?U:oe,title:je.WAITING.label,class:"mt-4 text-base-content"}}),t.$on("click",e[14]),{c(){w(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){k(t,e,l),n=!0},p(e,n){const l={};2&n&&(l.icon=e[1].config.showWaitingActivities?U:oe),t.$set(l)},i(e){n||(A(t.$$.fragment,e),n=!0)},o(e){D(t.$$.fragment,e),n=!1},d(e){L(t,e)}}}function Xt(e){let t,n,l=[],a=new Map,s=e[6];const o=e=>e[22]._id;for(let r=0;r<s.length;r+=1){let t=Bt(e,s,r),n=o(t);a.set(n,l[r]=qt(n,t))}return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=Q()},l(e){for(let t=0;t<l.length;t+=1)l[t].l(e);t=Q()},m(e,a){for(let t=0;t<l.length;t+=1)l[t].m(e,a);b(e,t,a),n=!0},p(e,n){1088&n&&(s=e[6],P(),l=X(l,n,o,1,e,s,a,t.parentNode,Z,qt,t,Bt),_())},i(e){if(!n){for(let e=0;e<s.length;e+=1)A(l[e]);n=!0}},o(e){for(let t=0;t<l.length;t+=1)D(l[t]);n=!1},d(e){for(let t=0;t<l.length;t+=1)l[t].d(e);e&&$(t)}}}function qt(e,t){let n,l,a,s;return l=new It({props:{activity:t[22]}}),l.$on("click",(function(){he(t[10](t[22]._id))&&t[10](t[22]._id).apply(this,arguments)})),{key:e,first:null,c(){n=d("span"),w(l.$$.fragment),a=I(),this.h()},l(e){n=p(e,"SPAN",{});var t=m(n);E(l.$$.fragment,t),a=S(t),t.forEach($),this.h()},h(){this.first=n},m(e,t){b(e,n,t),k(l,n,null),y(n,a),s=!0},p(e,n){t=e;const a={};64&n&&(a.activity=t[22]),l.$set(a)},i(e){s||(A(l.$$.fragment,e),s=!0)},o(e){D(l.$$.fragment,e),s=!1},d(e){e&&$(n),L(l)}}}function Jt(e){let t,n;return t=new Ye({props:{icon:e[1].config.showDoneActivities?U:oe,title:je.DONE.label,class:"mt-4 text-base-content"}}),t.$on("click",e[13]),{c(){w(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){k(t,e,l),n=!0},p(e,n){const l={};2&n&&(l.icon=e[1].config.showDoneActivities?U:oe),t.$set(l)},i(e){n||(A(t.$$.fragment,e),n=!0)},o(e){D(t.$$.fragment,e),n=!1},d(e){L(t,e)}}}function Gt(e){let t,n,l=[],a=new Map,s=e[7];const o=e=>e[22]._id;for(let r=0;r<s.length;r+=1){let t=Vt(e,s,r),n=o(t);a.set(n,l[r]=Ht(n,t))}return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=Q()},l(e){for(let t=0;t<l.length;t+=1)l[t].l(e);t=Q()},m(e,a){for(let t=0;t<l.length;t+=1)l[t].m(e,a);b(e,t,a),n=!0},p(e,n){1152&n&&(s=e[7],P(),l=X(l,n,o,1,e,s,a,t.parentNode,Z,Ht,t,Vt),_())},i(e){if(!n){for(let e=0;e<s.length;e+=1)A(l[e]);n=!0}},o(e){for(let t=0;t<l.length;t+=1)D(l[t]);n=!1},d(e){for(let t=0;t<l.length;t+=1)l[t].d(e);e&&$(t)}}}function Ht(e,t){let n,l,a,s;return l=new It({props:{activity:t[22]}}),l.$on("click",(function(){he(t[10](t[22]._id))&&t[10](t[22]._id).apply(this,arguments)})),{key:e,first:null,c(){n=d("span"),w(l.$$.fragment),a=I(),this.h()},l(e){n=p(e,"SPAN",{});var t=m(n);E(l.$$.fragment,t),a=S(t),t.forEach($),this.h()},h(){this.first=n},m(e,t){b(e,n,t),k(l,n,null),y(n,a),s=!0},p(e,n){t=e;const a={};128&n&&(a.activity=t[22]),l.$set(a)},i(e){s||(A(l.$$.fragment,e),s=!0)},o(e){D(l.$$.fragment,e),s=!1},d(e){e&&$(n),L(l)}}}function Qt(e){let t,n;return t=new Pe({props:{$$slots:{default:[en]},$$scope:{ctx:e}}}),{c(){w(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){k(t,e,l),n=!0},p(e,n){const l={};1073741827&n&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(A(t.$$.fragment,e),n=!0)},o(e){D(t.$$.fragment,e),n=!1},d(e){L(t,e)}}}function Kt(e){let t,n,l;function a(t){e[21](t)}let s={};return void 0!==e[4]&&(s.activity=e[4]),t=new Nt({props:s}),Y.push((()=>H(t,"activity",a))),{c(){w(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,n){k(t,e,n),l=!0},p(e,l){const a={};!n&&16&l&&(n=!0,a.activity=e[4],K((()=>n=!1))),t.$set(a)},i(e){l||(A(t.$$.fragment,e),l=!0)},o(e){D(t.$$.fragment,e),l=!1},d(e){L(t,e)}}}function Zt(e){let t,n;return t=new _e({props:{class:"btn-primary",icon:ye}}),t.$on("click",e[8]),{c(){w(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,l){k(t,e,l),n=!0},p:R,i(e){n||(A(t.$$.fragment,e),n=!0)},o(e){D(t.$$.fragment,e),n=!1},d(e){L(t,e)}}}function en(e){let t,n,l,a;t=new _e({props:{class:"btn-primary",small:!!e[1].activities.size,icon:$e}}),t.$on("click",(function(){he(!e[0]&&e[9])&&(!e[0]&&e[9]).apply(this,arguments)}));let s=e[1].activities.size&&Zt(e);return{c(){w(t.$$.fragment),n=I(),s&&s.c(),l=Q()},l(e){E(t.$$.fragment,e),n=S(e),s&&s.l(e),l=Q()},m(e,o){k(t,e,o),b(e,n,o),s&&s.m(e,o),b(e,l,o),a=!0},p(n,a){e=n;const o={};2&a&&(o.small=!!e[1].activities.size),t.$set(o),e[1].activities.size?s?(s.p(e,a),2&a&&A(s,1)):(s=Zt(e),s.c(),A(s,1),s.m(l.parentNode,l)):s&&(P(),D(s,1,1,(()=>{s=null})),_())},i(e){a||(A(t.$$.fragment,e),A(s),a=!0)},o(e){D(t.$$.fragment,e),D(s),a=!1},d(e){L(t,e),e&&$(n),s&&s.d(e),e&&$(l)}}}function tn(e){var t,n;let l,a,s,o,r,c,i,u,f,h,v,x,N,O,V,B,C,j,z;l=new Ee({props:{themeColoredNode:e[2]}}),o=new Me({props:{color:"base-300",$$slots:{default:[Yt]},$$scope:{ctx:e}}});let Y=e[3]&&Mt(e);const M=[Rt,Wt],W=[];function R(e,t){var n;return(null==(n=e[5])?void 0:n.length)?0:1}f=R(e),h=W[f]=M[f](e);let U=(null==(t=e[6])?void 0:t.length)&&Ft(e),F=e[1].config.showWaitingActivities&&Xt(e),X=(null==(n=e[7])?void 0:n.length)&&Jt(e),q=e[1].config.showDoneActivities&&Gt(e);const J=[Kt,Qt],G=[];function H(e,t){return e[4]?0:e[3]?-1:1}return~(B=H(e))&&(C=G[B]=J[B](e)),{c(){w(l.$$.fragment),a=I(),s=d("div"),w(o.$$.fragment),r=I(),c=d("div"),Y&&Y.c(),i=I(),u=d("div"),h.c(),v=I(),U&&U.c(),x=I(),F&&F.c(),N=I(),X&&X.c(),O=I(),q&&q.c(),V=I(),C&&C.c(),j=Q(),this.h()},l(e){E(l.$$.fragment,e),a=S(e),s=p(e,"DIV",{class:!0});var t=m(s);E(o.$$.fragment,t),r=S(t),c=p(t,"DIV",{class:!0});var n=m(c);Y&&Y.l(n),n.forEach($),i=S(t),u=p(t,"DIV",{class:!0});var f=m(u);h.l(f),v=S(f),U&&U.l(f),x=S(f),F&&F.l(f),N=S(f),X&&X.l(f),O=S(f),q&&q.l(f),f.forEach($),t.forEach($),V=S(e),C&&C.l(e),j=Q(),this.h()},h(){g(c,"class","transition-all ease-in-out duration-500 max-h-screen opacity-100 svelte-1saa0i4"),T(c,"hide",!e[3]),g(u,"class","text-base-content p-6 pt-0 flex-grow transition-all duration-300 flex-col inline-flex gap-2 svelte-1saa0i4"),T(u,"overflowhidden",e[3]),g(s,"class","flex flex-col relative items-stretch bg-base-300 text-base-content w-full h-full overflow-y-scroll")},m(t,n){k(l,t,n),b(t,a,n),b(t,s,n),k(o,s,null),y(s,r),y(s,c),Y&&Y.m(c,null),y(s,i),y(s,u),W[f].m(u,null),y(u,v),U&&U.m(u,null),y(u,x),F&&F.m(u,null),y(u,N),X&&X.m(u,null),y(u,O),q&&q.m(u,null),e[20](s),b(t,V,n),~B&&G[B].m(t,n),b(t,j,n),z=!0},p(e,[t]){var n,a;const s={};4&t&&(s.themeColoredNode=e[2]),l.$set(s);const r={};1073741832&t&&(r.$$scope={dirty:t,ctx:e}),o.$set(r),e[3]?Y?(Y.p(e,t),8&t&&A(Y,1)):(Y=Mt(e),Y.c(),A(Y,1),Y.m(c,null)):Y&&(P(),D(Y,1,1,(()=>{Y=null})),_()),8&t&&T(c,"hide",!e[3]);let i=f;f=R(e),f===i?W[f].p(e,t):(P(),D(W[i],1,1,(()=>{W[i]=null})),_(),h=W[f],h?h.p(e,t):(h=W[f]=M[f](e),h.c()),A(h,1),h.m(u,v)),(null==(n=e[6])?void 0:n.length)?U?(U.p(e,t),64&t&&A(U,1)):(U=Ft(e),U.c(),A(U,1),U.m(u,x)):U&&(P(),D(U,1,1,(()=>{U=null})),_()),e[1].config.showWaitingActivities?F?(F.p(e,t),2&t&&A(F,1)):(F=Xt(e),F.c(),A(F,1),F.m(u,N)):F&&(P(),D(F,1,1,(()=>{F=null})),_()),(null==(a=e[7])?void 0:a.length)?X?(X.p(e,t),128&t&&A(X,1)):(X=Jt(e),X.c(),A(X,1),X.m(u,O)):X&&(P(),D(X,1,1,(()=>{X=null})),_()),e[1].config.showDoneActivities?q?(q.p(e,t),2&t&&A(q,1)):(q=Gt(e),q.c(),A(q,1),q.m(u,null)):q&&(P(),D(q,1,1,(()=>{q=null})),_()),8&t&&T(u,"overflowhidden",e[3]);let d=B;B=H(e),B===d?~B&&G[B].p(e,t):(C&&(P(),D(G[d],1,1,(()=>{G[d]=null})),_()),~B?(C=G[B],C?C.p(e,t):(C=G[B]=J[B](e),C.c()),A(C,1),C.m(j.parentNode,j)):C=null)},i(e){z||(A(l.$$.fragment,e),A(o.$$.fragment,e),A(Y),A(h),A(U),A(F),A(X),A(q),A(C),z=!0)},o(e){D(l.$$.fragment,e),D(o.$$.fragment,e),D(Y),D(h),D(U),D(F),D(X),D(q),D(C),z=!1},d(t){L(l,t),t&&$(a),t&&$(s),L(o),Y&&Y.d(),W[f].d(),U&&U.d(),F&&F.d(),X&&X.d(),q&&q.d(),e[20](null),t&&$(V),~B&&G[B].d(t),t&&$(j)}}}const nn=100,ln=500;function an(e,t,n){let l;re(e,Ve,(e=>n(1,l=e)));let a,s,o,r,{preview:c=!1}=t,i=!1,u=null;const f=e=>{c||We(`${we}/menu/${e}`)};return e.$$set=e=>{"preview"in e&&n(0,c=e.preview)},e.$$.update=()=>{if(2&e.$$.dirty){const e=l.activities.groupBy((e=>e.state));n(5,s=e.get(je.READY.key,ce()).sort(((e,t)=>e.order-t.order)).toArray()),n(6,o=e.get(je.WAITING.key,ce()).sort(((e,t)=>te.fromISO(e.recurrence.nextDate).toMillis()-te.fromISO(t.recurrence.nextDate).toMillis())).toArray()),n(7,r=e.get(je.DONE.key,ce()).sort(((e,t)=>te.fromISO(t.completedAt).toMillis()-te.fromISO(e.completedAt).toMillis())).toArray())}},[c,l,a,i,u,s,o,r,()=>{c||We(`${we}/focus`)},()=>{c||n(4,u=Le())},e=>t=>{c||n(4,u=l.activities.find((t=>t._id===e)))},()=>{n(3,i=!i)},f,()=>{Te(l.config.set("showDoneActivities",!l.config.showDoneActivities))},()=>{Te(l.config.set("showWaitingActivities",!l.config.showWaitingActivities))},({itemNodeCopy:e,itemNode:t})=>{e.style["box-shadow"]="0px 4px 6px -2px rgba(0,0,0,0.8)",e.style.transform=`${e.style.transform} scale(1.01, 1.01)`,t.style.opacity="0%",n(2,a.style.overflowY="hidden",a)},({itemNodeCopy:e,fromIndex:t,toIndex:n})=>{e.style.transform=`${e.style.transform} scale(1.01, 1.01)`,Oe(ze(s.map((e=>e.toJS())),t,n))},({itemNode:e})=>{n(2,a.style.overflowY="scroll",a),e.style.opacity="100%"},()=>f("themes"),()=>f("about"),function(e){Y[e?"unshift":"push"]((()=>{a=e,n(2,a)}))},function(e){u=e,n(4,u)}]}class sn extends i{constructor(e){super(),u(this,e,an,tn,f,{preview:0})}}export{sn as R,ct as S};
