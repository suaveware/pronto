var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,a=(e,t)=>{for(var n in t||(t={}))i.call(t,n)&&s(e,n,t[n]);if(r)for(var n of r(t))o.call(t,n)&&s(e,n,t[n]);return e},u=(e,r)=>t(e,n(r)),c=(e,t)=>{var n={};for(var s in e)i.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&r)for(var s of r(e))t.indexOf(s)<0&&o.call(e,s)&&(n[s]=e[s]);return n};function l(){}const d=e=>e;function h(e,t){for(const n in t)e[n]=t[n];return e}function f(e){return e()}function m(){return Object.create(null)}function p(e){e.forEach(f)}function y(e){return"function"==typeof e}function g(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function v(e,t,n){e.$$.on_destroy.push(function(e,...t){if(null==e)return l;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}(t,n))}function w(e,t,n,r){if(e){const i=b(e,t,n,r);return e[0](i)}}function b(e,t,n,r){return e[1]&&r?h(n.ctx.slice(),e[1](r(t))):n.ctx}function _(e,t,n,r,i,o,s){const a=function(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|i[r];return e}return t.dirty|i}return t.dirty}(t,r,i,o);if(a){const i=b(t,n,r,s);e.p(i,a)}}function E(e,t,n=t){return e.set(n),t}function k(e){return e&&y(e.destroy)?e.destroy:l}const x="undefined"!=typeof window;let O=x?()=>window.performance.now():()=>Date.now(),T=x?e=>requestAnimationFrame(e):l;const S=new Set;function D(e){S.forEach((t=>{t.c(e)||(S.delete(t),t.f())})),0!==S.size&&T(D)}let M=!1;function N(e,t,n,r){for(;e<t;){const i=e+(t-e>>1);n(i)<=r?e=i+1:t=i}return e}function I(e,t){M?(!function(e){if(e.hydrate_init)return;e.hydrate_init=!0;const t=e.childNodes,n=new Int32Array(t.length+1),r=new Int32Array(t.length);n[0]=-1;let i=0;for(let u=0;u<t.length;u++){const e=N(1,i+1,(e=>t[n[e]].claim_order),t[u].claim_order)-1;r[u]=n[e]+1;const o=e+1;n[o]=u,i=Math.max(o,i)}const o=[],s=[];let a=t.length-1;for(let u=n[i]+1;0!=u;u=r[u-1]){for(o.push(t[u-1]);a>=u;a--)s.push(t[a]);a--}for(;a>=0;a--)s.push(t[a]);o.reverse(),s.sort(((e,t)=>e.claim_order-t.claim_order));for(let u=0,c=0;u<s.length;u++){for(;c<o.length&&s[u].claim_order>=o[c].claim_order;)c++;const t=c<o.length?o[c]:null;e.insertBefore(s[u],t)}}(e),(void 0===e.actual_end_child||null!==e.actual_end_child&&e.actual_end_child.parentElement!==e)&&(e.actual_end_child=e.firstChild),t!==e.actual_end_child?e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling):t.parentNode!==e&&e.appendChild(t)}function C(e,t,n){M&&!n?I(e,t):(t.parentNode!==e||n&&t.nextSibling!==n)&&e.insertBefore(t,n||null)}function A(e){e.parentNode.removeChild(e)}function j(e){return document.createElement(e)}function P(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function $(e){return document.createTextNode(e)}function L(){return $(" ")}function F(){return $("")}function R(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function V(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function z(e){return Array.from(e.childNodes)}function q(e,t,n,r,i=!1){void 0===e.claim_info&&(e.claim_info={last_index:0,total_claimed:0});const o=(()=>{for(let r=e.claim_info.last_index;r<e.length;r++){const o=e[r];if(t(o))return n(o),e.splice(r,1),i||(e.claim_info.last_index=r),o}for(let r=e.claim_info.last_index-1;r>=0;r--){const o=e[r];if(t(o))return n(o),e.splice(r,1),i?e.claim_info.last_index--:e.claim_info.last_index=r,o}return r()})();return o.claim_order=e.claim_info.total_claimed,e.claim_info.total_claimed+=1,o}function B(e,t,n,r){return q(e,(e=>e.nodeName===t),(e=>{const t=[];for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r];n[i.name]||t.push(i.name)}t.forEach((t=>e.removeAttribute(t)))}),(()=>r?P(t):j(t)))}function K(e,t){return q(e,(e=>3===e.nodeType),(e=>{e.data=""+t}),(()=>$(t)),!0)}function Z(e){return K(e," ")}function W(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function H(e,t){e.value=null==t?"":t}function U(e,t,n){e.classList[n?"add":"remove"](t)}const G=new Set;let Y,J=0;function X(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-r.length;i&&(e.style.animation=r.join(", "),J-=i,J||T((()=>{J||(G.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),G.clear())})))}function Q(e,t,n,r){if(!t)return l;const i=e.getBoundingClientRect();if(t.left===i.left&&t.right===i.right&&t.top===i.top&&t.bottom===i.bottom)return l;const{delay:o=0,duration:s=300,easing:a=d,start:u=O()+o,end:c=u+s,tick:h=l,css:f}=n(e,{from:t,to:i},r);let m,p=!0,y=!1;function g(){f&&X(e,m),p=!1}return function(e){let t;0===S.size&&T(D),new Promise((n=>{S.add(t={c:e,f:n})}))}((e=>{if(!y&&e>=u&&(y=!0),y&&e>=c&&(h(1,0),g()),!p)return!1;if(y){const t=0+1*a((e-u)/s);h(t,1-t)}return!0})),f&&(m=function(e,t,n,r,i,o,s,a=0){const u=16.666/r;let c="{\n";for(let y=0;y<=1;y+=u){const e=t+(n-t)*o(y);c+=100*y+`%{${s(e,1-e)}}\n`}const l=c+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(l)}_${a}`,h=e.ownerDocument;G.add(h);const f=h.__svelte_stylesheet||(h.__svelte_stylesheet=h.head.appendChild(j("style")).sheet),m=h.__svelte_rules||(h.__svelte_rules={});m[d]||(m[d]=!0,f.insertRule(`@keyframes ${d} ${l}`,f.cssRules.length));const p=e.style.animation||"";return e.style.animation=`${p?`${p}, `:""}${d} ${r}ms linear ${i}ms 1 both`,J+=1,d}(e,0,1,s,o,a,f)),o||(y=!0),h(0,1),g}function ee(e){const t=getComputedStyle(e);if("absolute"!==t.position&&"fixed"!==t.position){const{width:n,height:r}=t,i=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=r,function(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const r=getComputedStyle(e),i="none"===r.transform?"":r.transform;e.style.transform=`${i} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}(e,i)}}function te(e){Y=e}function ne(){if(!Y)throw new Error("Function called outside component initialization");return Y}function re(e){ne().$$.on_mount.push(e)}function ie(e){ne().$$.after_update.push(e)}function oe(){const e=ne();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const i=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);r.slice().forEach((t=>{t.call(e,i)}))}}}function se(e,t){ne().$$.context.set(e,t)}function ae(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const ue=[],ce=[],le=[],de=[],he=Promise.resolve();let fe=!1;function me(e){le.push(e)}let pe=!1;const ye=new Set;function ge(){if(!pe){pe=!0;do{for(let e=0;e<ue.length;e+=1){const t=ue[e];te(t),ve(t.$$)}for(te(null),ue.length=0;ce.length;)ce.pop()();for(let e=0;e<le.length;e+=1){const t=le[e];ye.has(t)||(ye.add(t),t())}le.length=0}while(ue.length);for(;de.length;)de.pop()();fe=!1,pe=!1,ye.clear()}}function ve(e){if(null!==e.fragment){e.update(),p(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(me)}}const we=new Set;let be;function _e(){be={r:0,c:[],p:be}}function Ee(){be.r||p(be.c),be=be.p}function ke(e,t){e&&e.i&&(we.delete(e),e.i(t))}function xe(e,t,n,r){if(e&&e.o){if(we.has(e))return;we.add(e),be.c.push((()=>{we.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function Oe(e,t){e.f(),function(e,t){xe(e,1,1,(()=>{t.delete(e.key)}))}(e,t)}function Te(e,t,n,r,i,o,s,a,u,c,l,d){let h=e.length,f=o.length,m=h;const p={};for(;m--;)p[e[m].key]=m;const y=[],g=new Map,v=new Map;for(m=f;m--;){const e=d(i,o,m),a=n(e);let u=s.get(a);u?r&&u.p(e,t):(u=c(a,e),u.c()),g.set(a,y[m]=u),a in p&&v.set(a,Math.abs(m-p[a]))}const w=new Set,b=new Set;function _(e){ke(e,1),e.m(a,l),s.set(e.key,e),l=e.first,f--}for(;h&&f;){const t=y[f-1],n=e[h-1],r=t.key,i=n.key;t===n?(l=t.first,h--,f--):g.has(i)?!s.has(r)||w.has(r)?_(t):b.has(i)?h--:v.get(r)>v.get(i)?(b.add(r),_(t)):(w.add(i),h--):(u(n,s),h--)}for(;h--;){const t=e[h];g.has(t.key)||u(t,s)}for(;f;)_(y[f-1]);return y}function Se(e,t){const n={},r={},i={$$scope:1};let o=e.length;for(;o--;){const s=e[o],a=t[o];if(a){for(const e in s)e in a||(r[e]=1);for(const e in a)i[e]||(n[e]=a[e],i[e]=1);e[o]=a}else for(const e in s)i[e]=1}for(const s in r)s in n||(n[s]=void 0);return n}function De(e){return"object"==typeof e&&null!==e?e:{}}function Me(e){e&&e.c()}function Ne(e,t){e&&e.l(t)}function Ie(e,t,n,r){const{fragment:i,on_mount:o,on_destroy:s,after_update:a}=e.$$;i&&i.m(t,n),r||me((()=>{const t=o.map(f).filter(y);s?s.push(...t):p(t),e.$$.on_mount=[]})),a.forEach(me)}function Ce(e,t){const n=e.$$;null!==n.fragment&&(p(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ae(e,t){-1===e.$$.dirty[0]&&(ue.push(e),fe||(fe=!0,he.then(ge)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function je(e,t,n,r,i,o,s=[-1]){const a=Y;te(e);const u=e.$$={fragment:null,ctx:null,props:o,update:l,not_equal:i,bound:m(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:t.context||[]),callbacks:m(),dirty:s,skip_bound:!1};let c=!1;if(u.ctx=n?n(e,t.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return u.ctx&&i(u.ctx[t],u.ctx[t]=o)&&(!u.skip_bound&&u.bound[t]&&u.bound[t](o),c&&Ae(e,t)),n})):[],u.update(),c=!0,p(u.before_update),u.fragment=!!r&&r(u.ctx),t.target){if(t.hydrate){M=!0;const e=z(t.target);u.fragment&&u.fragment.l(e),e.forEach(A)}else u.fragment&&u.fragment.c();t.intro&&ke(e.$$.fragment),Ie(e,t.target,t.anchor,t.customElement),M=!1,ge()}te(a)}class Pe{$destroy(){Ce(this,1),this.$destroy=l}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const $e=[];function Le(e,t=l){let n;const r=[];function i(t){if(g(e,t)&&(e=t,n)){const t=!$e.length;for(let n=0;n<r.length;n+=1){const t=r[n];t[1](),$e.push(t,e)}if(t){for(let e=0;e<$e.length;e+=2)$e[e][0]($e[e+1]);$e.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(o,s=l){const a=[o,s];return r.push(a),1===r.length&&(n=t(i)||l),o(e),()=>{const e=r.indexOf(a);-1!==e&&r.splice(e,1),0===r.length&&(n(),n=null)}}}}function Fe(e,t,n){e.dispatchEvent(new CustomEvent("finalize",{detail:{items:t,info:n}}))}function Re(e,t,n){e.dispatchEvent(new CustomEvent("consider",{detail:{items:t,info:n}}))}const Ve="leftForAnother",ze="outsideOfAny";function qe(e,t,n){e.dispatchEvent(new CustomEvent("draggedEntered",{detail:{indexObj:t,draggedEl:n}}))}function Be(e,t,n){e.dispatchEvent(new CustomEvent("draggedLeft",{detail:{draggedEl:t,type:Ve,theOtherDz:n}}))}function Ke(e,t,n){e.dispatchEvent(new CustomEvent("draggedOverIndex",{detail:{indexObj:t,draggedEl:n}}))}const Ze={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:"draggedEntered",DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:"draggedOverIndex",DRAGGED_LEFT:"draggedLeft",DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},We="pointer",He="keyboard";let Ue="id",Ge=0;function Ye(){Ge++}function Je(){if(0===Ge)throw new Error("Bug! trying to decrement when there are no dropzones");Ge--}function Xe(e){if(Ge>0)throw new Error("can only override the id key before initialising any dndzone");if("string"!=typeof e)throw new Error("item id key has to be a string");Ue=e}const Qe="undefined"==typeof window;function et(e){let t;const n=e.getBoundingClientRect(),r=getComputedStyle(e),i=r.transform;if(i){let o,s,a,u;if(i.startsWith("matrix3d("))t=i.slice(9,-1).split(/, /),o=+t[0],s=+t[5],a=+t[12],u=+t[13];else{if(!i.startsWith("matrix("))return n;t=i.slice(7,-1).split(/, /),o=+t[0],s=+t[3],a=+t[4],u=+t[5]}const c=r.transformOrigin,l=n.x-a-(1-o)*parseFloat(c),d=n.y-u-(1-s)*parseFloat(c.slice(c.indexOf(" ")+1)),h=o?n.width/o:e.offsetWidth,f=s?n.height/s:e.offsetHeight;return{x:l,y:d,width:h,height:f,top:d,right:l+h,bottom:d+f,left:l}}return n}function tt(e){const t=et(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function nt(e){const t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function rt(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function it(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function ot(e){return rt(nt(e))}function st(e,t){return it(ot(e),tt(t))}function at(e,t){const n=ot(e),r=ot(t);return i=n,o=r,Math.sqrt(Math.pow(i.x-o.x,2)+Math.pow(i.y-o.y,2));var i,o}let ut;function ct(){ut=new Map}function lt(e,t){if(!st(e,t))return null;const n=t.children;if(0===n.length)return{index:0,isProximityBased:!0};const r=function(e){const t=Array.from(e.children).findIndex((e=>e.getAttribute("data-is-dnd-shadow-item")));if(t>=0)return ut.has(e)||ut.set(e,new Map),ut.get(e).set(t,tt(e.children[t])),t}(t);for(let s=0;s<n.length;s++)if(st(e,n[s])){const n=ut.has(t)&&ut.get(t).get(s);return n&&!it(ot(e),n)?{index:r,isProximityBased:!1}:{index:s,isProximityBased:!1}}let i,o=Number.MAX_VALUE;for(let s=0;s<n.length;s++){const t=at(e,n[s]);t<o&&(o=t,i=s)}return{index:i,isProximityBased:!0}}ct();function dt(){let e;function t(){e={directionObj:void 0,stepPx:0}}function n(t){const{directionObj:r,stepPx:i}=e;r&&(t.scrollBy(r.x*i,r.y*i),window.requestAnimationFrame((()=>n(t))))}function r(e){return 25-e}return t(),{scrollIfNeeded:function(i,o){if(!o)return!1;const s=function(e,t){const n=nt(t);return it(e,n)?{top:e.y-n.top,bottom:n.bottom-e.y,left:e.x-n.left,right:Math.min(n.right,document.documentElement.clientWidth)-e.x}:null}(i,o);if(null===s)return t(),!1;const a=!!e.directionObj;let[u,c]=[!1,!1];return o.scrollHeight>o.clientHeight&&(s.bottom<25?(u=!0,e.directionObj={x:0,y:1},e.stepPx=r(s.bottom)):s.top<25&&(u=!0,e.directionObj={x:0,y:-1},e.stepPx=r(s.top)),!a&&u)||o.scrollWidth>o.clientWidth&&(s.right<25?(c=!0,e.directionObj={x:1,y:0},e.stepPx=r(s.right)):s.left<25&&(c=!0,e.directionObj={x:-1,y:0},e.stepPx=r(s.left)),!a&&c)?(n(o),!0):(t(),!1)},resetScrolling:t}}function ht(e){return JSON.stringify(e,null,2)}function ft(e){if(!e)throw new Error("cannot get depth of a falsy node");return mt(e,0)}function mt(e,t=0){return e.parentElement?mt(e.parentElement,t+1):t-1}const{scrollIfNeeded:pt,resetScrolling:yt}=dt();let gt;function vt(e,t,n=200){let r,i,o,s=!1;const a=Array.from(t).sort(((e,t)=>ft(t)-ft(e)));!function t(){const u=ot(e);if(!pt(u,r)&&o&&Math.abs(o.x-u.x)<10&&Math.abs(o.y-u.y)<10)return void(gt=window.setTimeout(t,n));if(function(e){const t=nt(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}(e))return void function(e){window.dispatchEvent(new CustomEvent("draggedLeftDocument",{detail:{draggedEl:e}}))}(e);o=u;let c=!1;for(const n of a){const t=lt(e,n);if(null===t)continue;const{index:o}=t;c=!0,n!==r?(r&&Be(r,e,n),qe(n,t,e),r=n):o!==i&&(Ke(n,t,e),i=o);break}!c&&s&&r?(!function(e,t){e.dispatchEvent(new CustomEvent("draggedLeft",{detail:{draggedEl:t,type:ze}}))}(r,e),r=void 0,i=void 0,s=!1):s=!0,gt=window.setTimeout(t,n)}()}let wt;function bt(e){const t=e.touches?e.touches[0]:e;wt={x:t.clientX,y:t.clientY}}const{scrollIfNeeded:_t,resetScrolling:Et}=dt();let kt;function xt(){wt&&_t(wt,document.documentElement),kt=window.setTimeout(xt,300)}function Ot(e){return`${e} 0.2s ease`}function Tt(e,t,n,r,i){const o=t.getBoundingClientRect(),s=e.getBoundingClientRect(),a=o.width-s.width,u=o.height-s.height;if(a||u){const t={left:(n-s.left)/s.width,top:(r-s.top)/s.height};e.style.height=`${o.height}px`,e.style.width=`${o.width}px`,e.style.left=parseFloat(e.style.left)-t.left*a+"px",e.style.top=parseFloat(e.style.top)-t.top*u+"px"}St(t,e),i()}function St(e,t){const n=window.getComputedStyle(e);Array.from(n).filter((e=>e.startsWith("background")||e.startsWith("padding")||e.startsWith("font")||e.startsWith("text")||e.startsWith("align")||e.startsWith("justify")||e.startsWith("display")||e.startsWith("flex")||e.startsWith("border")||"opacity"===e||"color"===e||"list-style-type"===e)).forEach((e=>t.style.setProperty(e,n.getPropertyValue(e),n.getPropertyPriority(e))))}function Dt(e,t){e.draggable=!1,e.ondragstart=()=>!1,t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function Mt(e,t=(()=>{}),n=(()=>[])){e.forEach((e=>{const r=t(e);Object.keys(r).forEach((t=>{e.style[t]=r[t]})),n(e).forEach((t=>e.classList.add(t)))}))}function Nt(e,t=(()=>{}),n=(()=>[])){e.forEach((e=>{const r=t(e);Object.keys(r).forEach((t=>{e.style[t]=""})),n(e).forEach((t=>e.classList.contains(t)&&e.classList.remove(t)))}))}const It={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let Ct,At,jt,Pt,$t,Lt,Ft,Rt,Vt,zt,qt,Bt=!1,Kt=!1,Zt=!1;const Wt=new Map,Ht=new Map,Ut=new WeakMap;function Gt(e,t){Wt.get(t).delete(e),Je(),0===Wt.get(t).size&&Wt.delete(t)}function Yt(){window.addEventListener("mousemove",bt),window.addEventListener("touchmove",bt),xt();const e=Wt.get(Pt);for(const n of e)n.addEventListener("draggedEntered",Qt),n.addEventListener("draggedLeft",en),n.addEventListener("draggedOverIndex",tn);window.addEventListener("draggedLeftDocument",rn);const t=Math.max(100,...Array.from(e.keys()).map((e=>Ht.get(e).dropAnimationDurationMs)));vt(At,e,1.07*t)}function Jt(){window.removeEventListener("mousemove",bt),window.removeEventListener("touchmove",bt),wt=void 0,window.clearTimeout(kt),Et();const e=Wt.get(Pt);for(const t of e)t.removeEventListener("draggedEntered",Qt),t.removeEventListener("draggedLeft",en),t.removeEventListener("draggedOverIndex",tn);window.removeEventListener("draggedLeftDocument",rn),clearTimeout(gt),yt(),ct()}function Xt(e){return e.findIndex((e=>!!e.isDndShadowItem&&"id:dnd-shadow-placeholder-0000"!==e[Ue]))}function Qt(e){let{items:t,dropFromOthersDisabled:n}=Ht.get(e.currentTarget);if(n&&e.currentTarget!==$t)return;if(Zt=!1,t=t.filter((e=>e[Ue]!==Ft[Ue])),$t!==e.currentTarget){const e=Ht.get($t).items.filter((e=>!e.isDndShadowItem));Re($t,e,{trigger:Ze.DRAGGED_ENTERED_ANOTHER,id:jt[Ue],source:We})}else{const e=function(e){return e.findIndex((e=>"id:dnd-shadow-placeholder-0000"===e[Ue]))}(t);-1!==e&&t.splice(e,1)}const{index:r,isProximityBased:i}=e.detail.indexObj,o=i&&r===e.currentTarget.children.length-1?r+1:r;Rt=e.currentTarget,t.splice(o,0,Ft),Re(e.currentTarget,t,{trigger:Ze.DRAGGED_ENTERED,id:jt[Ue],source:We})}function en(e){if(!Bt)return;const{items:t,dropFromOthersDisabled:n}=Ht.get(e.currentTarget);if(n&&e.currentTarget!==$t)return;const r=Xt(t),i=t.splice(r,1)[0];Rt=void 0;const{type:o,theOtherDz:s}=e.detail;if(o===ze||o===Ve&&s!==$t&&Ht.get(s).dropFromOthersDisabled){Zt=!0,Rt=$t;const e=Ht.get($t).items;e.splice(Lt,0,i),Re($t,e,{trigger:Ze.DRAGGED_LEFT_ALL,id:jt[Ue],source:We})}Re(e.currentTarget,t,{trigger:Ze.DRAGGED_LEFT,id:jt[Ue],source:We})}function tn(e){const{items:t,dropFromOthersDisabled:n}=Ht.get(e.currentTarget);if(n&&e.currentTarget!==$t)return;Zt=!1;const{index:r}=e.detail.indexObj,i=Xt(t);t.splice(i,1),t.splice(r,0,Ft),Re(e.currentTarget,t,{trigger:Ze.DRAGGED_OVER_INDEX,id:jt[Ue],source:We})}function nn(e){e.preventDefault();const t=e.touches?e.touches[0]:e;zt={x:t.clientX,y:t.clientY},At.style.transform=`translate3d(${zt.x-Vt.x}px, ${zt.y-Vt.y}px, 0)`}function rn(){Kt=!0,window.removeEventListener("mousemove",nn),window.removeEventListener("touchmove",nn),window.removeEventListener("mouseup",rn),window.removeEventListener("touchend",rn),Jt(),At.style.cursor="grab",Rt||(Rt=$t);let{items:e,type:t}=Ht.get(Rt);Nt(Wt.get(t),(e=>Ht.get(e).dropTargetStyle),(e=>Ht.get(e).dropTargetClasses));let n=Xt(e);-1===n&&(n=Lt),e=e.map((e=>e.isDndShadowItem?jt:e)),function(e,t){const n=et(Rt.children[e]),r={x:n.left-parseFloat(At.style.left),y:n.top-parseFloat(At.style.top)},{dropAnimationDurationMs:i}=Ht.get(Rt),o=`transform ${i}ms ease`;At.style.transition=At.style.transition?At.style.transition+","+o:o,At.style.transform=`translate3d(${r.x}px, ${r.y}px, 0)`,window.setTimeout(t,i)}(n,(function(){var t;qt(),Fe(Rt,e,{trigger:Zt?Ze.DROPPED_OUTSIDE_OF_ANY:Ze.DROPPED_INTO_ZONE,id:jt[Ue],source:We}),Rt!==$t&&Fe($t,Ht.get($t).items,{trigger:Ze.DROPPED_INTO_ANOTHER,id:jt[Ue],source:We}),(t=Rt.children[n]).style.visibility="",t.removeAttribute("data-is-dnd-shadow-item"),At.remove(),Ct.remove(),At=void 0,Ct=void 0,jt=void 0,Pt=void 0,$t=void 0,Lt=void 0,Ft=void 0,Rt=void 0,Vt=void 0,zt=void 0,Bt=!1,Kt=!1,qt=void 0,Zt=!1}))}function on(e,t){const n={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:It,dropTargetClasses:[],transformDraggedElement:()=>{},centreDraggedOnCursor:!1,customStartEvent:""};let r=new Map;function i(){window.removeEventListener("mousemove",s),window.removeEventListener("touchmove",s),window.removeEventListener("mouseup",o),window.removeEventListener("touchend",o)}function o(){i(),Ct=void 0,Vt=void 0,zt=void 0}function s(e){e.preventDefault();const t=e.touches?e.touches[0]:e;zt={x:t.clientX,y:t.clientY},(Math.abs(zt.x-Vt.x)>=3||Math.abs(zt.y-Vt.y)>=3)&&(i(),d())}function c(e){if(e.target!==e.currentTarget&&(void 0!==e.target.value||e.target.isContentEditable))return;if(e.button)return;if(Bt)return;e.stopPropagation();const t=e.touches?e.touches[0]:e;Vt={x:t.clientX,y:t.clientY},zt=a({},Vt),Ct=e.currentTarget,window.addEventListener("mousemove",s,{passive:!1}),window.addEventListener("touchmove",s,{passive:!1,capture:!1}),window.addEventListener("mouseup",o,{passive:!1}),window.addEventListener("touchend",o,{passive:!1})}function l(e){Ct=e.currentTarget,e.detail&&e.detail.startDragPosition&&(Vt=e.detail.startDragPosition,zt=a({},Vt),d())}function d(){Bt=!0;const e=r.get(Ct);Lt=e,$t=Ct.parentElement;const{items:t,type:i,centreDraggedOnCursor:o}=n;jt=a({},t[e]),Pt=i,Ft=u(a({},jt),{isDndShadowItem:!0});const s=u(a({},Ft),{[Ue]:"id:dnd-shadow-placeholder-0000"});At=function(e,t){const n=e.getBoundingClientRect(),r=e.cloneNode(!0);St(e,r),r.id="dnd-action-dragged-el",r.style.position="fixed";let i=n.top,o=n.left;if(r.style.top=`${i}px`,r.style.left=`${o}px`,t){const e=rt(n);i-=e.y-t.y,o-=e.x-t.x,window.setTimeout((()=>{r.style.top=`${i}px`,r.style.left=`${o}px`}),0)}return r.style.margin="0",r.style.boxSizing="border-box",r.style.height=`${n.height}px`,r.style.width=`${n.width}px`,r.style.transition=`${Ot("top")}, ${Ot("left")}, ${Ot("background-color")}, ${Ot("opacity")}, ${Ot("color")} `,window.setTimeout((()=>r.style.transition+=`, ${Ot("width")}, ${Ot("height")}`),0),r.style.zIndex="9999",r.style.cursor="grabbing",r}(Ct,o&&zt),window.requestAnimationFrame((function e(){var t;At.parentElement?window.requestAnimationFrame(e):(document.body.appendChild(At),At.focus(),Yt(),(t=Ct).style.display="none",t.style.position="fixed",t.style.zIndex="-5",document.body.appendChild(Ct))})),Mt(Array.from(Wt.get(n.type)).filter((e=>e===$t||!Ht.get(e).dropFromOthersDisabled)),(e=>Ht.get(e).dropTargetStyle),(e=>Ht.get(e).dropTargetClasses)),t.splice(e,1,s),qt=function(e){const t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");const n=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=n}}($t),Re($t,t,{trigger:Ze.DRAG_STARTED,id:jt[Ue],source:We}),window.addEventListener("mousemove",nn,{passive:!1}),window.addEventListener("touchmove",nn,{passive:!1,capture:!1}),window.addEventListener("mouseup",rn,{passive:!1}),window.addEventListener("touchend",rn,{passive:!1})}function h({items:t,flipDurationMs:i=0,type:o="--any--",dragDisabled:s=!1,dropFromOthersDisabled:a=!1,dropTargetStyle:u=It,dropTargetClasses:d=[],transformDraggedElement:h=(()=>{}),centreDraggedOnCursor:f=!1,customStartEvent:m=""}){var p,y;n.dropAnimationDurationMs=i,n.type&&o!==n.type&&Gt(e,n.type),n.type=o,p=e,y=o,Wt.has(y)||Wt.set(y,new Set),Wt.get(y).has(p)||(Wt.get(y).add(p),Ye()),n.items=[...t],n.dragDisabled=s,n.transformDraggedElement=h,n.centreDraggedOnCursor=f,n.customStartEvent=m,!Bt||Kt||function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!{}.hasOwnProperty.call(t,n)||t[n]!==e[n])return!1;return!0}(u,n.dropTargetStyle)&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(d,n.dropTargetClasses)||(Nt([e],(()=>n.dropTargetStyle),(()=>d)),Mt([e],(()=>u),(()=>d))),n.dropTargetStyle=u,n.dropTargetClasses=[...d],Bt&&n.dropFromOthersDisabled!==a&&(a?Nt([e],(e=>Ht.get(e).dropTargetStyle),(e=>Ht.get(e).dropTargetClasses)):Mt([e],(e=>Ht.get(e).dropTargetStyle),(e=>Ht.get(e).dropTargetClasses))),n.dropFromOthersDisabled=a,Ht.set(e,n);const g=Xt(n.items);for(let w=0;w<e.children.length;w++){const t=e.children[w];Dt(t,s),w!==g?(console.log("config",n),n.customStartEvent?t.removeEventListener(n.customStartEvent,Ut.get(t)):(t.removeEventListener("mousedown",Ut.get(t)),t.removeEventListener("touchstart",Ut.get(t))),s||(n.customStartEvent?t.addEventListener(n.customStartEvent,l):(t.addEventListener("mousedown",c),t.addEventListener("touchstart",c)),Ut.set(t,c)),r.set(t,w)):(Tt(At,t,zt.x,zt.y,(()=>n.transformDraggedElement(At,jt,w))),(v=t).style.visibility="hidden",v.setAttribute("data-is-dnd-shadow-item","true"))}var v}return h(t),{update:e=>{h(e)},destroy:()=>{Gt(e,n.type),Ht.delete(e)}}}const sn={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},an={[sn.DND_ZONE_ACTIVE]:"Tab to one the items and press space-bar or enter to start dragging it",[sn.DND_ZONE_DRAG_DISABLED]:"This is a disabled drag and drop list"};let un;function cn(){un=document.createElement("div"),un.id="dnd-action-aria-alert",un.style.position="fixed",un.style.bottom="0",un.style.left="0",un.style.zIndex="-5",un.style.opacity="0",un.style.height="0",un.style.width="0",un.setAttribute("role","alert"),document.body.prepend(un),Object.entries(an).forEach((([e,t])=>document.body.prepend(function(e,t){const n=document.createElement("div");return n.id=e,n.innerHTML=`<p>${t}</p>`,n.style.display="none",n.style.position="fixed",n.style.zIndex="-5",n}(e,t))))}function ln(e){un.innerHTML="";const t=document.createTextNode(e);un.appendChild(t),un.style.display="none",un.style.display="inline"}const dn={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let hn,fn,mn,pn,yn=!1,gn="",vn="";const wn=new WeakSet,bn=new WeakMap,_n=new WeakMap,En=new Map,kn=new Map,xn=new Map,On=Qe?null:("complete"===document.readyState?cn():window.addEventListener("DOMContentLoaded",cn),a({},sn));function Tn(e,t){fn===e&&In(),xn.get(t).delete(e),Je(),0===xn.get(t).size&&xn.delete(t),0===xn.size&&(window.removeEventListener("keydown",Sn),window.removeEventListener("click",Dn))}function Sn(e){if(yn)switch(e.key){case"Escape":In()}}function Dn(){yn&&(wn.has(document.activeElement)||In())}function Mn(e){if(!yn)return;const t=e.currentTarget;if(t===fn)return;gn=t.getAttribute("aria-label")||"";const{items:n}=kn.get(fn),r=n.find((e=>e[Ue]===pn)),i=n.indexOf(r),o=n.splice(i,1)[0],{items:s,autoAriaDisabled:a}=kn.get(t);t.getBoundingClientRect().top<fn.getBoundingClientRect().top||t.getBoundingClientRect().left<fn.getBoundingClientRect().left?(s.push(o),a||ln(`Moved item ${vn} to the end of the list ${gn}`)):(s.unshift(o),a||ln(`Moved item ${vn} to the beginning of the list ${gn}`));Fe(fn,n,{trigger:Ze.DROPPED_INTO_ANOTHER,id:pn,source:He}),Fe(t,s,{trigger:Ze.DROPPED_INTO_ZONE,id:pn,source:He}),fn=t}function Nn(){En.forEach((({update:e},t)=>e(kn.get(t))))}function In(e=!0){kn.get(fn).autoAriaDisabled||ln(`Stopped dragging item ${vn}`),wn.has(document.activeElement)&&document.activeElement.blur(),e&&Re(fn,kn.get(fn).items,{trigger:Ze.DRAG_STOPPED,id:pn,source:He}),Nt(xn.get(hn),(e=>kn.get(e).dropTargetStyle),(e=>kn.get(e).dropTargetClasses)),mn=null,pn=null,vn="",hn=null,fn=null,gn="",yn=!1,Nn()}function Cn(e,t){const n={items:void 0,type:void 0,dragDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:dn,dropTargetClasses:[],autoAriaDisabled:!1};function r(e,t,n){e.length<=1||e.splice(n,1,e.splice(t,1,e[n])[0])}function i(t){switch(t.key){case"Enter":case" ":if((void 0!==t.target.disabled||t.target.href||t.target.isContentEditable)&&!wn.has(t.target))return;t.preventDefault(),t.stopPropagation(),yn?In():o(t);break;case"ArrowDown":case"ArrowRight":{if(!yn)return;t.preventDefault(),t.stopPropagation();const{items:i}=kn.get(e),o=Array.from(e.children),s=o.indexOf(t.currentTarget);s<o.length-1&&(n.autoAriaDisabled||ln(`Moved item ${vn} to position ${s+2} in the list ${gn}`),r(i,s,s+1),Fe(e,i,{trigger:Ze.DROPPED_INTO_ZONE,id:pn,source:He}));break}case"ArrowUp":case"ArrowLeft":{if(!yn)return;t.preventDefault(),t.stopPropagation();const{items:i}=kn.get(e),o=Array.from(e.children).indexOf(t.currentTarget);o>0&&(n.autoAriaDisabled||ln(`Moved item ${vn} to position ${o} in the list ${gn}`),r(i,o,o-1),Fe(e,i,{trigger:Ze.DROPPED_INTO_ZONE,id:pn,source:He}));break}}}function o(t){!function(t){const{items:n}=kn.get(e),r=Array.from(e.children),i=r.indexOf(t);mn=t,mn.tabIndex=0,pn=n[i][Ue],vn=r[i].getAttribute("aria-label")||""}(t.currentTarget),fn=e,hn=n.type,yn=!0;const r=Array.from(xn.get(n.type)).filter((e=>e===fn||!kn.get(e).dropFromOthersDisabled));if(Mt(r,(e=>kn.get(e).dropTargetStyle),(e=>kn.get(e).dropTargetClasses)),!n.autoAriaDisabled){let e=`Started dragging item ${vn}. Use the arrow keys to move it within its list ${gn}`;r.length>1&&(e+=", or tab to another list in order to move the item into it"),ln(e)}Re(e,kn.get(e).items,{trigger:Ze.DRAG_STARTED,id:pn,source:He}),Nn()}function s(e){yn&&e.currentTarget!==mn&&(e.stopPropagation(),In(!1),o(e))}function a({items:t=[],type:r="--any--",dragDisabled:o=!1,dropFromOthersDisabled:a=!1,dropTargetStyle:u=dn,dropTargetClasses:c=[],autoAriaDisabled:l=!1}){var d,h;n.items=[...t],n.dragDisabled=o,n.dropFromOthersDisabled=a,n.dropTargetStyle=u,n.dropTargetClasses=c,n.autoAriaDisabled=l,l||(e.setAttribute("aria-disabled",o),e.setAttribute("role","list"),e.setAttribute("aria-describedby",o?On.DND_ZONE_DRAG_DISABLED:On.DND_ZONE_ACTIVE)),n.type&&r!==n.type&&Tn(e,n.type),n.type=r,d=e,h=r,0===xn.size&&(window.addEventListener("keydown",Sn),window.addEventListener("click",Dn)),xn.has(h)||xn.set(h,new Set),xn.get(h).has(d)||(xn.get(h).add(d),Ye()),kn.set(e,n),e.tabIndex=yn&&(e===fn||mn.contains(e)||n.dropFromOthersDisabled||fn&&n.type!==kn.get(fn).type)?-1:0,e.addEventListener("focus",Mn);for(let f=0;f<e.children.length;f++){const t=e.children[f];wn.add(t),t.tabIndex=yn?-1:0,l||t.setAttribute("role","listitem"),t.removeEventListener("keydown",bn.get(t)),t.removeEventListener("click",_n.get(t)),o||(t.addEventListener("keydown",i),bn.set(t,i),t.addEventListener("click",s),_n.set(t,s)),yn&&n.items[f][Ue]===pn&&(mn=t,mn.tabIndex=0,t.focus())}}a(t);const u={update:e=>{a(e)},destroy:()=>{Tn(e,n.type),kn.delete(e),En.delete(e)}};return En.set(e,u),u}function An(e,t){jn(t);const n=on(e,t),r=Cn(e,t);return{update:e=>{jn(e),n.update(e),r.update(e)},destroy:()=>{n.destroy(),r.destroy()}}}function jn(e){const t=e,{items:n,flipDurationMs:r,type:i,dragDisabled:o,dropFromOthersDisabled:s,dropTargetStyle:a,dropTargetClasses:u,transformDraggedElement:l,autoAriaDisabled:d,centreDraggedOnCursor:h,customStartEvent:f}=t,m=c(t,["items","flipDurationMs","type","dragDisabled","dropFromOthersDisabled","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","customStartEvent"]);if(Object.keys(m).length>0&&console.warn("dndzone will ignore unknown options",m),!n)throw new Error("no 'items' key provided to dndzone");const p=n.find((e=>!{}.hasOwnProperty.call(e,Ue)));if(p)throw new Error(`missing '${Ue}' property for item ${ht(p)}`);if(u&&!Array.isArray(u))throw new Error(`dropTargetClasses should be an array but instead it is a ${typeof u}, ${ht(u)}`)}function Pn(e){const t=e-1;return t*t*t+1}function $n(e,t,n={}){const r=getComputedStyle(e),i="none"===r.transform?"":r.transform,o=t.from.width/e.clientWidth,s=t.from.height/e.clientHeight,a=(t.from.left-t.to.left)/o,u=(t.from.top-t.to.top)/s,c=Math.sqrt(a*a+u*u),{delay:l=0,duration:d=(e=>120*Math.sqrt(e)),easing:h=Pn}=n;return{delay:l,duration:y(d)?d(c):d,easing:h,css:(e,t)=>`transform: ${i} translate(${t*a}px, ${t*u}px);`}}for(var Ln,Fn=256,Rn=[];Fn--;)Rn[Fn]=(Fn+256).toString(16).substring(1);function Vn(){var e,t=0,n="";if(!Ln||Fn+16>256){for(Ln=Array(t=256);t--;)Ln[t]=256*Math.random()|0;t=Fn=0}for(;t<16;t++)e=Ln[Fn+t],n+=6==t?Rn[15&e|64]:8==t?Rn[63&e|128]:Rn[e],1&t&&t>1&&t<11&&(n+="-");return Fn++,n}class zn extends Error{}class qn extends zn{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class Bn extends zn{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class Kn extends zn{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Zn extends zn{}class Wn extends zn{constructor(e){super(`Invalid unit ${e}`)}}class Hn extends zn{}class Un extends zn{constructor(){super("Zone is an abstract class")}}const Gn="numeric",Yn="short",Jn="long",Xn={year:Gn,month:Gn,day:Gn},Qn={year:Gn,month:Yn,day:Gn},er={year:Gn,month:Yn,day:Gn,weekday:Yn},tr={year:Gn,month:Jn,day:Gn},nr={year:Gn,month:Jn,day:Gn,weekday:Jn},rr={hour:Gn,minute:Gn},ir={hour:Gn,minute:Gn,second:Gn},or={hour:Gn,minute:Gn,second:Gn,timeZoneName:Yn},sr={hour:Gn,minute:Gn,second:Gn,timeZoneName:Jn},ar={hour:Gn,minute:Gn,hour12:!1},ur={hour:Gn,minute:Gn,second:Gn,hour12:!1},cr={hour:Gn,minute:Gn,second:Gn,hour12:!1,timeZoneName:Yn},lr={hour:Gn,minute:Gn,second:Gn,hour12:!1,timeZoneName:Jn},dr={year:Gn,month:Gn,day:Gn,hour:Gn,minute:Gn},hr={year:Gn,month:Gn,day:Gn,hour:Gn,minute:Gn,second:Gn},fr={year:Gn,month:Yn,day:Gn,hour:Gn,minute:Gn},mr={year:Gn,month:Yn,day:Gn,hour:Gn,minute:Gn,second:Gn},pr={year:Gn,month:Yn,day:Gn,weekday:Yn,hour:Gn,minute:Gn},yr={year:Gn,month:Jn,day:Gn,hour:Gn,minute:Gn,timeZoneName:Yn},gr={year:Gn,month:Jn,day:Gn,hour:Gn,minute:Gn,second:Gn,timeZoneName:Yn},vr={year:Gn,month:Jn,day:Gn,weekday:Jn,hour:Gn,minute:Gn,timeZoneName:Jn},wr={year:Gn,month:Jn,day:Gn,weekday:Jn,hour:Gn,minute:Gn,second:Gn,timeZoneName:Jn};function br(e){return void 0===e}function _r(e){return"number"==typeof e}function Er(e){return"number"==typeof e&&e%1==0}function kr(){try{return"undefined"!=typeof Intl&&Intl.DateTimeFormat}catch(e){return!1}}function xr(){return!br(Intl.DateTimeFormat.prototype.formatToParts)}function Or(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function Tr(e,t,n){if(0!==e.length)return e.reduce(((e,r)=>{const i=[t(r),r];return e&&n(e[0],i[0])===e[0]?e:i}),null)[1]}function Sr(e,t){return t.reduce(((t,n)=>(t[n]=e[n],t)),{})}function Dr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Mr(e,t,n){return Er(e)&&e>=t&&e<=n}function Nr(e,t=2){const n=e<0?"-":"",r=n?-1*e:e;let i;return i=r.toString().length<t?("0".repeat(t)+r).slice(-t):r.toString(),`${n}${i}`}function Ir(e){return br(e)||null===e||""===e?void 0:parseInt(e,10)}function Cr(e){if(!br(e)&&null!==e&&""!==e){const t=1e3*parseFloat("0."+e);return Math.floor(t)}}function Ar(e,t,n=!1){const r=10**t;return(n?Math.trunc:Math.round)(e*r)/r}function jr(e){return e%4==0&&(e%100!=0||e%400==0)}function Pr(e){return jr(e)?366:365}function $r(e,t){const n=(r=t-1)-(i=12)*Math.floor(r/i)+1;var r,i;return 2===n?jr(e+(t-n)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Lr(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function Fr(e){const t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,n=e-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return 4===t||3===r?53:52}function Rr(e){return e>99?e:e>60?1900+e:2e3+e}function Vr(e,t,n,r=null){const i=new Date(e),o={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(o.timeZone=r);const s=Object.assign({timeZoneName:t},o),a=kr();if(a&&xr()){const e=new Intl.DateTimeFormat(n,s).formatToParts(i).find((e=>"timezonename"===e.type.toLowerCase()));return e?e.value:null}if(a){const e=new Intl.DateTimeFormat(n,o).format(i);return new Intl.DateTimeFormat(n,s).format(i).substring(e.length).replace(/^[, \u200e]+/,"")}return null}function zr(e,t){let n=parseInt(e,10);Number.isNaN(n)&&(n=0);const r=parseInt(t,10)||0;return 60*n+(n<0||Object.is(n,-0)?-r:r)}function qr(e){const t=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(t))throw new Hn(`Invalid unit value ${e}`);return t}function Br(e,t,n){const r={};for(const i in e)if(Dr(e,i)){if(n.indexOf(i)>=0)continue;const o=e[i];if(null==o)continue;r[t(i)]=qr(o)}return r}function Kr(e,t){const n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return`${i}${Nr(n,2)}:${Nr(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${Nr(n,2)}${Nr(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function Zr(e){return Sr(e,["hour","minute","second","millisecond"])}const Wr=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/;function Hr(e){return JSON.stringify(e,Object.keys(e).sort())}const Ur=["January","February","March","April","May","June","July","August","September","October","November","December"],Gr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Yr=["J","F","M","A","M","J","J","A","S","O","N","D"];function Jr(e){switch(e){case"narrow":return[...Yr];case"short":return[...Gr];case"long":return[...Ur];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Xr=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Qr=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ei=["M","T","W","T","F","S","S"];function ti(e){switch(e){case"narrow":return[...ei];case"short":return[...Qr];case"long":return[...Xr];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const ni=["AM","PM"],ri=["Before Christ","Anno Domini"],ii=["BC","AD"],oi=["B","A"];function si(e){switch(e){case"narrow":return[...oi];case"short":return[...ii];case"long":return[...ri];default:return null}}function ai(e,t){let n="";for(const r of e)r.literal?n+=r.val:n+=t(r.val);return n}const ui={D:Xn,DD:Qn,DDD:tr,DDDD:nr,t:rr,tt:ir,ttt:or,tttt:sr,T:ar,TT:ur,TTT:cr,TTTT:lr,f:dr,ff:fr,fff:yr,ffff:vr,F:hr,FF:mr,FFF:gr,FFFF:wr};class ci{static create(e,t={}){return new ci(e,t)}static parseFormat(e){let t=null,n="",r=!1;const i=[];for(let o=0;o<e.length;o++){const s=e.charAt(o);"'"===s?(n.length>0&&i.push({literal:r,val:n}),t=null,n="",r=!r):r||s===t?n+=s:(n.length>0&&i.push({literal:!1,val:n}),n=s,t=s)}return n.length>0&&i.push({literal:r,val:n}),i}static macroTokenToFormatOpts(e){return ui[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(e,Object.assign({},this.opts,t)).format()}formatDateTime(e,t={}){return this.loc.dtFormatter(e,Object.assign({},this.opts,t)).format()}formatDateTimeParts(e,t={}){return this.loc.dtFormatter(e,Object.assign({},this.opts,t)).formatToParts()}resolvedOptions(e,t={}){return this.loc.dtFormatter(e,Object.assign({},this.opts,t)).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return Nr(e,t);const n=Object.assign({},this.opts);return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,t){const n="en"===this.loc.listingMode(),r=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar&&xr(),i=(t,n)=>this.loc.extract(e,t,n),o=t=>e.isOffsetFixed&&0===e.offset&&t.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,t.format):"",s=()=>n?function(e){return ni[e.hour<12?0:1]}(e):i({hour:"numeric",hour12:!0},"dayperiod"),a=(t,r)=>n?function(e,t){return Jr(t)[e.month-1]}(e,t):i(r?{month:t}:{month:t,day:"numeric"},"month"),u=(t,r)=>n?function(e,t){return ti(t)[e.weekday-1]}(e,t):i(r?{weekday:t}:{weekday:t,month:"long",day:"numeric"},"weekday"),c=t=>{const n=ci.macroTokenToFormatOpts(t);return n?this.formatWithSystemDefault(e,n):t},l=t=>n?function(e,t){return si(t)[e.year<0?0:1]}(e,t):i({era:t},"era");return ai(ci.parseFormat(t),(t=>{switch(t){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12==0?12:e.hour%12);case"hh":return this.num(e.hour%12==0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return s();case"d":return r?i({day:"numeric"},"day"):this.num(e.day);case"dd":return r?i({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return r?i({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?i({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return a("short",!0);case"LLLL":return a("long",!0);case"LLLLL":return a("narrow",!0);case"M":return r?i({month:"numeric"},"month"):this.num(e.month);case"MM":return r?i({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return a("short",!1);case"MMMM":return a("long",!1);case"MMMMM":return a("narrow",!1);case"y":return r?i({year:"numeric"},"year"):this.num(e.year);case"yy":return r?i({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?i({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?i({year:"numeric"},"year"):this.num(e.year,6);case"G":return l("short");case"GG":return l("long");case"GGGGG":return l("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(t)}}))}formatDurationFromString(e,t){const n=e=>{switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},r=ci.parseFormat(t),i=r.reduce(((e,{literal:t,val:n})=>t?e:e.concat(n)),[]);return ai(r,(e=>t=>{const r=n(t);return r?this.num(e.get(r),t.length):t})(e.shiftTo(...i.map(n).filter((e=>e)))))}}class li{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class di{get type(){throw new Un}get name(){throw new Un}get universal(){throw new Un}offsetName(e,t){throw new Un}formatOffset(e,t){throw new Un}offset(e){throw new Un}equals(e){throw new Un}get isValid(){throw new Un}}let hi=null;class fi extends di{static get instance(){return null===hi&&(hi=new fi),hi}get type(){return"local"}get name(){return kr()?(new Intl.DateTimeFormat).resolvedOptions().timeZone:"local"}get universal(){return!1}offsetName(e,{format:t,locale:n}){return Vr(e,t,n)}formatOffset(e,t){return Kr(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return"local"===e.type}get isValid(){return!0}}const mi=RegExp(`^${Wr.source}$`);let pi={};const yi={year:0,month:1,day:2,hour:3,minute:4,second:5};let gi={};class vi extends di{static create(e){return gi[e]||(gi[e]=new vi(e)),gi[e]}static resetCache(){gi={},pi={}}static isValidSpecifier(e){return!(!e||!e.match(mi))}static isValidZone(e){try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(t){return!1}}static parseGMTOffset(e){if(e){const t=e.match(/^Etc\/GMT(0|[+-]\d{1,2})$/i);if(t)return-60*parseInt(t[1])}return null}constructor(e){super(),this.zoneName=e,this.valid=vi.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get universal(){return!1}offsetName(e,{format:t,locale:n}){return Vr(e,t,n,this.name)}formatOffset(e,t){return Kr(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const n=(c=this.name,pi[c]||(pi[c]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:c,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),pi[c]),[r,i,o,s,a,u]=n.formatToParts?function(e,t){const n=e.formatToParts(t),r=[];for(let i=0;i<n.length;i++){const{type:e,value:t}=n[i],o=yi[e];br(o)||(r[o]=parseInt(t,10))}return r}(n,t):function(e,t){const n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n),[,i,o,s,a,u,c]=r;return[s,i,o,a,u,c]}(n,t);var c;let l=+t;const d=l%1e3;return l-=d>=0?d:1e3+d,(Lr({year:r,month:i,day:o,hour:24===s?0:s,minute:a,second:u,millisecond:0})-l)/6e4}equals(e){return"iana"===e.type&&e.name===this.name}get isValid(){return this.valid}}let wi=null;class bi extends di{static get utcInstance(){return null===wi&&(wi=new bi(0)),wi}static instance(e){return 0===e?bi.utcInstance:new bi(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new bi(zr(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${Kr(this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return Kr(this.fixed,t)}get universal(){return!0}offset(){return this.fixed}equals(e){return"fixed"===e.type&&e.fixed===this.fixed}get isValid(){return!0}}class _i extends di{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get universal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Ei(e,t){let n;if(br(e)||null===e)return t;if(e instanceof di)return e;if("string"==typeof e){const r=e.toLowerCase();return"local"===r?t:"utc"===r||"gmt"===r?bi.utcInstance:null!=(n=vi.parseGMTOffset(e))?bi.instance(n):vi.isValidSpecifier(r)?vi.create(e):bi.parseSpecifier(r)||new _i(e)}return _r(e)?bi.instance(e):"object"==typeof e&&e.offset&&"number"==typeof e.offset?e:new _i(e)}let ki=()=>Date.now(),xi=null,Oi=null,Ti=null,Si=null,Di=!1;class Mi{static get now(){return ki}static set now(e){ki=e}static get defaultZoneName(){return Mi.defaultZone.name}static set defaultZoneName(e){xi=e?Ei(e):null}static get defaultZone(){return xi||fi.instance}static get defaultLocale(){return Oi}static set defaultLocale(e){Oi=e}static get defaultNumberingSystem(){return Ti}static set defaultNumberingSystem(e){Ti=e}static get defaultOutputCalendar(){return Si}static set defaultOutputCalendar(e){Si=e}static get throwOnInvalid(){return Di}static set throwOnInvalid(e){Di=e}static resetCaches(){Ri.resetCache(),vi.resetCache()}}let Ni={};function Ii(e,t={}){const n=JSON.stringify([e,t]);let r=Ni[n];return r||(r=new Intl.DateTimeFormat(e,t),Ni[n]=r),r}let Ci={};let Ai={};let ji=null;function Pi(e,t,n,r,i){const o=e.listingMode(n);return"error"===o?null:"en"===o?r(t):i(t)}class $i{constructor(e,t,n){if(this.padTo=n.padTo||0,this.floor=n.floor||!1,!t&&kr()){const t={useGrouping:!1};n.padTo>0&&(t.minimumIntegerDigits=n.padTo),this.inf=function(e,t={}){const n=JSON.stringify([e,t]);let r=Ci[n];return r||(r=new Intl.NumberFormat(e,t),Ci[n]=r),r}(e,t)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}return Nr(this.floor?Math.floor(e):Ar(e,3),this.padTo)}}class Li{constructor(e,t,n){let r;if(this.opts=n,this.hasIntl=kr(),e.zone.universal&&this.hasIntl){const t=e.offset/60*-1,i=t>=0?`Etc/GMT+${t}`:`Etc/GMT${t}`,o=vi.isValidZone(i);0!==e.offset&&o?(r=i,this.dt=e):(r="UTC",n.timeZoneName?this.dt=e:this.dt=0===e.offset?e:Ls.fromMillis(e.ts+60*e.offset*1e3))}else"local"===e.zone.type?this.dt=e:(this.dt=e,r=e.zone.name);if(this.hasIntl){const e=Object.assign({},this.opts);r&&(e.timeZone=r),this.dtf=Ii(t,e)}}format(){if(this.hasIntl)return this.dtf.format(this.dt.toJSDate());{const e=function(e){const t="EEEE, LLLL d, yyyy, h:mm a";switch(Hr(Sr(e,["weekday","era","year","month","day","hour","minute","second","timeZoneName","hour12"]))){case Hr(Xn):return"M/d/yyyy";case Hr(Qn):return"LLL d, yyyy";case Hr(er):return"EEE, LLL d, yyyy";case Hr(tr):return"LLLL d, yyyy";case Hr(nr):return"EEEE, LLLL d, yyyy";case Hr(rr):return"h:mm a";case Hr(ir):return"h:mm:ss a";case Hr(or):case Hr(sr):return"h:mm a";case Hr(ar):return"HH:mm";case Hr(ur):return"HH:mm:ss";case Hr(cr):case Hr(lr):return"HH:mm";case Hr(dr):return"M/d/yyyy, h:mm a";case Hr(fr):return"LLL d, yyyy, h:mm a";case Hr(yr):return"LLLL d, yyyy, h:mm a";case Hr(vr):return t;case Hr(hr):return"M/d/yyyy, h:mm:ss a";case Hr(mr):return"LLL d, yyyy, h:mm:ss a";case Hr(pr):return"EEE, d LLL yyyy, h:mm a";case Hr(gr):return"LLLL d, yyyy, h:mm:ss a";case Hr(wr):return"EEEE, LLLL d, yyyy, h:mm:ss a";default:return t}}(this.opts),t=Ri.create("en-US");return ci.create(t).formatDateTimeFromString(this.dt,e)}}formatToParts(){return this.hasIntl&&xr()?this.dtf.formatToParts(this.dt.toJSDate()):[]}resolvedOptions(){return this.hasIntl?this.dtf.resolvedOptions():{locale:"en-US",numberingSystem:"latn",outputCalendar:"gregory"}}}class Fi{constructor(e,t,n){this.opts=Object.assign({style:"long"},n),!t&&Or()&&(this.rtf=function(e,t={}){const n=t,{base:r}=n,i=c(n,["base"]),o=JSON.stringify([e,i]);let s=Ai[o];return s||(s=new Intl.RelativeTimeFormat(e,t),Ai[o]=s),s}(e,n))}format(e,t){return this.rtf?this.rtf.format(e,t):function(e,t,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===n&&o){const n="days"===e;switch(t){case 1:return n?"tomorrow":`next ${i[e][0]}`;case-1:return n?"yesterday":`last ${i[e][0]}`;case 0:return n?"today":`this ${i[e][0]}`}}const s=Object.is(t,-0)||t<0,a=Math.abs(t),u=1===a,c=i[e],l=r?u?c[1]:c[2]||c[1]:u?i[e][0]:e;return s?`${a} ${l} ago`:`in ${a} ${l}`}(t,e,this.opts.numeric,"long"!==this.opts.style)}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}class Ri{static fromOpts(e){return Ri.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,t,n,r=!1){const i=e||Mi.defaultLocale,o=i||(r?"en-US":function(){if(ji)return ji;if(kr()){const e=(new Intl.DateTimeFormat).resolvedOptions().locale;return ji=e&&"und"!==e?e:"en-US",ji}return ji="en-US",ji}()),s=t||Mi.defaultNumberingSystem,a=n||Mi.defaultOutputCalendar;return new Ri(o,s,a,i)}static resetCache(){ji=null,Ni={},Ci={},Ai={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:n}={}){return Ri.create(e,t,n)}constructor(e,t,n,r){const[i,o,s]=function(e){const t=e.indexOf("-u-");if(-1===t)return[e];{let r;const i=e.substring(0,t);try{r=Ii(e).resolvedOptions()}catch(n){r=Ii(i).resolvedOptions()}const{numberingSystem:o,calendar:s}=r;return[i,o,s]}}(e);this.locale=i,this.numberingSystem=t||o||null,this.outputCalendar=n||s||null,this.intl=function(e,t,n){return kr()?n||t?(e+="-u",n&&(e+=`-ca-${n}`),t&&(e+=`-nu-${t}`),e):e:[]}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}get fastNumbers(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||kr()&&"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}listingMode(e=!0){const t=kr()&&xr(),n=this.isEnglish(),r=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return t||n&&r||e?!t||n&&r?"en":"intl":"error"}clone(e){return e&&0!==Object.getOwnPropertyNames(e).length?Ri.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1):this}redefaultToEN(e={}){return this.clone(Object.assign({},e,{defaultToEN:!0}))}redefaultToSystem(e={}){return this.clone(Object.assign({},e,{defaultToEN:!1}))}months(e,t=!1,n=!0){return Pi(this,e,n,Jr,(()=>{const n=t?{month:e,day:"numeric"}:{month:e},r=t?"format":"standalone";return this.monthsCache[r][e]||(this.monthsCache[r][e]=function(e){const t=[];for(let n=1;n<=12;n++){const r=Ls.utc(2016,n,1);t.push(e(r))}return t}((e=>this.extract(e,n,"month")))),this.monthsCache[r][e]}))}weekdays(e,t=!1,n=!0){return Pi(this,e,n,ti,(()=>{const n=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=t?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=function(e){const t=[];for(let n=1;n<=7;n++){const r=Ls.utc(2016,11,13+n);t.push(e(r))}return t}((e=>this.extract(e,n,"weekday")))),this.weekdaysCache[r][e]}))}meridiems(e=!0){return Pi(this,void 0,e,(()=>ni),(()=>{if(!this.meridiemCache){const e={hour:"numeric",hour12:!0};this.meridiemCache=[Ls.utc(2016,11,13,9),Ls.utc(2016,11,13,19)].map((t=>this.extract(t,e,"dayperiod")))}return this.meridiemCache}))}eras(e,t=!0){return Pi(this,e,t,si,(()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[Ls.utc(-40,1,1),Ls.utc(2017,1,1)].map((e=>this.extract(e,t,"era")))),this.eraCache[e]}))}extract(e,t,n){const r=this.dtFormatter(e,t).formatToParts().find((e=>e.type.toLowerCase()===n));return r?r.value:null}numberFormatter(e={}){return new $i(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new Li(e,this.intl,t)}relFormatter(e={}){return new Fi(this.intl,this.isEnglish(),e)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||kr()&&new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}function Vi(...e){const t=e.reduce(((e,t)=>e+t.source),"");return RegExp(`^${t}$`)}function zi(...e){return t=>e.reduce((([e,n,r],i)=>{const[o,s,a]=i(t,r);return[Object.assign(e,o),n||s,a]}),[{},null,1]).slice(0,2)}function qi(e,...t){if(null==e)return[null,null];for(const[n,r]of t){const t=n.exec(e);if(t)return r(t)}return[null,null]}function Bi(...e){return(t,n)=>{const r={};let i;for(i=0;i<e.length;i++)r[e[i]]=Ir(t[n+i]);return[r,null,n+i]}}const Ki=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Zi=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Wi=RegExp(`${Zi.source}${Ki.source}?`),Hi=RegExp(`(?:T${Wi.source})?`),Ui=Bi("weekYear","weekNumber","weekDay"),Gi=Bi("year","ordinal"),Yi=RegExp(`${Zi.source} ?(?:${Ki.source}|(${Wr.source}))?`),Ji=RegExp(`(?: ${Yi.source})?`);function Xi(e,t,n){const r=e[t];return br(r)?n:Ir(r)}function Qi(e,t){return[{year:Xi(e,t),month:Xi(e,t+1,1),day:Xi(e,t+2,1)},null,t+3]}function eo(e,t){return[{hours:Xi(e,t,0),minutes:Xi(e,t+1,0),seconds:Xi(e,t+2,0),milliseconds:Cr(e[t+3])},null,t+4]}function to(e,t){const n=!e[t]&&!e[t+1],r=zr(e[t+1],e[t+2]);return[{},n?null:bi.instance(r),t+3]}function no(e,t){return[{},e[t]?vi.create(e[t]):null,t+1]}const ro=RegExp(`^T?${Zi.source}$`),io=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function oo(e){const[t,n,r,i,o,s,a,u,c]=e,l="-"===t[0],d=u&&"-"===u[0],h=(e,t=!1)=>void 0!==e&&(t||e&&l)?-e:e;return[{years:h(Ir(n)),months:h(Ir(r)),weeks:h(Ir(i)),days:h(Ir(o)),hours:h(Ir(s)),minutes:h(Ir(a)),seconds:h(Ir(u),"-0"===u),milliseconds:h(Cr(c),d)}]}const so={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ao(e,t,n,r,i,o,s){const a={year:2===t.length?Rr(Ir(t)):Ir(t),month:Gr.indexOf(n)+1,day:Ir(r),hour:Ir(i),minute:Ir(o)};return s&&(a.second=Ir(s)),e&&(a.weekday=e.length>3?Xr.indexOf(e)+1:Qr.indexOf(e)+1),a}const uo=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function co(e){const[,t,n,r,i,o,s,a,u,c,l,d]=e,h=ao(t,i,r,n,o,s,a);let f;return f=u?so[u]:c?0:zr(l,d),[h,new bi(f)]}const lo=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,ho=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,fo=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function mo(e){const[,t,n,r,i,o,s,a]=e;return[ao(t,i,r,n,o,s,a),bi.utcInstance]}function po(e){const[,t,n,r,i,o,s,a]=e;return[ao(t,a,n,r,i,o,s),bi.utcInstance]}const yo=Vi(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Hi),go=Vi(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Hi),vo=Vi(/(\d{4})-?(\d{3})/,Hi),wo=Vi(Wi),bo=zi(Qi,eo,to),_o=zi(Ui,eo,to),Eo=zi(Gi,eo),ko=zi(eo,to);const xo=zi(eo);const Oo=Vi(/(\d{4})-(\d\d)-(\d\d)/,Ji),To=Vi(Yi),So=zi(Qi,eo,to,no),Do=zi(eo,to,no);const Mo={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},No=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},Mo),Io=Object.assign({years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},Mo),Co=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Ao=Co.slice(0).reverse();function jo(e,t,n=!1){const r={values:n?t.values:Object.assign({},e.values,t.values||{}),loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy};return new $o(r)}function Po(e,t,n,r,i){const o=e[i][n],s=t[n]/o,a=!(Math.sign(s)===Math.sign(r[i]))&&0!==r[i]&&Math.abs(s)<=1?(u=s)<0?Math.floor(u):Math.ceil(u):Math.trunc(s);var u;r[i]+=a,t[n]-=a*o}class $o{constructor(e){const t="longterm"===e.conversionAccuracy||!1;this.values=e.values,this.loc=e.loc||Ri.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=t?Io:No,this.isLuxonDuration=!0}static fromMillis(e,t){return $o.fromObject(Object.assign({milliseconds:e},t))}static fromObject(e){if(null==e||"object"!=typeof e)throw new Hn("Duration.fromObject: argument expected to be an object, got "+(null===e?"null":typeof e));return new $o({values:Br(e,$o.normalizeUnit,["locale","numberingSystem","conversionAccuracy","zone"]),loc:Ri.fromObject(e),conversionAccuracy:e.conversionAccuracy})}static fromISO(e,t){const[n]=qi(e,[io,oo]);if(n){const e=Object.assign(n,t);return $o.fromObject(e)}return $o.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[n]=qi(e,[ro,xo]);if(n){const e=Object.assign(n,t);return $o.fromObject(e)}return $o.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new Hn("need to specify a reason the Duration is invalid");const n=e instanceof li?e:new li(e,t);if(Mi.throwOnInvalid)throw new Kn(n);return new $o({invalid:n})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new Wn(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const n=Object.assign({},t,{floor:!1!==t.round&&!1!==t.floor});return this.isValid?ci.create(this.loc,n).formatDurationFromString(this,e):"Invalid Duration"}toObject(e={}){if(!this.isValid)return{};const t=Object.assign({},this.values);return e.includeConfig&&(t.conversionAccuracy=this.conversionAccuracy,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toISO(){if(!this.isValid)return null;let e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=Ar(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();if(t<0||t>=864e5)return null;e=Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},e);const n=this.shiftTo("hours","minutes","seconds","milliseconds");let r="basic"===e.format?"hhmm":"hh:mm";e.suppressSeconds&&0===n.seconds&&0===n.milliseconds||(r+="basic"===e.format?"ss":":ss",e.suppressMilliseconds&&0===n.milliseconds||(r+=".SSS"));let i=n.toFormat(r);return e.includePrefix&&(i="T"+i),i}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=Lo(e),n={};for(const r of Co)(Dr(t.values,r)||Dr(this.values,r))&&(n[r]=t.get(r)+this.get(r));return jo(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const t=Lo(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=qr(e(this.values[n],n));return jo(this,{values:t},!0)}get(e){return this[$o.normalizeUnit(e)]}set(e){if(!this.isValid)return this;return jo(this,{values:Object.assign(this.values,Br(e,$o.normalizeUnit,[]))})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:n}={}){const r={loc:this.loc.clone({locale:e,numberingSystem:t})};return n&&(r.conversionAccuracy=n),jo(this,r)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return function(e,t){Ao.reduce(((n,r)=>br(t[r])?n:(n&&Po(e,t,n,t,r),r)),null)}(this.matrix,e),jo(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(0===e.length)return this;e=e.map((e=>$o.normalizeUnit(e)));const t={},n={},r=this.toObject();let i;for(const o of Co)if(e.indexOf(o)>=0){i=o;let e=0;for(const t in n)e+=this.matrix[t][o]*n[t],n[t]=0;_r(r[o])&&(e+=r[o]);const s=Math.trunc(e);t[o]=s,n[o]=e-s;for(const n in r)Co.indexOf(n)>Co.indexOf(o)&&Po(this.matrix,r,n,t,o)}else _r(r[o])&&(n[o]=r[o]);for(const o in n)0!==n[o]&&(t[i]+=o===i?n[o]:n[o]/this.matrix[i][o]);return jo(this,{values:t},!0).normalize()}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=-this.values[t];return jo(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;for(const r of Co)if(t=this.values[r],n=e.values[r],!(void 0===t||0===t?void 0===n||0===n:t===n))return!1;var t,n;return!0}}function Lo(e){if(_r(e))return $o.fromMillis(e);if($o.isDuration(e))return e;if("object"==typeof e)return $o.fromObject(e);throw new Hn(`Unknown duration argument ${e} of type ${typeof e}`)}const Fo="Invalid Interval";class Ro{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new Hn("need to specify a reason the Interval is invalid");const n=e instanceof li?e:new li(e,t);if(Mi.throwOnInvalid)throw new Bn(n);return new Ro({invalid:n})}static fromDateTimes(e,t){const n=Fs(e),r=Fs(t),i=function(e,t){return e&&e.isValid?t&&t.isValid?t<e?Ro.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null:Ro.invalid("missing or invalid end"):Ro.invalid("missing or invalid start")}(n,r);return null==i?new Ro({start:n,end:r}):i}static after(e,t){const n=Lo(t),r=Fs(e);return Ro.fromDateTimes(r,r.plus(n))}static before(e,t){const n=Lo(t),r=Fs(e);return Ro.fromDateTimes(r.minus(n),r)}static fromISO(e,t){const[n,r]=(e||"").split("/",2);if(n&&r){let e,o,s,a;try{e=Ls.fromISO(n,t),o=e.isValid}catch(i){o=!1}try{s=Ls.fromISO(r,t),a=s.isValid}catch(i){a=!1}if(o&&a)return Ro.fromDateTimes(e,s);if(o){const n=$o.fromISO(r,t);if(n.isValid)return Ro.after(e,n)}else if(a){const e=$o.fromISO(n,t);if(e.isValid)return Ro.before(s,e)}}return Ro.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const t=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(t,e).get(e))+1}hasSame(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return!!this.isValid&&this.s>e}isBefore(e){return!!this.isValid&&this.e<=e}contains(e){return!!this.isValid&&(this.s<=e&&this.e>e)}set({start:e,end:t}={}){return this.isValid?Ro.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(Fs).filter((e=>this.contains(e))).sort(),n=[];let{s:r}=this,i=0;for(;r<this.e;){const e=t[i]||this.e,o=+e>+this.e?this.e:e;n.push(Ro.fromDateTimes(r,o)),r=o,i+=1}return n}splitBy(e){const t=Lo(e);if(!this.isValid||!t.isValid||0===t.as("milliseconds"))return[];let n,{s:r}=this,i=1;const o=[];for(;r<this.e;){const e=this.start.plus(t.mapUnits((e=>e*i)));n=+e>+this.e?this.e:e,o.push(Ro.fromDateTimes(r,n)),r=n,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return!!this.isValid&&+this.e==+e.s}abutsEnd(e){return!!this.isValid&&+e.e==+this.s}engulfs(e){return!!this.isValid&&(this.s<=e.s&&this.e>=e.e)}equals(e){return!(!this.isValid||!e.isValid)&&(this.s.equals(e.s)&&this.e.equals(e.e))}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return t>=n?null:Ro.fromDateTimes(t,n)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return Ro.fromDateTimes(t,n)}static merge(e){const[t,n]=e.sort(((e,t)=>e.s-t.s)).reduce((([e,t],n)=>t?t.overlaps(n)||t.abutsStart(n)?[e,t.union(n)]:[e.concat([t]),n]:[e,n]),[[],null]);return n&&t.push(n),t}static xor(e){let t=null,n=0;const r=[],i=e.map((e=>[{time:e.s,type:"s"},{time:e.e,type:"e"}])),o=Array.prototype.concat(...i).sort(((e,t)=>e.time-t.time));for(const s of o)n+="s"===s.type?1:-1,1===n?t=s.time:(t&&+t!=+s.time&&r.push(Ro.fromDateTimes(t,s.time)),t=null);return Ro.merge(r)}difference(...e){return Ro.xor([this].concat(e)).map((e=>this.intersection(e))).filter((e=>e&&!e.isEmpty()))}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Fo}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Fo}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Fo}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Fo}toFormat(e,{separator:t="  "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:Fo}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):$o.invalid(this.invalidReason)}mapEndpoints(e){return Ro.fromDateTimes(e(this.s),e(this.e))}}class Vo{static hasDST(e=Mi.defaultZone){const t=Ls.now().setZone(e).set({month:12});return!e.universal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return vi.isValidSpecifier(e)&&vi.isValidZone(e)}static normalizeZone(e){return Ei(e,Mi.defaultZone)}static months(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null,outputCalendar:i="gregory"}={}){return(r||Ri.create(t,n,i)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null,outputCalendar:i="gregory"}={}){return(r||Ri.create(t,n,i)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null}={}){return(r||Ri.create(t,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null}={}){return(r||Ri.create(t,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Ri.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return Ri.create(t,null,"gregory").eras(e)}static features(){let e=!1,t=!1,n=!1,r=!1;if(kr()){e=!0,t=xr(),r=Or();try{n="America/New_York"===new Intl.DateTimeFormat("en",{timeZone:"America/New_York"}).resolvedOptions().timeZone}catch(i){n=!1}}return{intl:e,intlTokens:t,zones:n,relative:r}}}function zo(e,t){const n=e=>e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(t)-n(e);return Math.floor($o.fromMillis(r).as("days"))}function qo(e,t,n,r){let[i,o,s,a]=function(e,t,n){const r=[["years",(e,t)=>t.year-e.year],["quarters",(e,t)=>t.quarter-e.quarter],["months",(e,t)=>t.month-e.month+12*(t.year-e.year)],["weeks",(e,t)=>{const n=zo(e,t);return(n-n%7)/7}],["days",zo]],i={};let o,s;for(const[a,u]of r)if(n.indexOf(a)>=0){o=a;let n=u(e,t);s=e.plus({[a]:n}),s>t?(e=e.plus({[a]:n-1}),n-=1):e=s,i[a]=n}return[e,i,s,o]}(e,t,n);const u=t-i,c=n.filter((e=>["hours","minutes","seconds","milliseconds"].indexOf(e)>=0));0===c.length&&(s<t&&(s=i.plus({[a]:1})),s!==i&&(o[a]=(o[a]||0)+u/(s-i)));const l=$o.fromObject(Object.assign(o,r));return c.length>0?$o.fromMillis(u,r).shiftTo(...c).plus(l):l}const Bo={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},Ko={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Zo=Bo.hanidec.replace(/[\[|\]]/g,"").split("");function Wo({numberingSystem:e},t=""){return new RegExp(`${Bo[e||"latn"]}${t}`)}function Ho(e,t=(e=>e)){return{regex:e,deser:([e])=>t(function(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(-1!==e[n].search(Bo.hanidec))t+=Zo.indexOf(e[n]);else for(const e in Ko){const[n,i]=Ko[e];r>=n&&r<=i&&(t+=r-n)}}return parseInt(t,10)}return t}(e))}}const Uo=`( |${String.fromCharCode(160)})`,Go=new RegExp(Uo,"g");function Yo(e){return e.replace(/\./g,"\\.?").replace(Go,Uo)}function Jo(e){return e.replace(/\./g,"").replace(Go," ").toLowerCase()}function Xo(e,t){return null===e?null:{regex:RegExp(e.map(Yo).join("|")),deser:([n])=>e.findIndex((e=>Jo(n)===Jo(e)))+t}}function Qo(e,t){return{regex:e,deser:([,e,t])=>zr(e,t),groups:t}}function es(e){return{regex:e,deser:([e])=>e}}const ts={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};let ns=null;function rs(e,t){if(e.literal)return e;const n=ci.macroTokenToFormatOpts(e.val);if(!n)return e;const r=ci.create(t,n).formatDateTimeParts((ns||(ns=Ls.fromMillis(1555555555555)),ns)).map((e=>function(e,t,n){const{type:r,value:i}=e;if("literal"===r)return{literal:!0,val:i};const o=n[r];let s=ts[r];return"object"==typeof s&&(s=s[o]),s?{literal:!1,val:s}:void 0}(e,0,n)));return r.includes(void 0)?e:r}function is(e,t,n){const r=function(e,t){return Array.prototype.concat(...e.map((e=>rs(e,t))))}(ci.parseFormat(n),e),i=r.map((t=>function(e,t){const n=Wo(t),r=Wo(t,"{2}"),i=Wo(t,"{3}"),o=Wo(t,"{4}"),s=Wo(t,"{6}"),a=Wo(t,"{1,2}"),u=Wo(t,"{1,3}"),c=Wo(t,"{1,6}"),l=Wo(t,"{1,9}"),d=Wo(t,"{2,4}"),h=Wo(t,"{4,6}"),f=e=>{return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([e])=>e,literal:!0};var t},m=(m=>{if(e.literal)return f(m);switch(m.val){case"G":return Xo(t.eras("short",!1),0);case"GG":return Xo(t.eras("long",!1),0);case"y":return Ho(c);case"yy":return Ho(d,Rr);case"yyyy":return Ho(o);case"yyyyy":return Ho(h);case"yyyyyy":return Ho(s);case"M":return Ho(a);case"MM":return Ho(r);case"MMM":return Xo(t.months("short",!0,!1),1);case"MMMM":return Xo(t.months("long",!0,!1),1);case"L":return Ho(a);case"LL":return Ho(r);case"LLL":return Xo(t.months("short",!1,!1),1);case"LLLL":return Xo(t.months("long",!1,!1),1);case"d":return Ho(a);case"dd":return Ho(r);case"o":return Ho(u);case"ooo":return Ho(i);case"HH":return Ho(r);case"H":return Ho(a);case"hh":return Ho(r);case"h":return Ho(a);case"mm":return Ho(r);case"m":case"q":return Ho(a);case"qq":return Ho(r);case"s":return Ho(a);case"ss":return Ho(r);case"S":return Ho(u);case"SSS":return Ho(i);case"u":return es(l);case"a":return Xo(t.meridiems(),0);case"kkkk":return Ho(o);case"kk":return Ho(d,Rr);case"W":return Ho(a);case"WW":return Ho(r);case"E":case"c":return Ho(n);case"EEE":return Xo(t.weekdays("short",!1,!1),1);case"EEEE":return Xo(t.weekdays("long",!1,!1),1);case"ccc":return Xo(t.weekdays("short",!0,!1),1);case"cccc":return Xo(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Qo(new RegExp(`([+-]${a.source})(?::(${r.source}))?`),2);case"ZZZ":return Qo(new RegExp(`([+-]${a.source})(${r.source})?`),2);case"z":return es(/[a-z_+-/]{1,256}?/i);default:return f(m)}})(e)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return m.token=e,m}(t,e))),o=i.find((e=>e.invalidReason));if(o)return{input:t,tokens:r,invalidReason:o.invalidReason};{const[e,n]=function(e){return[`^${e.map((e=>e.regex)).reduce(((e,t)=>`${e}(${t.source})`),"")}$`,e]}(i),o=RegExp(e,"i"),[s,a]=function(e,t,n){const r=e.match(t);if(r){const e={};let t=1;for(const i in n)if(Dr(n,i)){const o=n[i],s=o.groups?o.groups+1:1;!o.literal&&o.token&&(e[o.token.val[0]]=o.deser(r.slice(t,t+s))),t+=s}return[r,e]}return[r,{}]}(t,o,n),[u,c]=a?function(e){let t;return t=br(e.Z)?br(e.z)?null:vi.create(e.z):new bi(e.Z),br(e.q)||(e.M=3*(e.q-1)+1),br(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),br(e.u)||(e.S=Cr(e.u)),[Object.keys(e).reduce(((t,n)=>{const r=(e=>{switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(n);return r&&(t[r]=e[n]),t}),{}),t]}(a):[null,null];if(Dr(a,"a")&&Dr(a,"H"))throw new Zn("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:r,regex:o,rawMatches:s,matches:a,result:u,zone:c}}}const os=[0,31,59,90,120,151,181,212,243,273,304,334],ss=[0,31,60,91,121,152,182,213,244,274,305,335];function as(e,t){return new li("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function us(e,t,n){const r=new Date(Date.UTC(e,t-1,n)).getUTCDay();return 0===r?7:r}function cs(e,t,n){return n+(jr(e)?ss:os)[t-1]}function ls(e,t){const n=jr(e)?ss:os,r=n.findIndex((e=>e<t));return{month:r+1,day:t-n[r]}}function ds(e){const{year:t,month:n,day:r}=e,i=cs(t,n,r),o=us(t,n,r);let s,a=Math.floor((i-o+10)/7);return a<1?(s=t-1,a=Fr(s)):a>Fr(t)?(s=t+1,a=1):s=t,Object.assign({weekYear:s,weekNumber:a,weekday:o},Zr(e))}function hs(e){const{weekYear:t,weekNumber:n,weekday:r}=e,i=us(t,1,4),o=Pr(t);let s,a=7*n+r-i-3;a<1?(s=t-1,a+=Pr(s)):a>o?(s=t+1,a-=Pr(t)):s=t;const{month:u,day:c}=ls(s,a);return Object.assign({year:s,month:u,day:c},Zr(e))}function fs(e){const{year:t,month:n,day:r}=e,i=cs(t,n,r);return Object.assign({year:t,ordinal:i},Zr(e))}function ms(e){const{year:t,ordinal:n}=e,{month:r,day:i}=ls(t,n);return Object.assign({year:t,month:r,day:i},Zr(e))}function ps(e){const t=Er(e.year),n=Mr(e.month,1,12),r=Mr(e.day,1,$r(e.year,e.month));return t?n?!r&&as("day",e.day):as("month",e.month):as("year",e.year)}function ys(e){const{hour:t,minute:n,second:r,millisecond:i}=e,o=Mr(t,0,23)||24===t&&0===n&&0===r&&0===i,s=Mr(n,0,59),a=Mr(r,0,59),u=Mr(i,0,999);return o?s?a?!u&&as("millisecond",i):as("second",r):as("minute",n):as("hour",t)}const gs="Invalid DateTime";function vs(e){return new li("unsupported zone",`the zone "${e.name}" is not supported`)}function ws(e){return null===e.weekData&&(e.weekData=ds(e.c)),e.weekData}function bs(e,t){const n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new Ls(Object.assign({},n,t,{old:n}))}function _s(e,t,n){let r=e-60*t*1e3;const i=n.offset(r);if(t===i)return[r,t];r-=60*(i-t)*1e3;const o=n.offset(r);return i===o?[r,i]:[e-60*Math.min(i,o)*1e3,Math.max(i,o)]}function Es(e,t){const n=new Date(e+=60*t*1e3);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function ks(e,t,n){return _s(Lr(e),t,n)}function xs(e,t){const n=e.o,r=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),o=Object.assign({},e.c,{year:r,month:i,day:Math.min(e.c.day,$r(r,i))+Math.trunc(t.days)+7*Math.trunc(t.weeks)}),s=$o.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=Lr(o);let[u,c]=_s(a,n,e.zone);return 0!==s&&(u+=s,c=e.zone.offset(u)),{ts:u,o:c}}function Os(e,t,n,r,i){const{setZone:o,zone:s}=n;if(e&&0!==Object.keys(e).length){const r=t||s,i=Ls.fromObject(Object.assign(e,n,{zone:r,setZone:void 0}));return o?i:i.setZone(s)}return Ls.invalid(new li("unparsable",`the input "${i}" can't be parsed as ${r}`))}function Ts(e,t,n=!0){return e.isValid?ci.create(Ri.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function Ss(e,{suppressSeconds:t=!1,suppressMilliseconds:n=!1,includeOffset:r,includePrefix:i=!1,includeZone:o=!1,spaceZone:s=!1,format:a="extended"}){let u="basic"===a?"HHmm":"HH:mm";t&&0===e.second&&0===e.millisecond||(u+="basic"===a?"ss":":ss",n&&0===e.millisecond||(u+=".SSS")),(o||r)&&s&&(u+=" "),o?u+="z":r&&(u+="basic"===a?"ZZZ":"ZZ");let c=Ts(e,u);return i&&(c="T"+c),c}const Ds={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Ms={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Ns={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Is=["year","month","day","hour","minute","second","millisecond"],Cs=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],As=["year","ordinal","hour","minute","second","millisecond"];function js(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new Wn(e);return t}function Ps(e,t){for(const a of Is)br(e[a])&&(e[a]=Ds[a]);const n=ps(e)||ys(e);if(n)return Ls.invalid(n);const r=Mi.now(),i=t.offset(r),[o,s]=ks(e,i,t);return new Ls({ts:o,zone:t,o:s})}function $s(e,t,n){const r=!!br(n.round)||n.round,i=(e,i)=>{e=Ar(e,r||n.calendary?0:2,!0);return t.loc.clone(n).relFormatter(n).format(e,i)},o=r=>n.calendary?t.hasSame(e,r)?0:t.startOf(r).diff(e.startOf(r),r).get(r):t.diff(e,r).get(r);if(n.unit)return i(o(n.unit),n.unit);for(const s of n.units){const e=o(s);if(Math.abs(e)>=1)return i(e,s)}return i(e>t?-0:0,n.units[n.units.length-1])}class Ls{constructor(e){const t=e.zone||Mi.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new li("invalid input"):null)||(t.isValid?null:vs(t));this.ts=br(e.ts)?Mi.now():e.ts;let r=null,i=null;if(!n){if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[r,i]=[e.old.c,e.old.o];else{const e=t.offset(this.ts);r=Es(this.ts,e),n=Number.isNaN(r.year)?new li("invalid input"):null,r=n?null:r,i=n?null:e}}this._zone=t,this.loc=e.loc||Ri.create(),this.invalid=n,this.weekData=null,this.c=r,this.o=i,this.isLuxonDateTime=!0}static now(){return new Ls({})}static local(e,t,n,r,i,o,s){return br(e)?Ls.now():Ps({year:e,month:t,day:n,hour:r,minute:i,second:o,millisecond:s},Mi.defaultZone)}static utc(e,t,n,r,i,o,s){return br(e)?new Ls({ts:Mi.now(),zone:bi.utcInstance}):Ps({year:e,month:t,day:n,hour:r,minute:i,second:o,millisecond:s},bi.utcInstance)}static fromJSDate(e,t={}){const n=(r=e,"[object Date]"===Object.prototype.toString.call(r)?e.valueOf():NaN);var r;if(Number.isNaN(n))return Ls.invalid("invalid input");const i=Ei(t.zone,Mi.defaultZone);return i.isValid?new Ls({ts:n,zone:i,loc:Ri.fromObject(t)}):Ls.invalid(vs(i))}static fromMillis(e,t={}){if(_r(e))return e<-864e13||e>864e13?Ls.invalid("Timestamp out of range"):new Ls({ts:e,zone:Ei(t.zone,Mi.defaultZone),loc:Ri.fromObject(t)});throw new Hn(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(_r(e))return new Ls({ts:1e3*e,zone:Ei(t.zone,Mi.defaultZone),loc:Ri.fromObject(t)});throw new Hn("fromSeconds requires a numerical input")}static fromObject(e){const t=Ei(e.zone,Mi.defaultZone);if(!t.isValid)return Ls.invalid(vs(t));const n=Mi.now(),r=t.offset(n),i=Br(e,js,["zone","locale","outputCalendar","numberingSystem"]),o=!br(i.ordinal),s=!br(i.year),a=!br(i.month)||!br(i.day),u=s||a,c=i.weekYear||i.weekNumber,l=Ri.fromObject(e);if((u||o)&&c)throw new Zn("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&o)throw new Zn("Can't mix ordinal dates with month/day");const d=c||i.weekday&&!u;let h,f,m=Es(n,r);d?(h=Cs,f=Ms,m=ds(m)):o?(h=As,f=Ns,m=fs(m)):(h=Is,f=Ds);let p=!1;for(const _ of h){br(i[_])?i[_]=p?f[_]:m[_]:p=!0}const y=(d?function(e){const t=Er(e.weekYear),n=Mr(e.weekNumber,1,Fr(e.weekYear)),r=Mr(e.weekday,1,7);return t?n?!r&&as("weekday",e.weekday):as("week",e.week):as("weekYear",e.weekYear)}(i):o?function(e){const t=Er(e.year),n=Mr(e.ordinal,1,Pr(e.year));return t?!n&&as("ordinal",e.ordinal):as("year",e.year)}(i):ps(i))||ys(i);if(y)return Ls.invalid(y);const g=d?hs(i):o?ms(i):i,[v,w]=ks(g,r,t),b=new Ls({ts:v,zone:t,o:w,loc:l});return i.weekday&&u&&e.weekday!==b.weekday?Ls.invalid("mismatched weekday",`you can't specify both a weekday of ${i.weekday} and a date of ${b.toISO()}`):b}static fromISO(e,t={}){const[n,r]=qi(e,[yo,bo],[go,_o],[vo,Eo],[wo,ko]);return Os(n,r,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[n,r]=qi(function(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[uo,co]);return Os(n,r,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[n,r]=qi(e,[lo,mo],[ho,mo],[fo,po]);return Os(n,r,t,"HTTP",t)}static fromFormat(e,t,n={}){if(br(e)||br(t))throw new Hn("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:i=null}=n,o=Ri.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0}),[s,a,u]=function(e,t,n){const{result:r,zone:i,invalidReason:o}=is(e,t,n);return[r,i,o]}(o,e,t);return u?Ls.invalid(u):Os(s,a,n,`format ${t}`,e)}static fromString(e,t,n={}){return Ls.fromFormat(e,t,n)}static fromSQL(e,t={}){const[n,r]=qi(e,[Oo,So],[To,Do]);return Os(n,r,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new Hn("need to specify a reason the DateTime is invalid");const n=e instanceof li?e:new li(e,t);if(Mi.throwOnInvalid)throw new qn(n);return new Ls({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}get(e){return this[e]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?ws(this).weekYear:NaN}get weekNumber(){return this.isValid?ws(this).weekNumber:NaN}get weekday(){return this.isValid?ws(this).weekday:NaN}get ordinal(){return this.isValid?fs(this.c).ordinal:NaN}get monthShort(){return this.isValid?Vo.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Vo.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Vo.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Vo.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.universal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return jr(this.year)}get daysInMonth(){return $r(this.year,this.month)}get daysInYear(){return this.isValid?Pr(this.year):NaN}get weeksInWeekYear(){return this.isValid?Fr(this.weekYear):NaN}resolvedLocaleOpts(e={}){const{locale:t,numberingSystem:n,calendar:r}=ci.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:n,outputCalendar:r}}toUTC(e=0,t={}){return this.setZone(bi.instance(e),t)}toLocal(){return this.setZone(Mi.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:n=!1}={}){if((e=Ei(e,Mi.defaultZone)).equals(this.zone))return this;if(e.isValid){let r=this.ts;if(t||n){const t=e.offset(this.ts),n=this.toObject();[r]=ks(n,t,e)}return bs(this,{ts:r,zone:e})}return Ls.invalid(vs(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:n}={}){return bs(this,{loc:this.loc.clone({locale:e,numberingSystem:t,outputCalendar:n})})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=Br(e,js,[]),n=!br(t.weekYear)||!br(t.weekNumber)||!br(t.weekday),r=!br(t.ordinal),i=!br(t.year),o=!br(t.month)||!br(t.day),s=i||o,a=t.weekYear||t.weekNumber;if((s||r)&&a)throw new Zn("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(o&&r)throw new Zn("Can't mix ordinal dates with month/day");let u;n?u=hs(Object.assign(ds(this.c),t)):br(t.ordinal)?(u=Object.assign(this.toObject(),t),br(t.day)&&(u.day=Math.min($r(u.year,u.month),u.day))):u=ms(Object.assign(fs(this.c),t));const[c,l]=ks(u,this.o,this.zone);return bs(this,{ts:c,o:l})}plus(e){if(!this.isValid)return this;return bs(this,xs(this,Lo(e)))}minus(e){if(!this.isValid)return this;return bs(this,xs(this,Lo(e).negate()))}startOf(e){if(!this.isValid)return this;const t={},n=$o.normalizeUnit(e);switch(n){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0}if("weeks"===n&&(t.weekday=1),"quarters"===n){const e=Math.ceil(this.month/3);t.month=3*(e-1)+1}return this.set(t)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,t={}){return this.isValid?ci.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):gs}toLocaleString(e=Xn){return this.isValid?ci.create(this.loc.clone(e),e).formatDateTime(this):gs}toLocaleParts(e={}){return this.isValid?ci.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO(e={}){return this.isValid?`${this.toISODate(e)}T${this.toISOTime(e)}`:null}toISODate({format:e="extended"}={}){let t="basic"===e?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(t="+"+t),Ts(this,t)}toISOWeekDate(){return Ts(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:n=!0,includePrefix:r=!1,format:i="extended"}={}){return Ss(this,{suppressSeconds:t,suppressMilliseconds:e,includeOffset:n,includePrefix:r,format:i})}toRFC2822(){return Ts(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ts(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return Ts(this,"yyyy-MM-dd")}toSQLTime({includeOffset:e=!0,includeZone:t=!1}={}){return Ss(this,{includeOffset:e,includeZone:t,spaceZone:!0})}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():gs}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t=Object.assign({},this.c);return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",n={}){if(!this.isValid||!e.isValid)return $o.invalid(this.invalid||e.invalid,"created by diffing an invalid DateTime");const r=Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},n),i=(a=t,Array.isArray(a)?a:[a]).map($o.normalizeUnit),o=e.valueOf()>this.valueOf(),s=qo(o?this:e,o?e:this,i,r);var a;return o?s.negate():s}diffNow(e="milliseconds",t={}){return this.diff(Ls.now(),e,t)}until(e){return this.isValid?Ro.fromDateTimes(this,e):this}hasSame(e,t){if(!this.isValid)return!1;const n=e.valueOf(),r=this.setZone(e.zone,{keepLocalTime:!0});return r.startOf(t)<=n&&n<=r.endOf(t)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||Ls.fromObject({zone:this.zone}),n=e.padding?this<t?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],i=e.unit;return Array.isArray(e.unit)&&(r=e.unit,i=void 0),$s(t,this.plus(n),Object.assign(e,{numeric:"always",units:r,unit:i}))}toRelativeCalendar(e={}){return this.isValid?$s(e.base||Ls.fromObject({zone:this.zone}),this,Object.assign(e,{numeric:"auto",units:["years","months","days"],calendary:!0})):null}static min(...e){if(!e.every(Ls.isDateTime))throw new Hn("min requires all arguments be DateTimes");return Tr(e,(e=>e.valueOf()),Math.min)}static max(...e){if(!e.every(Ls.isDateTime))throw new Hn("max requires all arguments be DateTimes");return Tr(e,(e=>e.valueOf()),Math.max)}static fromFormatExplain(e,t,n={}){const{locale:r=null,numberingSystem:i=null}=n;return is(Ri.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0}),e,t)}static fromStringExplain(e,t,n={}){return Ls.fromFormatExplain(e,t,n)}static get DATE_SHORT(){return Xn}static get DATE_MED(){return Qn}static get DATE_MED_WITH_WEEKDAY(){return er}static get DATE_FULL(){return tr}static get DATE_HUGE(){return nr}static get TIME_SIMPLE(){return rr}static get TIME_WITH_SECONDS(){return ir}static get TIME_WITH_SHORT_OFFSET(){return or}static get TIME_WITH_LONG_OFFSET(){return sr}static get TIME_24_SIMPLE(){return ar}static get TIME_24_WITH_SECONDS(){return ur}static get TIME_24_WITH_SHORT_OFFSET(){return cr}static get TIME_24_WITH_LONG_OFFSET(){return lr}static get DATETIME_SHORT(){return dr}static get DATETIME_SHORT_WITH_SECONDS(){return hr}static get DATETIME_MED(){return fr}static get DATETIME_MED_WITH_SECONDS(){return mr}static get DATETIME_MED_WITH_WEEKDAY(){return pr}static get DATETIME_FULL(){return yr}static get DATETIME_FULL_WITH_SECONDS(){return gr}static get DATETIME_HUGE(){return vr}static get DATETIME_HUGE_WITH_SECONDS(){return wr}}function Fs(e){if(Ls.isDateTime(e))return e;if(e&&e.valueOf&&_r(e.valueOf()))return Ls.fromJSDate(e);if(e&&"object"==typeof e)return Ls.fromObject(e);throw new Hn(`Unknown datetime argument: ${e}, of type ${typeof e}`)}var Rs=function(){return(Rs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Vs(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var zs=Object.keys,qs=Array.isArray,Bs="undefined"!=typeof self?self:"undefined"!=typeof window?window:global;function Ks(e,t){return"object"!=typeof t||zs(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||Bs.Promise||(Bs.Promise=Promise);var Zs=Object.getPrototypeOf,Ws={}.hasOwnProperty;function Hs(e,t){return Ws.call(e,t)}function Us(e,t){"function"==typeof t&&(t=t(Zs(e))),zs(t).forEach((function(n){Ys(e,n,t[n])}))}var Gs=Object.defineProperty;function Ys(e,t,n,r){Gs(e,t,Ks(n&&Hs(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Js(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Ys(e.prototype,"constructor",e),{extend:Us.bind(null,e.prototype)}}}}var Xs=Object.getOwnPropertyDescriptor;function Qs(e,t){var n;return Xs(e,t)||(n=Zs(e))&&Qs(n,t)}var ea=[].slice;function ta(e,t,n){return ea.call(e,t,n)}function na(e,t){return t(e)}function ra(e){if(!e)throw new Error("Assertion Failed")}function ia(e){Bs.setImmediate?setImmediate(e):setTimeout(e,0)}function oa(e,t){return e.reduce((function(e,n,r){var i=t(n,r);return i&&(e[i[0]]=i[1]),e}),{})}function sa(e,t){if(Hs(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var o=sa(e,t[r]);n.push(o)}return n}var s=t.indexOf(".");if(-1!==s){var a=e[t.substr(0,s)];return void 0===a?void 0:sa(a,t.substr(s+1))}}function aa(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){ra("string"!=typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)aa(e,t[r],n[r])}else{var o=t.indexOf(".");if(-1!==o){var s=t.substr(0,o),a=t.substr(o+1);if(""===a)void 0===n?qs(e)&&!isNaN(parseInt(s))?e.splice(s,1):delete e[s]:e[s]=n;else{var u=e[s];u||(u=e[s]={}),aa(u,a,n)}}else void 0===n?qs(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function ua(e,t){"string"==typeof t?aa(e,t,void 0):"length"in t&&[].map.call(t,(function(t){aa(e,t,void 0)}))}function ca(e){var t={};for(var n in e)Hs(e,n)&&(t[n]=e[n]);return t}var la=[].concat;function da(e){return la.apply([],e)}var ha="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(da([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return Bs[e]})),fa=ha.map((function(e){return Bs[e]})),ma=oa(ha,(function(e){return[e,!0]}));function pa(e){if(!e||"object"!=typeof e)return e;var t;if(qs(e)){t=[];for(var n=0,r=e.length;n<r;++n)t.push(pa(e[n]))}else if(fa.indexOf(e.constructor)>=0)t=e;else for(var i in t=e.constructor?Object.create(e.constructor.prototype):{},e)Hs(e,i)&&(t[i]=pa(e[i]));return t}var ya={}.toString;function ga(e){return ya.call(e).slice(8,-1)}var va=function(e,t){return"Array"===t?""+e.map((function(e){return va(e,ga(e))})):"ArrayBuffer"===t?""+new Uint8Array(e):"Date"===t?e.getTime():ArrayBuffer.isView(e)?""+new Uint8Array(e.buffer):e};function wa(e,t,n,r){return n=n||{},r=r||"",zs(e).forEach((function(i){if(Hs(t,i)){var o=e[i],s=t[i];if("object"==typeof o&&"object"==typeof s&&o&&s){var a=ga(o),u=ga(s);a===u?ma[a]?va(o,a)!==va(s,u)&&(n[r+i]=t[i]):wa(o,s,n,r+i+"."):n[r+i]=t[i]}else o!==s&&(n[r+i]=t[i])}else n[r+i]=void 0})),zs(t).forEach((function(i){Hs(e,i)||(n[r+i]=t[i])})),n}var ba="undefined"!=typeof Symbol&&Symbol.iterator,_a=ba?function(e){var t;return null!=e&&(t=e[ba])&&t.apply(e)}:function(){return null},Ea={};function ka(e){var t,n,r,i;if(1===arguments.length){if(qs(e))return e.slice();if(this===Ea&&"string"==typeof e)return[e];if(i=_a(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var xa="undefined"!=typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},Oa="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ta(e,t){Oa=e,Sa=t}var Sa=function(){return!0},Da=!new Error("").stack;function Ma(){if(Da)try{throw new Error}catch(e){return e}return new Error}function Na(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(Sa).map((function(e){return"\n"+e})).join("")):""}var Ia=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ca=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ia),Aa={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function ja(e,t){this._e=Ma(),this.name=e,this.message=t}function Pa(e,t){return e+". Errors: "+Object.keys(t).map((function(e){return t[e].toString()})).filter((function(e,t,n){return n.indexOf(e)===t})).join("\n")}function $a(e,t,n,r){this._e=Ma(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=Pa(e,t)}function La(e,t){this._e=Ma(),this.name="BulkError",this.failures=t,this.message=Pa(e,t)}Js(ja).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Na(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Js($a).from(ja),Js(La).from(ja);var Fa=Ca.reduce((function(e,t){return e[t]=t+"Error",e}),{}),Ra=ja,Va=Ca.reduce((function(e,t){var n=t+"Error";function r(e,r){this._e=Ma(),this.name=n,e?"string"==typeof e?(this.message=e+(r?"\n "+r:""),this.inner=r||null):"object"==typeof e&&(this.message=e.name+" "+e.message,this.inner=e):(this.message=Aa[t]||n,this.inner=null)}return Js(r).from(Ra),e[t]=r,e}),{});Va.Syntax=SyntaxError,Va.Type=TypeError,Va.Range=RangeError;var za=Ia.reduce((function(e,t){return e[t+"Error"]=Va[t],e}),{});var qa=Ca.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=Va[t]),e}),{});function Ba(){}function Ka(e){return e}function Za(e,t){return null==e||e===Ka?t:function(n){return t(e(n))}}function Wa(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Ha(e,t){return e===Ba?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Wa(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Wa(i,this.onerror):i),void 0!==o?o:n}}function Ua(e,t){return e===Ba?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Wa(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Wa(r,this.onerror):r)}}function Ga(e,t){return e===Ba?t:function(n){var r=e.apply(this,arguments);Ks(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Wa(i,this.onsuccess):i),o&&(this.onerror=this.onerror?Wa(o,this.onerror):o),void 0===r?void 0===s?void 0:s:Ks(r,s)}}function Ya(e,t){return e===Ba?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function Ja(e,t){return e===Ba?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then((function(){return t.apply(r,o)}))}return t.apply(this,arguments)}}qa.ModifyError=$a,qa.DexieError=ja,qa.BulkError=La;var Xa={},Qa="undefined"==typeof Promise?[]:function(){var e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,e.__proto__,e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,t.__proto__,e]}(),eu=Qa[0],tu=Qa[1],nu=Qa[2],ru=tu&&tu.then,iu=eu&&eu.constructor,ou=!!nu,su=!1,au=nu?function(){nu.then(Nu)}:Bs.setImmediate?setImmediate.bind(null,Nu):Bs.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){Nu(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(Nu,0)},uu=function(e,t){gu.push([e,t]),lu&&(au(),lu=!1)},cu=!0,lu=!0,du=[],hu=[],fu=null,mu=Ka,pu={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ec,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{ec(e[0],e[1])}catch(t){}}))}},yu=pu,gu=[],vu=0,wu=[];function bu(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Ba,this._lib=!1;var t=this._PSD=yu;if(Oa&&(this._stackHolder=Ma(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==Xa)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&xu(this,this._value))}this._state=null,this._value=null,++t.ref,ku(this,e)}var _u={get:function(){var e=yu,t=Vu;function n(n,r){var i=this,o=!e.global&&(e!==yu||t!==Vu),s=o&&!Ku(),a=new bu((function(t,a){Tu(i,new Eu(Xu(n,e,o,s),Xu(r,e,o,s),t,a,e))}));return Oa&&Mu(a,this),a}return n.prototype=Xa,n},set:function(e){Ys(this,"then",e&&e.prototype===Xa?_u:{get:function(){return e},set:_u.set})}};function Eu(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function ku(e,t){try{t((function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Iu();t&&"function"==typeof t.then?ku(e,(function(e,n){t instanceof bu?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,Ou(e)),n&&Cu()}}),xu.bind(null,e))}catch(n){xu(e,n)}}function xu(e,t){if(hu.push(t),null===e._state){var n=e._lib&&Iu();t=mu(t),e._state=!1,e._value=t,Oa&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,n)}catch(r){t&&t(r)}}((function(){var n=Qs(t,"stack");t._promise=e,Ys(t,"stack",{get:function(){return su?n&&(n.get?n.get.apply(t):n.value):e.stack}})})),function(e){du.some((function(t){return t._value===e._value}))||du.push(e)}(e),Ou(e),n&&Cu()}}function Ou(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Tu(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===vu&&(++vu,uu((function(){0==--vu&&Au()}),[]))}function Tu(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++vu,uu(Su,[n,e,t])}else e._listeners.push(t)}function Su(e,t,n){try{fu=t;var r,i=t._value;t._state?r=e(i):(hu.length&&(hu=[]),r=e(i),-1===hu.indexOf(i)&&function(e){var t=du.length;for(;t;)if(du[--t]._value===e._value)return void du.splice(t,1)}(t)),n.resolve(r)}catch(o){n.reject(o)}finally{fu=null,0==--vu&&Au(),--n.psd.ref||n.psd.finalize()}}function Du(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var i,o,s=e._value;null!=s?(i=s.name||"Error",o=s.message||s,r=Na(s,0)):(i=s,o=""),t.push(i+(o?": "+o:"")+r)}return Oa&&((r=Na(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&Du(e._prev,t,n)),t}function Mu(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Nu(){Iu()&&Cu()}function Iu(){var e=cu;return cu=!1,lu=!1,e}function Cu(){var e,t,n;do{for(;gu.length>0;)for(e=gu,gu=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(gu.length>0);cu=!0,lu=!0}function Au(){var e=du;du=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=wu.slice(0),n=t.length;n;)t[--n]()}function ju(e){return new bu(Xa,!1,e)}function Pu(e,t){var n=yu;return function(){var r=Iu(),i=yu;try{return Uu(n,!0),e.apply(this,arguments)}catch(o){t&&t(o)}finally{Uu(i,!1),r&&Cu()}}}Us(bu.prototype,{then:_u,_then:function(e,t){Tu(this,new Eu(null,null,e,t,yu))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(function(e){return e instanceof t?n(e):ju(e)})):this.then(null,(function(e){return e&&e.name===t?n(e):ju(e)}))},finally:function(e){return this.then((function(t){return e(),t}),(function(t){return e(),ju(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{su=!0;var e=Du(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{su=!1}}},timeout:function(e,t){var n=this;return e<1/0?new bu((function(r,i){var o=setTimeout((function(){return i(new Va.Timeout(t))}),e);n.then(r,i).finally(clearTimeout.bind(null,o))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&Ys(bu.prototype,Symbol.toStringTag,"Dexie.Promise"),pu.env=Gu(),Us(bu,{all:function(){var e=ka.apply(null,arguments).map(Zu);return new bu((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((function(i,o){return bu.resolve(i).then((function(n){e[o]=n,--r||t(e)}),n)}))}))},resolve:function(e){if(e instanceof bu)return e;if(e&&"function"==typeof e.then)return new bu((function(t,n){e.then(t,n)}));var t=new bu(Xa,!0,e);return Mu(t,fu),t},reject:ju,race:function(){var e=ka.apply(null,arguments).map(Zu);return new bu((function(t,n){e.map((function(e){return bu.resolve(e).then(t,n)}))}))},PSD:{get:function(){return yu},set:function(e){return yu=e}},totalEchoes:{get:function(){return Vu}},newPSD:qu,usePSD:Yu,scheduler:{get:function(){return uu},set:function(e){uu=e}},rejectionMapper:{get:function(){return mu},set:function(e){mu=e}},follow:function(e,t){return new bu((function(n,r){return qu((function(t,n){var r=yu;r.unhandleds=[],r.onunhandled=n,r.finalize=Wa((function(){var e=this;!function(e){function t(){e(),wu.splice(wu.indexOf(t),1)}wu.push(t),++vu,uu((function(){0==--vu&&Au()}),[])}((function(){0===e.unhandleds.length?t():n(e.unhandleds[0])}))}),r.finalize),e()}),t,n,r)}))}}),iu&&(iu.allSettled&&Ys(bu,"allSettled",(function(){var e=ka.apply(null,arguments).map(Zu);return new bu((function(t){0===e.length&&t([]);var n=e.length,r=new Array(n);e.forEach((function(e,i){return bu.resolve(e).then((function(e){return r[i]={status:"fulfilled",value:e}}),(function(e){return r[i]={status:"rejected",reason:e}})).then((function(){return--n||t(r)}))}))}))})),iu.any&&"undefined"!=typeof AggregateError&&Ys(bu,"any",(function(){var e=ka.apply(null,arguments).map(Zu);return new bu((function(t,n){0===e.length&&n(new AggregateError([]));var r=e.length,i=new Array(r);e.forEach((function(e,o){return bu.resolve(e).then((function(e){return t(e)}),(function(e){i[o]=e,--r||n(new AggregateError(i))}))}))}))})));var $u={awaits:0,echoes:0,id:0},Lu=0,Fu=[],Ru=0,Vu=0,zu=0;function qu(e,t,n,r){var i=yu,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++zu;var s=pu.env;o.env=ou?{Promise:bu,PromiseProp:{value:bu,configurable:!0,writable:!0},all:bu.all,race:bu.race,allSettled:bu.allSettled,any:bu.any,resolve:bu.resolve,reject:bu.reject,nthen:Qu(s.nthen,o),gthen:Qu(s.gthen,o)}:{},t&&Ks(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=Yu(o,e,n,r);return 0===o.ref&&o.finalize(),a}function Bu(){return $u.id||($u.id=++Lu),++$u.awaits,$u.echoes+=100,$u.id}function Ku(){return!!$u.awaits&&(0==--$u.awaits&&($u.id=0),$u.echoes=100*$u.awaits,!0)}function Zu(e){return $u.echoes&&e&&e.constructor===iu?(Bu(),e.then((function(e){return Ku(),e}),(function(e){return Ku(),tc(e)}))):e}function Wu(e){++Vu,$u.echoes&&0!=--$u.echoes||($u.echoes=$u.id=0),Fu.push(yu),Uu(e,!0)}function Hu(){var e=Fu[Fu.length-1];Fu.pop(),Uu(e,!1)}function Uu(e,t){var n=yu;if((t?!$u.echoes||Ru++&&e===yu:!Ru||--Ru&&e===yu)||Ju(t?Wu.bind(null,e):Hu),e!==yu&&(yu=e,n===pu&&(pu.env=Gu()),ou)){var r=pu.env.Promise,i=e.env;tu.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(Bs,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function Gu(){var e=Bs.Promise;return ou?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(Bs,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:tu.then,gthen:e.prototype.then}:{}}function Yu(e,t,n,r,i){var o=yu;try{return Uu(e,!0),t(n,r,i)}finally{Uu(o,!1)}}function Ju(e){ru.call(eu,e)}function Xu(e,t,n,r){return"function"!=typeof e?e:function(){var i=yu;n&&Bu(),Uu(t,!0);try{return e.apply(this,arguments)}finally{Uu(i,!1),r&&Ju(Ku)}}}function Qu(e,t){return function(n,r){return e.call(this,Xu(n,t),Xu(r,t))}}-1===(""+ru).indexOf("[native code]")&&(Bu=Ku=Ba);function ec(e,t){var n;try{n=t.onuncatched(e)}catch(o){}if(!1!==n)try{var r,i={promise:t,reason:e};if(Bs.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),Ks(r,i)):Bs.CustomEvent&&Ks(r=new CustomEvent("unhandledrejection",{detail:i}),i),r&&Bs.dispatchEvent&&(dispatchEvent(r),!Bs.PromiseRejectionEvent&&Bs.onunhandledrejection))try{Bs.onunhandledrejection(r)}catch(s){}Oa&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(e.stack||e))}catch(o){}}var tc=bu.reject;function nc(e,t,n,r){if(e._state.openComplete||yu.letThrough){var i=e._createTransaction(t,n,e._dbSchema);try{i.create()}catch(o){return tc(o)}return i._promise(t,(function(e,t){return qu((function(){return yu.trans=i,r(e,t,i)}))})).then((function(e){return i._completion.then((function(){return e}))}))}if(!e._state.isBeingOpened){if(!e._options.autoOpen)return tc(new Va.DatabaseClosed);e.open().catch(Ba)}return e._state.dbReadyPromise.then((function(){return nc(e,t,n,r)}))}var rc=String.fromCharCode(65535),ic="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",oc=[],sc="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),ac=sc,uc=sc,cc=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)};function lc(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var dc={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function hc(e){return function(t){return void 0===sa(t,e)&&ua(t=pa(t),e),t}}var fc=function(){function e(){}return e.prototype._trans=function(e,t,n){var r=this._tx||yu.trans,i=this.name;function o(e,n,r){if(!r.schema[i])throw new Va.NotFound("Table "+i+" not part of transaction");return t(r.idbtrans,r)}var s=Iu();try{return r&&r.db===this.db?r===yu.trans?r._promise(e,o,n):qu((function(){return r._promise(e,o,n)}),{trans:r,transless:yu.transless||yu}):nc(this.db,e,[this.name],o)}finally{s&&Cu()}},e.prototype.get=function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(function(t){return n.core.get({trans:t,key:e}).then((function(e){return n.hook.reading.fire(e)}))})).then(t)},e.prototype.where=function(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(qs(e))return new this.db.WhereClause(this,"["+e.join("+")+"]");var t=zs(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&t.every((function(t){return e.keyPath.indexOf(t)>=0}))&&e.keyPath.every((function(e){return t.indexOf(e)>=0}))}))[0];if(n&&this.db._maxKey!==rc)return this.where(n.name).equals(n.keyPath.map((function(t){return e[t]})));!n&&Oa&&console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a compound index ["+t.join("+")+"]");var r=this.schema.idxByName,i=this.db._deps.indexedDB;function o(e,t){try{return 0===i.cmp(e,t)}catch(n){return!1}}var s=t.reduce((function(t,n){var i=t[0],s=t[1],a=r[n],u=e[n];return[i||a,i||!a?lc(s,a&&a.multi?function(e){var t=sa(e,n);return qs(t)&&t.some((function(e){return o(u,e)}))}:function(e){return o(u,sa(e,n))}):s]}),[null,null]),a=s[0],u=s[1];return a?this.where(a.name).equals(e[a.keyPath]).filter(u):n?this.filter(u):this.where(t).equals("")},e.prototype.filter=function(e){return this.toCollection().and(e)},e.prototype.count=function(e){return this.toCollection().count(e)},e.prototype.offset=function(e){return this.toCollection().offset(e)},e.prototype.limit=function(e){return this.toCollection().limit(e)},e.prototype.each=function(e){return this.toCollection().each(e)},e.prototype.toArray=function(e){return this.toCollection().toArray(e)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,qs(e)?"["+e.join("+")+"]":e))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(e){this.schema.mappedClass=e;var t=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var r in t)if(Hs(t,r))try{n[r]=t[r]}catch(i){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e},e.prototype.defineClass=function(){return this.mapToClass((function(e){Ks(this,e)}))},e.prototype.add=function(e,t){var n=this,r=this.schema.primKey,i=r.auto,o=r.keyPath,s=e;return o&&i&&(s=hc(o)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[s]})})).then((function(e){return e.numFailures?bu.reject(e.failures[0]):e.lastResult})).then((function(t){if(o)try{aa(e,o,t)}catch(n){}return t}))},e.prototype.update=function(e,t){if("object"!=typeof t||qs(t))throw new Va.InvalidArgument("Modifications must be an object.");if("object"!=typeof e||qs(e))return this.where(":id").equals(e).modify(t);zs(t).forEach((function(n){aa(e,n,t[n])}));var n=sa(e,this.schema.primKey.keyPath);return void 0===n?tc(new Va.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(t)},e.prototype.put=function(e,t){var n=this,r=this.schema.primKey,i=r.auto,o=r.keyPath,s=e;return o&&i&&(s=hc(o)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"put",values:[s],keys:null!=t?[t]:null})})).then((function(e){return e.numFailures?bu.reject(e.failures[0]):e.lastResult})).then((function(t){if(o)try{aa(e,o,t)}catch(n){}return t}))},e.prototype.delete=function(e){var t=this;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]})})).then((function(e){return e.numFailures?bu.reject(e.failures[0]):void 0}))},e.prototype.clear=function(){var e=this;return this._trans("readwrite",(function(t){return e.core.mutate({trans:t,type:"deleteRange",range:dc})})).then((function(e){return e.numFailures?bu.reject(e.failures[0]):void 0}))},e.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",(function(n){return t.core.getMany({keys:e,trans:n}).then((function(e){return e.map((function(e){return t.hook.reading.fire(e)}))}))}))},e.prototype.bulkAdd=function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,o=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=r.schema.primKey,s=n.auto,a=n.keyPath;if(a&&i)throw new Va.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new Va.InvalidArgument("Arguments objects and keys must have the same length");var u=e.length,c=a&&s?e.map(hc(a)):e;return r.core.mutate({trans:t,type:"add",keys:i,values:c,wantResults:o}).then((function(e){var t=e.numFailures,n=e.results,i=e.lastResult,s=e.failures;if(0===t)return o?n:i;throw new La(r.name+".bulkAdd(): "+t+" of "+u+" operations failed",Object.keys(s).map((function(e){return s[e]})))}))}))},e.prototype.bulkPut=function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,o=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=r.schema.primKey,s=n.auto,a=n.keyPath;if(a&&i)throw new Va.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new Va.InvalidArgument("Arguments objects and keys must have the same length");var u=e.length,c=a&&s?e.map(hc(a)):e;return r.core.mutate({trans:t,type:"put",keys:i,values:c,wantResults:o}).then((function(e){var t=e.numFailures,n=e.results,i=e.lastResult,s=e.failures;if(0===t)return o?n:i;throw new La(r.name+".bulkPut(): "+t+" of "+u+" operations failed",Object.keys(s).map((function(e){return s[e]})))}))}))},e.prototype.bulkDelete=function(e){var t=this,n=e.length;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:e})})).then((function(e){var r=e.numFailures,i=e.lastResult,o=e.failures;if(0===r)return i;throw new La(t.name+".bulkDelete(): "+r+" of "+n+" operations failed",o)}))},e}();function mc(e){var t={},n=function(n,r){if(r){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return t[n].subscribe.apply(null,o),e}if("string"==typeof n)return t[n]};n.addEventType=o;for(var r=1,i=arguments.length;r<i;++r)o(arguments[r]);return n;function o(e,r,i){if("object"==typeof e)return s(e);r||(r=Ya),i||(i=Ba);var o={subscribers:[],fire:i,subscribe:function(e){-1===o.subscribers.indexOf(e)&&(o.subscribers.push(e),o.fire=r(o.fire,e))},unsubscribe:function(e){o.subscribers=o.subscribers.filter((function(t){return t!==e})),o.fire=o.subscribers.reduce(r,i)}};return t[e]=n[e]=o,o}function s(e){zs(e).forEach((function(t){var n=e[t];if(qs(n))o(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new Va.InvalidArgument("Invalid event config");var r=o(t,Ka,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){ia((function(){e.apply(null,t)}))}))}))}}))}}function pc(e,t){return Js(t).from({prototype:e}),t}function yc(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function gc(e,t){e.filter=lc(e.filter,t)}function vc(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return lc(r(),t())}:t,e.justLimit=n&&!r}function wc(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new Va.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function bc(e,t,n){var r=wc(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function _c(e,t,n,r){var i=e.replayFilter?lc(e.filter,e.replayFilter()):e.filter;if(e.or){var o={},s=function(e,n,r){if(!i||i(n,r,(function(e){return n.stop(e)}),(function(e){return n.fail(e)}))){var s=n.primaryKey,a=""+s;"[object ArrayBuffer]"===a&&(a=""+new Uint8Array(s)),Hs(o,a)||(o[a]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(s,n),Ec(bc(e,r,n),e.algorithm,s,!e.keysOnly&&e.valueMapper)])}return Ec(bc(e,r,n),lc(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function Ec(e,t,n,r){var i=Pu(r?function(e,t,i){return n(r(e),t,i)}:n);return e.then((function(e){if(e)return e.start((function(){var n=function(){return e.continue()};t&&!t(e,(function(e){return n=e}),(function(t){e.stop(t),n=Ba}),(function(t){e.fail(t),n=Ba}))||i(e.value,e,(function(e){return n=e})),n()}))}))}var kc=function(){function e(){}return e.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,tc.bind(null,n.error)):n.table._trans("readonly",e).then(t)},e.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,tc.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},e.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=lc(t.algorithm,e)},e.prototype._iterate=function(e,t){return _c(this._ctx,e,t,this._ctx.table.core)},e.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&Ks(n,e),t._ctx=n,t},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(e){var t=this._ctx;return this._read((function(n){return _c(t,e,n,t.table.core)}))},e.prototype.count=function(e){var t=this;return this._read((function(e){var n=t._ctx,r=n.table.core;if(yc(n,!0))return r.count({trans:e,query:{index:wc(n,r.schema),range:n.range}}).then((function(e){return Math.min(e,n.limit)}));var i=0;return _c(n,(function(){return++i,!1}),e,r).then((function(){return i}))})).then(e)},e.prototype.sortBy=function(e,t){var n=e.split(".").reverse(),r=n[0],i=n.length-1;function o(e,t){return t?o(e[n[t]],t-1):e[r]}var s="next"===this._ctx.dir?1:-1;function a(e,t){var n=o(e,i),r=o(t,i);return n<r?-s:n>r?s:0}return this.toArray((function(e){return e.sort(a)})).then(t)},e.prototype.toArray=function(e){var t=this;return this._read((function(e){var n=t._ctx;if("next"===n.dir&&yc(n,!0)&&n.limit>0){var r=n.valueMapper,i=wc(n,n.table.core.schema);return n.table.core.query({trans:e,limit:n.limit,values:!0,query:{index:i,range:n.range}}).then((function(e){var t=e.result;return r?t.map(r):t}))}var o=[];return _c(n,(function(e){return o.push(e)}),e,n.table.core).then((function(){return o}))}),e)},e.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,yc(t)?vc(t,(function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n((function(){e.advance(t),t=0})),!1))}})):vc(t,(function(){var t=e;return function(){return--t<0}}))),this},e.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),vc(this._ctx,(function(){var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this},e.prototype.until=function(e,t){return gc(this._ctx,(function(n,r,i){return!e(n.value)||(r(i),t)})),this},e.prototype.first=function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)},e.prototype.last=function(e){return this.reverse().first(e)},e.prototype.filter=function(e){var t,n;return gc(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=lc(t.isMatch,n),this},e.prototype.and=function(e){return this.filter(e)},e.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},e.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))},e.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},e.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))},e.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)},e.prototype.primaryKeys=function(e){var t=this._ctx;if("next"===t.dir&&yc(t,!0)&&t.limit>0)return this._read((function(e){var n=wc(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((function(e){return e.result})).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)},e.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},e.prototype.firstKey=function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)},e.prototype.lastKey=function(e){return this.reverse().firstKey(e)},e.prototype.distinct=function(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return gc(this._ctx,(function(e){var t=e.primaryKey.toString(),r=Hs(n,t);return n[t]=!0,!r})),this},e.prototype.modify=function(e){var t=this,n=this._ctx;return this._write((function(r){var i;if("function"==typeof e)i=e;else{var o=zs(e),s=o.length;i=function(t){for(var n=!1,r=0;r<s;++r){var i=o[r],a=e[i];sa(t,i)!==a&&(aa(t,i,a),n=!0)}return n}}var a=n.table.core,u=a.schema.primaryKey,c=u.outbound,l=u.extractKey,d="testmode"in ml?1:2e3,h=t.db.core.cmp,f=[],m=0,p=[],y=function(e,t){var n=t.failures,r=t.numFailures;m+=e-r;for(var i=0,o=zs(n);i<o.length;i++){var s=o[i];f.push(n[s])}};return t.clone().primaryKeys().then((function(e){var t=function(n){var o=Math.min(d,e.length-n);return a.getMany({trans:r,keys:e.slice(n,n+o)}).then((function(s){for(var u=[],f=[],m=c?[]:null,p=[],g=0;g<o;++g){var v=s[g],w={value:pa(v),primKey:e[n+g]};!1!==i.call(w,w.value,w)&&(null==w.value?p.push(e[n+g]):c||0===h(l(v),l(w.value))?(f.push(w.value),c&&m.push(e[n+g])):(p.push(e[n+g]),u.push(w.value)))}return Promise.resolve(u.length>0&&a.mutate({trans:r,type:"add",values:u}).then((function(e){for(var t in e.failures)p.splice(parseInt(t),1);y(u.length,e)}))).then((function(e){return f.length>0&&a.mutate({trans:r,type:"put",keys:m,values:f}).then((function(e){return y(f.length,e)}))})).then((function(){return p.length>0&&a.mutate({trans:r,type:"delete",keys:p}).then((function(e){return y(p.length,e)}))})).then((function(){return e.length>n+o&&t(n+d)}))}))};return t(0).then((function(){if(f.length>0)throw new $a("Error modifying one or more objects",f,m,p);return e.length}))}))}))},e.prototype.delete=function(){var e=this._ctx,t=e.range;return yc(e)&&(e.isPrimKey&&!uc||3===t.type)?this._write((function(n){var r=e.table.core.schema.primaryKey,i=t;return e.table.core.count({trans:n,query:{index:r,range:i}}).then((function(t){return e.table.core.mutate({trans:n,type:"deleteRange",range:i}).then((function(e){var n=e.failures;e.lastResult,e.results;var r=e.numFailures;if(r)throw new $a("Could not delete some values",Object.keys(n).map((function(e){return n[e]})),t-r);return t-r}))}))})):this.modify((function(e,t){return t.value=null}))},e}();function xc(e,t){return e<t?-1:e===t?0:1}function Oc(e,t){return e>t?-1:e===t?0:1}function Tc(e,t,n){var r=e instanceof Cc?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Sc(e){return new e.Collection(e,(function(){return Ic("")})).limit(0)}function Dc(e,t,n,r,i,o){for(var s=Math.min(e.length,r.length),a=-1,u=0;u<s;++u){var c=t[u];if(c!==r[u])return i(e[u],n[u])<0?e.substr(0,u)+n[u]+n.substr(u+1):i(e[u],r[u])<0?e.substr(0,u)+r[u]+n.substr(u+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;i(e[u],c)<0&&(a=u)}return s<r.length&&"next"===o?e+n.substr(e.length):s<e.length&&"prev"===o?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}function Mc(e,t,n,r){var i,o,s,a,u,c,l,d=n.length;if(!n.every((function(e){return"string"==typeof e})))return Tc(e,"String expected.");function h(e){i=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),o=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),s="next"===e?xc:Oc;var t=n.map((function(e){return{lower:o(e),upper:i(e)}})).sort((function(e,t){return s(e.lower,t.lower)}));a=t.map((function(e){return e.upper})),u=t.map((function(e){return e.lower})),c=e,l="next"===e?"":r}h("next");var f=new e.Collection(e,(function(){return Nc(a[0],u[d-1]+r)}));f._ondirectionchange=function(e){h(e)};var m=0;return f._addAlgorithm((function(e,n,r){var i=e.key;if("string"!=typeof i)return!1;var h=o(i);if(t(h,u,m))return!0;for(var f=null,p=m;p<d;++p){var y=Dc(i,h,a[p],u[p],s,c);null===y&&null===f?m=p+1:(null===f||s(f,y)>0)&&(f=y)}return n(null!==f?function(){e.continue(f+l)}:r),!1})),f}function Nc(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Ic(e){return{type:1,lower:e,upper:e}}var Cc=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!0,configurable:!0}),e.prototype.between=function(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?Sc(this):new this.Collection(this,(function(){return Nc(e,t,!n,!r)}))}catch(i){return Tc(this,ic)}},e.prototype.equals=function(e){return null==e?Tc(this,ic):new this.Collection(this,(function(){return Ic(e)}))},e.prototype.above=function(e){return null==e?Tc(this,ic):new this.Collection(this,(function(){return Nc(e,void 0,!0)}))},e.prototype.aboveOrEqual=function(e){return null==e?Tc(this,ic):new this.Collection(this,(function(){return Nc(e,void 0,!1)}))},e.prototype.below=function(e){return null==e?Tc(this,ic):new this.Collection(this,(function(){return Nc(void 0,e,!1,!0)}))},e.prototype.belowOrEqual=function(e){return null==e?Tc(this,ic):new this.Collection(this,(function(){return Nc(void 0,e)}))},e.prototype.startsWith=function(e){return"string"!=typeof e?Tc(this,"String expected."):this.between(e,e+rc,!0,!0)},e.prototype.startsWithIgnoreCase=function(e){return""===e?this.startsWith(e):Mc(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],rc)},e.prototype.equalsIgnoreCase=function(e){return Mc(this,(function(e,t){return e===t[0]}),[e],"")},e.prototype.anyOfIgnoreCase=function(){var e=ka.apply(Ea,arguments);return 0===e.length?Sc(this):Mc(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var e=ka.apply(Ea,arguments);return 0===e.length?Sc(this):Mc(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,rc)},e.prototype.anyOf=function(){var e=this,t=ka.apply(Ea,arguments),n=this._cmp;try{t.sort(n)}catch(o){return Tc(this,ic)}if(0===t.length)return Sc(this);var r=new this.Collection(this,(function(){return Nc(t[0],t[t.length-1])}));r._ondirectionchange=function(r){n="next"===r?e._ascending:e._descending,t.sort(n)};var i=0;return r._addAlgorithm((function(e,r,o){for(var s=e.key;n(s,t[i])>0;)if(++i===t.length)return r(o),!1;return 0===n(s,t[i])||(r((function(){e.continue(t[i])})),!1)})),r},e.prototype.notEqual=function(e){return this.inAnyRange([[-(1/0),e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var e=ka.apply(Ea,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(n){return Tc(this,ic)}var t=e.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-(1/0),t]]}),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(e,t){var n=this,r=this._cmp,i=this._ascending,o=this._descending,s=this._min,a=this._max;if(0===e.length)return Sc(this);if(!e.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&i(e[0],e[1])<=0})))return Tc(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Va.InvalidArgument);var u=!t||!1!==t.includeLowers,c=t&&!0===t.includeUppers;var l,d=i;function h(e,t){return d(e[0],t[0])}try{(l=e.reduce((function(e,t){for(var n=0,i=e.length;n<i;++n){var o=e[n];if(r(t[0],o[1])<0&&r(t[1],o[0])>0){o[0]=s(o[0],t[0]),o[1]=a(o[1],t[1]);break}}return n===i&&e.push(t),e}),[])).sort(h)}catch(v){return Tc(this,ic)}var f=0,m=c?function(e){return i(e,l[f][1])>0}:function(e){return i(e,l[f][1])>=0},p=u?function(e){return o(e,l[f][0])>0}:function(e){return o(e,l[f][0])>=0};var y=m,g=new this.Collection(this,(function(){return Nc(l[0][0],l[l.length-1][1],!u,!c)}));return g._ondirectionchange=function(e){"next"===e?(y=m,d=i):(y=p,d=o),l.sort(h)},g._addAlgorithm((function(e,t,r){for(var o=e.key;y(o);)if(++f===l.length)return t(r),!1;return!!function(e){return!m(e)&&!p(e)}(o)||(0===n._cmp(o,l[f][1])||0===n._cmp(o,l[f][0])||t((function(){d===i?e.continue(l[f][0]):e.continue(l[f][1])})),!1)})),g},e.prototype.startsWithAnyOf=function(){var e=ka.apply(Ea,arguments);return e.every((function(e){return"string"==typeof e}))?0===e.length?Sc(this):this.inAnyRange(e.map((function(e){return[e,e+rc]}))):Tc(this,"startsWithAnyOf() only works with strings")},e}();function Ac(e){return 1===e.length?e[0]:e}function jc(e){try{return e.only([[]]),[[]]}catch(t){return rc}}function Pc(e){return Pu((function(t){return $c(t),e(t.target.error),!1}))}function $c(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Lc=function(){function e(){}return e.prototype._lock=function(){return ra(!yu.global),++this._reculock,1!==this._reculock||yu.global||(yu.lockOwnerFor=this),this},e.prototype._unlock=function(){if(ra(!yu.global),0==--this._reculock)for(yu.global||(yu.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Yu(e[1],e[0])}catch(t){}}return this},e.prototype._locked=function(){return this._reculock&&yu.lockOwnerFor!==this},e.prototype.create=function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(ra(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new Va.DatabaseClosed(r);case"MissingAPIError":throw new Va.MissingAPI(r.message,r);default:throw new Va.OpenFailed(r)}if(!this.active)throw new Va.TransactionInactive;return ra(null===this._completion._state),(e=this.idbtrans=e||n.transaction(Ac(this.storeNames),this.mode)).onerror=Pu((function(n){$c(n),t._reject(e.error)})),e.onabort=Pu((function(n){$c(n),t.active&&t._reject(new Va.Abort(e.error)),t.active=!1,t.on("abort").fire(n)})),e.oncomplete=Pu((function(){t.active=!1,t._resolve()})),this},e.prototype._promise=function(e,t,n){var r=this;if("readwrite"===e&&"readwrite"!==this.mode)return tc(new Va.ReadOnly("Transaction is readonly"));if(!this.active)return tc(new Va.TransactionInactive);if(this._locked())return new bu((function(i,o){r._blockedFuncs.push([function(){r._promise(e,t,n).then(i,o)},yu])}));if(n)return qu((function(){var e=new bu((function(e,n){r._lock();var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return e.finally((function(){return r._unlock()})),e._lib=!0,e}));var i=new bu((function(e,n){var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return i._lib=!0,i},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(e){var t=this._root(),n=bu.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return n}));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var i=t._waitingFor;return new bu((function(e,r){n.then((function(n){return t._waitingQueue.push(Pu(e.bind(null,n)))}),(function(e){return t._waitingQueue.push(Pu(r.bind(null,e)))})).finally((function(){t._waitingFor===i&&(t._waitingFor=null)}))}))},e.prototype.abort=function(){this.active&&this._reject(new Va.Abort),this.active=!1},e.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(Hs(t,e))return t[e];var n=this.schema[e];if(!n)throw new Va.NotFound("Table "+e+" not part of transaction");var r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r},e}();function Fc(e,t,n,r,i,o,s){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:o,src:(n&&!s?"&":"")+(r?"*":"")+(i?"++":"")+Rc(t)}}function Rc(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function Vc(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:oa(n,(function(e){return[e.name,e]}))}}function zc(e){return null==e?function(){}:"string"==typeof e?function(e){return 1===e.split(".").length?function(t){return t[e]}:function(t){return sa(t,e)}}(e):function(t){return sa(t,e)}}function qc(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}function Bc(e){return[].slice.call(e)}var Kc=0;function Zc(e){return null==e?":id":"string"==typeof e?e:"["+e.join("+")+"]"}function Wc(e,t,n,r){var i=t.cmp.bind(t);function o(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var t=e.lower,r=e.upper,i=e.lowerOpen,o=e.upperOpen;return void 0===t?void 0===r?null:n.upperBound(r,!!o):void 0===r?n.lowerBound(t,!!i):n.bound(t,r,!!i,!!o)}var s,a,u,c=(a=r,u=Bc((s=e).objectStoreNames),{schema:{name:s.name,tables:u.map((function(e){return a.objectStore(e)})).map((function(e){var t=e.keyPath,n=e.autoIncrement,r=qs(t),i=null==t,o={},s={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:i,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:zc(t)},indexes:Bc(e.indexNames).map((function(t){return e.index(t)})).map((function(e){var t=e.name,n=e.unique,r=e.multiEntry,i=e.keyPath,s={name:t,compound:qs(i),keyPath:i,unique:n,multiEntry:r,extractKey:zc(i)};return o[Zc(i)]=s,s})),getIndexByKeyPath:function(e){return o[Zc(e)]}};return o[":id"]=s.primaryKey,null!=t&&(o[Zc(t)]=s.primaryKey),s}))},hasGetAll:u.length>0&&"getAll"in a.objectStore(u[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),l=c.schema,d=c.hasGetAll,h=l.tables.map((function(e){return function(e){var t,n=e.name;return{name:n,schema:e,mutate:function(t){var r=t.trans,i=t.type,s=t.keys,a=t.values,u=t.range,c=t.wantResults;return new Promise((function(t,l){t=Pu(t);var d=r.objectStore(n),h=null==d.keyPath,f="put"===i||"add"===i;if(!f&&"delete"!==i&&"deleteRange"!==i)throw new Error("Invalid operation type: "+i);var m=(s||a||{length:1}).length;if(s&&a&&s.length!==a.length)throw new Error("Given keys array must have same length as given values array.");if(0===m)return t({numFailures:0,failures:{},results:[],lastResult:void 0});var p,y=c&&Vs(s||qc(e.primaryKey,{type:i,keys:s,values:a})),g=[],v=0,w=function(e){++v,$c(e),y&&(y[e.target._reqno]=void 0),g[e.target._reqno]=e.target.error},b=function(e){var t=e.target;y[t._reqno]=t.result};if("deleteRange"===i){if(4===u.type)return t({numFailures:v,failures:g,results:y,lastResult:void 0});p=3===u.type?d.clear():d.delete(o(u))}else{var _=f?h?[a,s]:[a,null]:[s,null],E=_[0],k=_[1];if(f)for(var x=0;x<m;++x)(p=k&&void 0!==k[x]?d[i](E[x],k[x]):d[i](E[x]))._reqno=x,y&&void 0===y[x]&&(p.onsuccess=b),p.onerror=w;else for(x=0;x<m;++x)(p=d[i](E[x]))._reqno=x,p.onerror=w}var O=function(e){var n=e.target.result;y&&(y[m-1]=n),t({numFailures:v,failures:g,results:y,lastResult:n})};p.onerror=function(e){w(e),O(e)},p.onsuccess=O}))},getMany:function(e){var t=e.trans,r=e.keys;return new Promise((function(e,i){e=Pu(e);for(var o,s=t.objectStore(n),a=r.length,u=new Array(a),c=0,l=0,d=function(t){var n=t.target;u[n._pos]=n.result,++l===c&&e(u)},h=Pc(i),f=0;f<a;++f)null!=r[f]&&((o=s.get(r[f]))._pos=f,o.onsuccess=d,o.onerror=h,++c);0===c&&e(u)}))},get:function(e){var t=e.trans,r=e.key;return new Promise((function(e,i){e=Pu(e);var o=t.objectStore(n).get(r);o.onsuccess=function(t){return e(t.target.result)},o.onerror=Pc(i)}))},query:(t=d,function(e){return new Promise((function(r,i){r=Pu(r);var s=e.trans,a=e.values,u=e.limit,c=e.query,l=u===1/0?void 0:u,d=c.index,h=c.range,f=s.objectStore(n),m=d.isPrimaryKey?f:f.index(d.name),p=o(h);if(0===u)return r({result:[]});if(t){var y=a?m.getAll(p,l):m.getAllKeys(p,l);y.onsuccess=function(e){return r({result:e.target.result})},y.onerror=Pc(i)}else{var g=0,v=a||!("openKeyCursor"in m)?m.openCursor(p):m.openKeyCursor(p),w=[];v.onsuccess=function(e){var t=v.result;return t?(w.push(a?t.value:t.primaryKey),++g===u?r({result:w}):void t.continue()):r({result:w})},v.onerror=Pc(i)}}))}),openCursor:function(e){var t=e.trans,r=e.values,i=e.query,s=e.reverse,a=e.unique;return new Promise((function(e,u){e=Pu(e);var c=i.index,l=i.range,d=t.objectStore(n),h=c.isPrimaryKey?d:d.index(c.name),f=s?a?"prevunique":"prev":a?"nextunique":"next",m=r||!("openKeyCursor"in h)?h.openCursor(o(l),f):h.openKeyCursor(o(l),f);m.onerror=Pc(u),m.onsuccess=Pu((function(n){var r=m.result;if(r){r.___id=++Kc,r.done=!1;var i=r.continue.bind(r),o=r.continuePrimaryKey;o&&(o=o.bind(r));var s=r.advance.bind(r),a=function(){throw new Error("Cursor not stopped")};r.trans=t,r.stop=r.continue=r.continuePrimaryKey=r.advance=function(){throw new Error("Cursor not started")},r.fail=Pu(u),r.next=function(){var e=this,t=1;return this.start((function(){return t--?e.continue():e.stop()})).then((function(){return e}))},r.start=function(e){var t=new Promise((function(e,t){e=Pu(e),m.onerror=Pc(t),r.fail=t,r.stop=function(t){r.stop=r.continue=r.continuePrimaryKey=r.advance=a,e(t)}})),n=function(){if(m.result)try{e()}catch(t){r.fail(t)}else r.done=!0,r.start=function(){throw new Error("Cursor behind last entry")},r.stop()};return m.onsuccess=Pu((function(e){m.onsuccess=n,n()})),r.continue=i,r.continuePrimaryKey=o,r.advance=s,n(),t},e(r)}else e(null)}),u)}))},count:function(e){var t=e.query,r=e.trans,i=t.index,s=t.range;return new Promise((function(e,t){var a=r.objectStore(n),u=i.isPrimaryKey?a:a.index(i.name),c=o(s),l=c?u.count(c):u.count();l.onsuccess=Pu((function(t){return e(t.target.result)})),l.onerror=Pc(t)}))}}}(e)})),f={};return h.forEach((function(e){return f[e.name]=e})),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){if(!f[e])throw new Error("Table '"+e+"' not found");return f[e]},cmp:i,MIN_KEY:-1/0,MAX_KEY:jc(n),schema:l}}function Hc(e,t,n,r){var i=n.IDBKeyRange;return{dbcore:function(e,t){return t.reduce((function(e,t){var n=t.create;return Rs(Rs({},e),n(e))}),e)}(Wc(t,n.indexedDB,i,r),e.dbcore)}}function Uc(e,t){var n=t.db,r=Hc(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach((function(t){var n=t.name;e.core.schema.tables.some((function(e){return e.name===n}))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function Gc(e,t,n,r){n.forEach((function(n){var i=r[n];t.forEach((function(t){var r=Qs(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?Ys(t,n,{get:function(){return this.table(n)},set:function(e){Gs(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,i))}))}))}function Yc(e,t){t.forEach((function(t){for(var n in t)t[n]instanceof e.Table&&delete t[n]}))}function Jc(e,t){return e._cfg.version-t._cfg.version}function Xc(e,t,n,r){var i=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,i);o.create(n),o._completion.catch(r);var s=o._reject.bind(o),a=yu.transless||yu;qu((function(){yu.trans=o,yu.transless=a,0===t?(zs(i).forEach((function(e){el(n,e,i[e].primKey,i[e].indexes)})),Uc(e,n),bu.follow((function(){return e.on.populate.fire(o)})).catch(s)):function(e,t,n,r){var i=[],o=e._versions,s=e._dbSchema=nl(e,e.idbdb,r),a=!1;function u(){return i.length?bu.resolve(i.shift()(n.idbtrans)).then(u):bu.resolve()}return o.filter((function(e){return e._cfg.version>=t})).forEach((function(o){i.push((function(){var i=s,u=o._cfg.dbschema;rl(e,i,r),rl(e,u,r),s=e._dbSchema=u;var c=Qc(i,u);c.add.forEach((function(e){el(r,e[0],e[1].primKey,e[1].indexes)})),c.change.forEach((function(e){if(e.recreate)throw new Va.Upgrade("Not yet support for changing primary key");var t=r.objectStore(e.name);e.add.forEach((function(e){return tl(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),tl(t,e)})),e.del.forEach((function(e){return t.deleteIndex(e)}))}));var l=o._cfg.contentUpgrade;if(l&&o._cfg.version>t){Uc(e,r),n._memoizedTables={},a=!0;var d=ca(u);c.del.forEach((function(e){d[e]=i[e]})),Yc(e,[e.Transaction.prototype]),Gc(e,[e.Transaction.prototype],zs(d),d),n.schema=d;var h,f=xa(l);f&&Bu();var m=bu.follow((function(){if((h=l(n))&&f){var e=Ku.bind(null,null);h.then(e,e)}}));return h&&"function"==typeof h.then?bu.resolve(h):m.then((function(){return h}))}})),i.push((function(t){a&&ac||function(e,t){for(var n=0;n<t.db.objectStoreNames.length;++n){var r=t.db.objectStoreNames[n];null==e[r]&&t.db.deleteObjectStore(r)}}(o._cfg.dbschema,t);Yc(e,[e.Transaction.prototype]),Gc(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),n.schema=e._dbSchema}))})),u().then((function(){var e,t;t=r,zs(e=s).forEach((function(n){t.db.objectStoreNames.contains(n)||el(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,o,n).catch(s)}))}function Qc(e,t){var n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){var i=e[n],o=t[n];if(i){var s={name:n,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!sc)s.recreate=!0,r.change.push(s);else{var a=i.idxByName,u=o.idxByName,c=void 0;for(c in a)u[c]||s.del.push(c);for(c in u){var l=a[c],d=u[c];l?l.src!==d.src&&s.change.push(d):s.add.push(d)}(s.del.length>0||s.add.length>0||s.change.length>0)&&r.change.push(s)}}else r.add.push([n,o])}return r}function el(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(e){return tl(i,e)})),i}function tl(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function nl(e,t,n){var r={};return ta(t.objectStoreNames,0).forEach((function(e){for(var t=n.objectStore(e),i=t.keyPath,o=Fc(Rc(i),i||"",!1,!1,!!t.autoIncrement,i&&"string"!=typeof i,!0),s=[],a=0;a<t.indexNames.length;++a){var u=t.index(t.indexNames[a]);i=u.keyPath;var c=Fc(u.name,i,!!u.unique,!!u.multiEntry,!1,i&&"string"!=typeof i,!1);s.push(c)}r[e]=Vc(e,o,s)})),r}function rl(e,t,n){for(var r=n.db.objectStoreNames,i=0;i<r.length;++i){var o=r[i],s=n.objectStore(o);e._hasGetAll="getAll"in s;for(var a=0;a<s.indexNames.length;++a){var u=s.indexNames[a],c=s.index(u).keyPath,l="string"==typeof c?c:"["+ta(c).join("+")+"]";if(t[o]){var d=t[o].idxByName[l];d&&(d.name=u,delete t[o].idxByName[l],t[o].idxByName[u]=d)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Bs.WorkerGlobalScope&&Bs instanceof Bs.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}var il,ol=function(){function e(){}return e.prototype._parseStoresSpec=function(e,t){zs(e).forEach((function(n){if(null!==e[n]){var r=e[n].split(",").map((function(e,t){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Fc(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),qs(r),0===t)})),i=r.shift();if(i.multi)throw new Va.Schema("Primary key cannot be multi-valued");r.forEach((function(e){if(e.auto)throw new Va.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new Va.Schema("Index must have a name and cannot be an empty string")})),t[n]=Vc(n,i,r)}}))},e.prototype.stores=function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?Ks(this._cfg.storesSource,e):e;var n=t._versions,r={},i={};return n.forEach((function(e){Ks(r,e._cfg.storesSource),i=e._cfg.dbschema={},e._parseStoresSpec(r,i)})),t._dbSchema=i,Yc(t,[t._allTables,t,t.Transaction.prototype]),Gc(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],zs(i),i),t._storeNames=zs(i),this},e.prototype.upgrade=function(e){return this._cfg.contentUpgrade=e,this},e}();function sl(e){return qu((function(){return yu.letThrough=!0,e()}))}function al(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((function(){return t.dbOpenError?tc(t.dbOpenError):e}));Oa&&(t.openCanceller._stackHolder=Ma()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.dbReadyResolve,i=null;return bu.race([t.openCanceller,new bu((function(r,o){if(!n)throw new Va.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var s=e.name,a=t.autoSchema?n.open(s):n.open(s,Math.round(10*e.verno));if(!a)throw new Va.MissingAPI("IndexedDB API not available");a.onerror=Pc(o),a.onblocked=Pu(e._fireOnBlocked),a.onupgradeneeded=Pu((function(r){if(i=a.transaction,t.autoSchema&&!e._options.allowEmptyDB){a.onerror=$c,i.abort(),a.result.close();var u=n.deleteDatabase(s);u.onsuccess=u.onerror=Pu((function(){o(new Va.NoSuchDatabase("Database "+s+" doesnt exist"))}))}else{i.onerror=Pc(o);var c=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;e.idbdb=a.result,Xc(e,c/10,i,o)}}),o),a.onsuccess=Pu((function(){i=null;var n=e.idbdb=a.result,o=ta(n.objectStoreNames);if(o.length>0)try{var u=n.transaction(Ac(o),"readonly");t.autoSchema?function(e,t,n){e.verno=t.version/10;var r=e._dbSchema=nl(0,t,n);e._storeNames=ta(t.objectStoreNames,0),Gc(e,[e._allTables],zs(r),r)}(e,n,u):(rl(e,e._dbSchema,u),function(e,t){var n=Qc(nl(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((function(e){return e.add.length||e.change.length})))}(e,u)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Uc(e,u)}catch(c){}oc.push(e),n.onversionchange=Pu((function(n){t.vcFired=!0,e.on("versionchange").fire(n)})),il.add(s),r()}),o)}))]).then((function(){return t.onReadyBeingFired=[],bu.resolve(sl(e.on.ready.fire)).then((function e(){if(t.onReadyBeingFired.length>0){var n=t.onReadyBeingFired.reduce(Ja,Ba);return t.onReadyBeingFired=[],bu.resolve(sl(n)).then(e)}}))})).finally((function(){t.onReadyBeingFired=null})).then((function(){return t.isBeingOpened=!1,e})).catch((function(n){try{i&&i.abort()}catch(r){}return t.isBeingOpened=!1,e.close(),t.dbOpenError=n,tc(t.dbOpenError)})).finally((function(){t.openComplete=!0,r()}))}function ul(e){var t=function(t){return e.next(t)},n=i(t),r=i((function(t){return e.throw(t)}));function i(e){return function(t){var i=e(t),o=i.value;return i.done?o:o&&"function"==typeof o.then?o.then(n,r):qs(o)?Promise.all(o).then(n,r):n(o)}}return i(t)()}function cl(e,t,n){var r=arguments.length;if(r<2)throw new Va.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var o=da(i);return[e,o,n]}function ll(e,t,n,r,i){return bu.resolve().then((function(){var o=yu.transless||yu,s=e._createTransaction(t,n,e._dbSchema,r),a={trans:s,transless:o};r?s.idbtrans=r.idbtrans:s.create();var u,c=xa(i);c&&Bu();var l=bu.follow((function(){if(u=i.call(s,s))if(c){var e=Ku.bind(null,null);u.then(e,e)}else"function"==typeof u.next&&"function"==typeof u.throw&&(u=ul(u))}),a);return(u&&"function"==typeof u.then?bu.resolve(u).then((function(e){return s.active?e:tc(new Va.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):l.then((function(){return u}))).then((function(e){return r&&s._resolve(),s._completion.then((function(){return e}))})).catch((function(e){return s._reject(e),tc(e)}))}))}function dl(e,t,n){for(var r=qs(e)?e.slice():[e],i=0;i<n;++i)r.push(t);return r}var hl={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return Rs(Rs({},e),{table:function(t){var n=e.table(t),r=n.schema,i={},o=[];function s(e,t,n){var r=Zc(e),a=i[r]=i[r]||[],u=null==e?0:"string"==typeof e?1:e.length,c=t>0,l=Rs(Rs({},n),{isVirtual:c,isPrimaryKey:!c&&n.isPrimaryKey,keyTail:t,keyLength:u,extractKey:zc(e),unique:!c&&n.unique});(a.push(l),l.isPrimaryKey||o.push(l),u>1)&&s(2===u?e[0]:e.slice(0,u-1),t+1,n);return a.sort((function(e,t){return e.keyTail-t.keyTail})),l}var a=s(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[a];for(var u=0,c=r.indexes;u<c.length;u++){var l=c[u];s(l.keyPath,0,l)}function d(t){var n,r,i=t.query.index;return i.isVirtual?Rs(Rs({},t),{query:{index:i,range:(n=t.query.range,r=i.keyTail,{type:1===n.type?2:n.type,lower:dl(n.lower,n.lowerOpen?e.MAX_KEY:e.MIN_KEY,r),lowerOpen:!0,upper:dl(n.upper,n.upperOpen?e.MIN_KEY:e.MAX_KEY,r),upperOpen:!0})}}):t}return Rs(Rs({},n),{schema:Rs(Rs({},r),{primaryKey:a,indexes:o,getIndexByKeyPath:function(e){var t=i[Zc(e)];return t&&t[0]}}),count:function(e){return n.count(d(e))},query:function(e){return n.query(d(e))},openCursor:function(t){var r=t.query.index,i=r.keyTail,o=r.isVirtual,s=r.keyLength;if(!o)return n.openCursor(t);return n.openCursor(d(t)).then((function(n){return n&&function(n){return Object.create(n,{continue:{value:function(r){null!=r?n.continue(dl(r,t.reverse?e.MAX_KEY:e.MIN_KEY,i)):t.unique?n.continue(dl(n.key,t.reverse?e.MIN_KEY:e.MAX_KEY,i)):n.continue()}},continuePrimaryKey:{value:function(t,r){n.continuePrimaryKey(dl(t,e.MAX_KEY,i),r)}},key:{get:function(){var e=n.key;return 1===s?e[0]:e.slice(0,s)}},value:{get:function(){return n.value}}})}(n)}))}})}})}},fl={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return Rs(Rs({},e),{table:function(t){var n=e.table(t),r=n.schema.primaryKey;return Rs(Rs({},n),{mutate:function(e){var i=yu.trans,o=i.table(t).hook,s=o.deleting,a=o.creating,u=o.updating;switch(e.type){case"add":if(a.fire===Ba)break;return i._promise("readwrite",(function(){return c(e)}),!0);case"put":if(a.fire===Ba&&u.fire===Ba)break;return i._promise("readwrite",(function(){return c(e)}),!0);case"delete":if(s.fire===Ba)break;return i._promise("readwrite",(function(){return c(e)}),!0);case"deleteRange":if(s.fire===Ba)break;return i._promise("readwrite",(function(){return l((t=e).trans,t.range,1e4);var t}),!0)}return n.mutate(e);function c(e){var t=yu.trans,i=e.keys||qc(r,e);if(!i)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?Rs(Rs({},e),{keys:i,wantResults:!0}):Rs({},e)).type&&(e.values=Vs(e.values)),e.keys&&(e.keys=Vs(e.keys)),function(e,t,n){return"add"===t.type?Promise.resolve(new Array(t.values.length)):e.getMany({trans:t.trans,keys:n})}(n,e,i).then((function(o){var c=i.map((function(n,i){var c=o[i],l={onerror:null,onsuccess:null};if("delete"===e.type)s.fire.call(l,n,c,t);else if("add"===e.type||void 0===c){var d=a.fire.call(l,n,e.values[i],t);null==n&&null!=d&&(n=d,e.keys[i]=n,r.outbound||aa(e.values[i],r.keyPath,n))}else{var h=wa(c,e.values[i]),f=u.fire.call(l,h,n,c,t);if(f){var m=e.values[i];Object.keys(f).forEach((function(e){Hs(m,e)?m[e]=f[e]:aa(m,e,f[e])}))}}return l}));return n.mutate(e).then((function(t){for(var n=t.failures,r=t.results,s=t.numFailures,a=t.lastResult,u=0;u<i.length;++u){var l=r?r[u]:i[u],d=c[u];null==l?d.onerror&&d.onerror(n[u]):d.onsuccess&&d.onsuccess("put"===e.type&&o[u]?e.values[u]:l)}return{failures:n,results:r,numFailures:s,lastResult:a}})).catch((function(e){return c.forEach((function(t){return t.onerror&&t.onerror(e)})),Promise.reject(e)}))}))}function l(e,t,i){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:i}).then((function(n){var r=n.result;return c({type:"delete",keys:r,trans:e}).then((function(n){return n.numFailures>0?Promise.reject(n.failures[0]):r.length<i?{failures:[],numFailures:0,lastResult:void 0}:l(e,Rs(Rs({},t),{lower:r[r.length-1],lowerOpen:!0}),i)}))}))}}})}})}},ml=function(){function e(t,n){var r=this;this._middlewares={},this.verno=0;var i=e.dependencies;this._options=n=Rs({addons:e.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var o=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null;var s,a={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ba,dbReadyPromise:null,cancelOpen:Ba,openCanceller:null,autoSchema:!0};a.dbReadyPromise=new bu((function(e){a.dbReadyResolve=e})),a.openCanceller=new bu((function(e,t){a.cancelOpen=t})),this._state=a,this.name=t,this.on=mc(this,"populate","blocked","versionchange",{ready:[Ja,Ba]}),this.on.ready.subscribe=na(this.on.ready.subscribe,(function(t){return function(n,i){e.vip((function(){var e=r._state;if(e.openComplete)e.dbOpenError||bu.resolve().then(n),i&&t(n);else if(e.onReadyBeingFired)e.onReadyBeingFired.push(n),i&&t(n);else{t(n);var o=r;i||t((function e(){o.on.ready.unsubscribe(n),o.on.ready.unsubscribe(e)}))}}))}})),this.Collection=(s=this,pc(kc.prototype,(function(e,t){this.db=s;var n=dc,r=null;if(t)try{n=t()}catch(u){r=u}var i=e._ctx,o=i.table,a=o.hook.reading.fire;this._ctx={table:o,index:i.index,isPrimKey:!i.index||o.schema.primKey.keyPath&&i.index===o.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:a!==Ka?a:null}}))),this.Table=function(e){return pc(fc.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:mc(null,{creating:[Ha,Ba],reading:[Za,Ka],updating:[Ga,Ba],deleting:[Ua,Ba]})}))}(this),this.Transaction=function(e){return pc(Lc.prototype,(function(t,n,r,i){var o=this;this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.idbtrans=null,this.on=mc(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new bu((function(e,t){o._resolve=e,o._reject=t})),this._completion.then((function(){o.active=!1,o.on.complete.fire()}),(function(e){var t=o.active;return o.active=!1,o.on.error.fire(e),o.parent?o.parent._reject(e):t&&o.idbtrans&&o.idbtrans.abort(),tc(e)}))}))}(this),this.Version=function(e){return pc(ol.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return pc(Cc.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};var i=e._deps.indexedDB;if(!i)throw new Va.MissingAPI("indexedDB API missing");this._cmp=this._ascending=i.cmp.bind(i),this._descending=function(e,t){return i.cmp(t,e)},this._max=function(e,t){return i.cmp(e,t)>0?e:t},this._min=function(e,t){return i.cmp(e,t)<0?e:t},this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '"+r.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+r.name+"'. Closing db now to resume the delete request."),r.close()})),this.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('"+r.name+"') was blocked"):console.warn("Upgrade '"+r.name+"' blocked by other connection holding version "+e.oldVersion/10)})),this._maxKey=jc(n.IDBKeyRange),this._createTransaction=function(e,t,n,i){return new r.Transaction(e,t,n,i)},this._fireOnBlocked=function(e){r.on("blocked").fire(e),oc.filter((function(e){return e.name===r.name&&e!==r&&!e._state.vcFired})).map((function(t){return t.on("versionchange").fire(e)}))},this.use(hl),this.use(fl),o.forEach((function(e){return e(r)}))}return e.prototype.version=function(e){if(isNaN(e)||e<.1)throw new Va.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new Va.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter((function(t){return t._cfg.version===e}))[0];return n||(n=new this.Version(e),t.push(n),t.sort(Jc),n.stores({}),this._state.autoSchema=!1,n)},e.prototype._whenReady=function(e){var t=this;return this._state.openComplete||yu.letThrough?e():new bu((function(e,n){if(!t._state.isBeingOpened){if(!t._options.autoOpen)return void n(new Va.DatabaseClosed);t.open().catch(Ba)}t._state.dbReadyPromise.then(e,n)})).then(e)},e.prototype.use=function(e){var t=e.stack,n=e.create,r=e.level,i=e.name;i&&this.unuse({stack:t,name:i});var o=this._middlewares[t]||(this._middlewares[t]=[]);return o.push({stack:t,create:n,level:null==r?10:r,name:i}),o.sort((function(e,t){return e.level-t.level})),this},e.prototype.unuse=function(e){var t=e.stack,n=e.name,r=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((function(e){return r?e.create!==r:!!n&&e.name!==n}))),this},e.prototype.open=function(){return al(this)},e.prototype.close=function(){var e=oc.indexOf(this),t=this._state;if(e>=0&&oc.splice(e,1),this.idbdb){try{this.idbdb.close()}catch(n){}this.idbdb=null}this._options.autoOpen=!1,t.dbOpenError=new Va.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError),t.dbReadyPromise=new bu((function(e){t.dbReadyResolve=e})),t.openCanceller=new bu((function(e,n){t.cancelOpen=n}))},e.prototype.delete=function(){var e=this,t=arguments.length>0,n=this._state;return new bu((function(r,i){var o=function(){e.close();var t=e._deps.indexedDB.deleteDatabase(e.name);t.onsuccess=Pu((function(){il.remove(e.name),r()})),t.onerror=Pc(i),t.onblocked=e._fireOnBlocked};if(t)throw new Va.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(o):o()}))},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return null!==this.idbdb},e.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name},e.prototype.hasFailed=function(){return null!==this._state.dbOpenError},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var e=this;return zs(this._allTables).map((function(t){return e._allTables[t]}))},enumerable:!0,configurable:!0}),e.prototype.transaction=function(){var e=cl.apply(this,arguments);return this._transaction.apply(this,e)},e.prototype._transaction=function(e,t,n){var r=this,i=yu.trans;i&&i.db===this&&-1===e.indexOf("!")||(i=null);var o,s,a=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(s=t.map((function(e){var t=e instanceof r.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||"readonly"===e)o="readonly";else{if("rw"!=e&&"readwrite"!=e)throw new Va.InvalidArgument("Invalid transaction mode: "+e);o="readwrite"}if(i){if("readonly"===i.mode&&"readwrite"===o){if(!a)throw new Va.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&s.forEach((function(e){if(i&&-1===i.storeNames.indexOf(e)){if(!a)throw new Va.SubTransaction("Table "+e+" not included in parent transaction.");i=null}})),a&&i&&!i.active&&(i=null)}}catch(c){return i?i._promise(null,(function(e,t){t(c)})):tc(c)}var u=ll.bind(null,this,o,s,i,n);return i?i._promise(o,u,"lock"):yu.trans?Yu(yu.transless,(function(){return r._whenReady(u)})):this._whenReady(u)},e.prototype.table=function(e){if(!Hs(this._allTables,e))throw new Va.InvalidTable("Table "+e+" does not exist");return this._allTables[e]},e}(),pl=ml;function yl(e){let t,n,r;return{c(){t=P("svg"),n=P("polyline"),this.h()},l(e){t=B(e,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var r=z(t);n=B(r,"polyline",{points:!0},1),z(n).forEach(A),r.forEach(A),this.h()},h(){V(n,"points","20 6 9 17 4 12"),V(t,"xmlns","http://www.w3.org/2000/svg"),V(t,"width",e[0]),V(t,"height",e[0]),V(t,"fill","none"),V(t,"viewBox","0 0 24 24"),V(t,"stroke","currentColor"),V(t,"stroke-width",e[1]),V(t,"stroke-linecap","round"),V(t,"stroke-linejoin","round"),V(t,"class",r="feather feather-check "+e[2])},m(e,r){C(e,t,r),I(t,n)},p(e,[n]){1&n&&V(t,"width",e[0]),1&n&&V(t,"height",e[0]),2&n&&V(t,"stroke-width",e[1]),4&n&&r!==(r="feather feather-check "+e[2])&&V(t,"class",r)},i:l,o:l,d(e){e&&A(t)}}}function gl(e,t,n){let{size:r="100%"}=t,{strokeWidth:i=2}=t,{class:o=""}=t;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),e.$$set=e=>{"size"in e&&n(0,r=e.size),"strokeWidth"in e&&n(1,i=e.strokeWidth),"class"in e&&n(2,o=e.class)},[r,i,o]}Us(pl,Rs(Rs({},qa),{delete:function(e){return new pl(e).delete()},exists:function(e){return new pl(e,{addons:[]}).open().then((function(e){return e.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(e){return il?il.getDatabaseNames().then(e):bu.resolve([])},defineClass:function(){return function(e){Ks(this,e)}},ignoreTransaction:function(e){return yu.trans?Yu(yu.transless,e):e()},vip:sl,async:function(e){return function(){try{var t=ul(e.apply(this,arguments));return t&&"function"==typeof t.then?t:bu.resolve(t)}catch(n){return tc(n)}}},spawn:function(e,t,n){try{var r=ul(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:bu.resolve(r)}catch(i){return tc(i)}},currentTransaction:{get:function(){return yu.trans||null}},waitFor:function(e,t){var n=bu.resolve("function"==typeof e?pl.ignoreTransaction(e):e).timeout(t||6e4);return yu.trans?yu.trans.waitFor(n):n},Promise:bu,debug:{get:function(){return Oa},set:function(e){Ta(e,"dexie"===e?function(){return!0}:cc)}},derive:Js,extend:Ks,props:Us,override:na,Events:mc,getByKeyPath:sa,setByKeyPath:aa,delByKeyPath:ua,shallowClone:ca,deepClone:pa,getObjectDiff:wa,asap:ia,minKey:-(1/0),addons:[],connections:oc,errnames:Fa,dependencies:function(){try{return{indexedDB:Bs.indexedDB||Bs.mozIndexedDB||Bs.webkitIndexedDB||Bs.msIndexedDB,IDBKeyRange:Bs.IDBKeyRange||Bs.webkitIDBKeyRange}}catch(e){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:"3.0.3",version:"3.0.3".split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,n){return e+t/Math.pow(10,2*n)})),default:pl,Dexie:pl})),pl.maxKey=jc(pl.dependencies.IDBKeyRange),function(e){try{il=function(e){var t,n=e&&"function"==typeof e.databases;if(!n){var r=new ml("__dbnames",{addons:[]});r.version(1).stores({dbnames:"name"}),t=r.table("dbnames")}return{getDatabaseNames:function(){return n?bu.resolve(e.databases()).then((function(e){return e.map((function(e){return e.name})).filter((function(e){return"__dbnames"!==e}))})):t.toCollection().primaryKeys()},add:function(e){return!n&&"__dbnames"!==e&&t.put({name:e}).catch(Ba)},remove:function(e){return!n&&"__dbnames"!==e&&t.delete(e).catch(Ba)}}}(e)}catch(t){}}(ml.dependencies.indexedDB),bu.rejectionMapper=function(e,t){if(!e||e instanceof ja||e instanceof TypeError||e instanceof SyntaxError||!e.name||!za[e.name])return e;var n=new za[e.name](t||e.message,e);return"stack"in e&&Ys(n,"stack",{get:function(){return this.inner.stack}}),n},Ta(Oa,cc);class vl extends Pe{constructor(e){super(),je(this,e,gl,yl,g,{size:0,strokeWidth:1,class:2})}}function wl(e){let t,n,r;return{c(){t=P("svg"),n=P("polyline"),this.h()},l(e){t=B(e,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var r=z(t);n=B(r,"polyline",{points:!0},1),z(n).forEach(A),r.forEach(A),this.h()},h(){V(n,"points","15 18 9 12 15 6"),V(t,"xmlns","http://www.w3.org/2000/svg"),V(t,"width",e[0]),V(t,"height",e[0]),V(t,"fill","none"),V(t,"viewBox","0 0 24 24"),V(t,"stroke","currentColor"),V(t,"stroke-width",e[1]),V(t,"stroke-linecap","round"),V(t,"stroke-linejoin","round"),V(t,"class",r="feather feather-chevron-left "+e[2])},m(e,r){C(e,t,r),I(t,n)},p(e,[n]){1&n&&V(t,"width",e[0]),1&n&&V(t,"height",e[0]),2&n&&V(t,"stroke-width",e[1]),4&n&&r!==(r="feather feather-chevron-left "+e[2])&&V(t,"class",r)},i:l,o:l,d(e){e&&A(t)}}}function bl(e,t,n){let{size:r="100%"}=t,{strokeWidth:i=2}=t,{class:o=""}=t;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),e.$$set=e=>{"size"in e&&n(0,r=e.size),"strokeWidth"in e&&n(1,i=e.strokeWidth),"class"in e&&n(2,o=e.class)},[r,i,o]}class _l extends Pe{constructor(e){super(),je(this,e,bl,wl,g,{size:0,strokeWidth:1,class:2})}}function El(e){let t,n,r;return{c(){t=P("svg"),n=P("path"),this.h()},l(e){t=B(e,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var r=z(t);n=B(r,"path",{d:!0},1),z(n).forEach(A),r.forEach(A),this.h()},h(){V(n,"d","M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"),V(t,"xmlns","http://www.w3.org/2000/svg"),V(t,"width",e[0]),V(t,"height",e[0]),V(t,"fill","none"),V(t,"viewBox","0 0 24 24"),V(t,"stroke","currentColor"),V(t,"stroke-width",e[1]),V(t,"stroke-linecap","round"),V(t,"stroke-linejoin","round"),V(t,"class",r="feather feather-maximize "+e[2])},m(e,r){C(e,t,r),I(t,n)},p(e,[n]){1&n&&V(t,"width",e[0]),1&n&&V(t,"height",e[0]),2&n&&V(t,"stroke-width",e[1]),4&n&&r!==(r="feather feather-maximize "+e[2])&&V(t,"class",r)},i:l,o:l,d(e){e&&A(t)}}}function kl(e,t,n){let{size:r="100%"}=t,{strokeWidth:i=2}=t,{class:o=""}=t;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),e.$$set=e=>{"size"in e&&n(0,r=e.size),"strokeWidth"in e&&n(1,i=e.strokeWidth),"class"in e&&n(2,o=e.class)},[r,i,o]}class xl extends Pe{constructor(e){super(),je(this,e,kl,El,g,{size:0,strokeWidth:1,class:2})}}function Ol(e){let t,n,r,i;return{c(){t=P("svg"),n=P("line"),r=P("line"),this.h()},l(e){t=B(e,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var i=z(t);n=B(i,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),z(n).forEach(A),r=B(i,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),z(r).forEach(A),i.forEach(A),this.h()},h(){V(n,"x1","12"),V(n,"y1","5"),V(n,"x2","12"),V(n,"y2","19"),V(r,"x1","5"),V(r,"y1","12"),V(r,"x2","19"),V(r,"y2","12"),V(t,"xmlns","http://www.w3.org/2000/svg"),V(t,"width",e[0]),V(t,"height",e[0]),V(t,"fill","none"),V(t,"viewBox","0 0 24 24"),V(t,"stroke","currentColor"),V(t,"stroke-width",e[1]),V(t,"stroke-linecap","round"),V(t,"stroke-linejoin","round"),V(t,"class",i="feather feather-plus "+e[2])},m(e,i){C(e,t,i),I(t,n),I(t,r)},p(e,[n]){1&n&&V(t,"width",e[0]),1&n&&V(t,"height",e[0]),2&n&&V(t,"stroke-width",e[1]),4&n&&i!==(i="feather feather-plus "+e[2])&&V(t,"class",i)},i:l,o:l,d(e){e&&A(t)}}}function Tl(e,t,n){let{size:r="100%"}=t,{strokeWidth:i=2}=t,{class:o=""}=t;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),e.$$set=e=>{"size"in e&&n(0,r=e.size),"strokeWidth"in e&&n(1,i=e.strokeWidth),"class"in e&&n(2,o=e.class)},[r,i,o]}class Sl extends Pe{constructor(e){super(),je(this,e,Tl,Ol,g,{size:0,strokeWidth:1,class:2})}}function Dl(e){let t,n,r,i;return{c(){t=P("svg"),n=P("polyline"),r=P("path"),this.h()},l(e){t=B(e,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var i=z(t);n=B(i,"polyline",{points:!0},1),z(n).forEach(A),r=B(i,"path",{d:!0},1),z(r).forEach(A),i.forEach(A),this.h()},h(){V(n,"points","3 6 5 6 21 6"),V(r,"d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"),V(t,"xmlns","http://www.w3.org/2000/svg"),V(t,"width",e[0]),V(t,"height",e[0]),V(t,"fill","none"),V(t,"viewBox","0 0 24 24"),V(t,"stroke","currentColor"),V(t,"stroke-width",e[1]),V(t,"stroke-linecap","round"),V(t,"stroke-linejoin","round"),V(t,"class",i="feather feather-trash "+e[2])},m(e,i){C(e,t,i),I(t,n),I(t,r)},p(e,[n]){1&n&&V(t,"width",e[0]),1&n&&V(t,"height",e[0]),2&n&&V(t,"stroke-width",e[1]),4&n&&i!==(i="feather feather-trash "+e[2])&&V(t,"class",i)},i:l,o:l,d(e){e&&A(t)}}}function Ml(e,t,n){let{size:r="100%"}=t,{strokeWidth:i=2}=t,{class:o=""}=t;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),e.$$set=e=>{"size"in e&&n(0,r=e.size),"strokeWidth"in e&&n(1,i=e.strokeWidth),"class"in e&&n(2,o=e.class)},[r,i,o]}class Nl extends Pe{constructor(e){super(),je(this,e,Ml,Dl,g,{size:0,strokeWidth:1,class:2})}}export{U as $,h as A,_e as B,Le as C,w as D,_ as E,Xe as F,I as G,l as H,R as I,H as J,p as K,oe as L,ae as M,k as N,ee as O,Q as P,An as Q,Te as R,Pe as S,Nl as T,y as U,v as V,$n as W,Oe as X,E as Y,Ze as Z,Sl as _,z as a,xl as a0,ml as a1,Vn as a2,Ls as a3,_l as a4,vl as a5,V as b,B as c,A as d,j as e,C as f,K as g,W as h,je as i,Me as j,L as k,F as l,Ne as m,Z as n,Ie as o,Se as p,De as q,xe as r,g as s,$ as t,Ee as u,ke as v,Ce as w,se as x,ie as y,re as z};
