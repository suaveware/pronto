import{S as e,i as t,s as l,e as n,j as s,c as a,a as i,m as r,d as c,b as o,f as u,o as f,M as h,K as d,v,r as p,w as m,t as g,g as E,J as $,k as y,n as x,N as _,O as w,P as b,B as k,u as D,h as T,Q as N,T as L,U as O,V as I,W as A,X as S,D as R,Y as P,Z as V,_ as z,$ as U,L as B,l as j,a0 as C,a1 as Y,a2 as M,a3 as W,z as X,a4 as G,a5 as H,a6 as J,a7 as K,a8 as Z,a9 as Q,aa as q,ab as F,ac as ee,ad as te}from"../chunks/vendor-9b7a0713.js";import{g as le}from"../chunks/navigation-c804b3db.js";import{R as ne,r as se,s as ae,A as ie,a as re,c as ce,e as oe}from"../chunks/state-988a0c2e.js";import{b as ue}from"../chunks/paths-7dc55c62.js";function fe(e,t,l){const n=e.slice();return n[14]=t[l],n}function he(e,t,l){const n=e.slice();return n[11]=t[l],n[13]=l,n}function de(e,t,l){const n=e.slice();return n[17]=t[l],n}function ve(e){let t,l,g,E,$;return l=new O({props:{size:"24"}}),{c(){t=n("button"),s(l.$$.fragment),this.h()},l(e){t=a(e,"BUTTON",{class:!0});var n=i(t);r(l.$$.fragment,n),n.forEach(c),this.h()},h(){o(t,"class","fixed top-4 right-4")},m(n,s){u(n,t,s),f(l,t,null),g=!0,E||($=h(t,"click",e[2]),E=!0)},p:d,i(e){g||(v(l.$$.fragment,e),g=!0)},o(e){p(l.$$.fragment,e),g=!1},d(e){e&&c(t),m(l),E=!1,$()}}}function pe(e){let t,l,s=e[17]+"";return{c(){t=n("option"),l=g(s),this.h()},l(e){t=a(e,"OPTION",{});var n=i(t);l=E(n,s),n.forEach(c),this.h()},h(){t.__value=e[17],t.value=t.__value},m(e,n){u(e,t,n),$(t,l)},p:d,d(e){e&&c(t)}}}function me(e){let t,l=new Array(31).fill(0).map(_e),s=[];for(let n=0;n<l.length;n+=1)s[n]=$e(fe(e,l,n));return{c(){t=n("div");for(let e=0;e<s.length;e+=1)s[e].c();this.h()},l(e){t=a(e,"DIV",{class:!0});var l=i(t);for(let t=0;t<s.length;t+=1)s[t].l(l);l.forEach(c),this.h()},h(){o(t,"class","inline-flex flex-wrap gap-2")},m(e,l){u(e,t,l);for(let n=0;n<s.length;n+=1)s[n].m(t,null)},p(e,n){if(2&n){let a;for(l=new Array(31).fill(0).map(_e),a=0;a<l.length;a+=1){const i=fe(e,l,a);s[a]?s[a].p(i,n):(s[a]=$e(i),s[a].c(),s[a].m(t,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=l.length}},d(e){e&&c(t),N(s,e)}}}function ge(e){let t,l=S.weekdays("long",{locale:"en"}),s=[];for(let n=0;n<l.length;n+=1)s[n]=ye(he(e,l,n));return{c(){t=n("div");for(let e=0;e<s.length;e+=1)s[e].c();this.h()},l(e){t=a(e,"DIV",{class:!0});var l=i(t);for(let t=0;t<s.length;t+=1)s[t].l(l);l.forEach(c),this.h()},h(){o(t,"class","inline-flex flex-wrap gap-2")},m(e,l){u(e,t,l);for(let n=0;n<s.length;n+=1)s[n].m(t,null)},p(e,n){if(2&n){let a;for(l=S.weekdays("long",{locale:"en"}),a=0;a<l.length;a+=1){const i=he(e,l,a);s[a]?s[a].p(i,n):(s[a]=ye(i),s[a].c(),s[a].m(t,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=l.length}},d(e){e&&c(t),N(s,e)}}}function Ee(e){let t,l,s;return{c(){t=n("input"),l=y(),s=n("input"),this.h()},l(e){t=a(e,"INPUT",{class:!0,type:!0}),l=x(e),s=a(e,"INPUT",{class:!0,type:!0}),this.h()},h(){o(t,"class","form-input svelte-kbxu48"),o(t,"type","date"),o(s,"class","form-input svelte-kbxu48"),o(s,"type","time")},m(e,n){u(e,t,n),u(e,l,n),u(e,s,n)},p:d,d(e){e&&c(t),e&&c(l),e&&c(s)}}}function $e(e){let t,l,s,r,f,d,v,p=e[14]+"";return{c(){t=n("label"),l=n("input"),s=y(),r=g(p),f=y(),this.h()},l(e){t=a(e,"LABEL",{});var n=i(t);l=a(n,"INPUT",{type:!0}),s=x(n),r=E(n,p),f=x(n),n.forEach(c),this.h()},h(){o(l,"type","checkbox"),l.__value=e[14],l.value=l.__value,e[9][1].push(l)},m(n,a){u(n,t,a),$(t,l),l.checked=~e[1].recurrence.monthDays.indexOf(l.__value),$(t,s),$(t,r),$(t,f),d||(v=h(l,"change",e[10]),d=!0)},p(e,t){2&t&&(l.checked=~e[1].recurrence.monthDays.indexOf(l.__value))},d(n){n&&c(t),e[9][1].splice(e[9][1].indexOf(l),1),d=!1,v()}}}function ye(e){let t,l,s,r,f,d,v,p=e[11]+"";return{c(){t=n("label"),l=n("input"),s=y(),r=g(p),f=y(),this.h()},l(e){t=a(e,"LABEL",{});var n=i(t);l=a(n,"INPUT",{type:!0}),s=x(n),r=E(n,p),f=x(n),n.forEach(c),this.h()},h(){o(l,"type","checkbox"),l.__value=e[13]+1,l.value=l.__value,e[9][0].push(l)},m(n,a){u(n,t,a),$(t,l),l.checked=~e[1].recurrence.weekdays.indexOf(l.__value),$(t,s),$(t,r),$(t,f),d||(v=h(l,"change",e[8]),d=!0)},p(e,t){2&t&&(l.checked=~e[1].recurrence.weekdays.indexOf(l.__value))},d(n){n&&c(t),e[9][0].splice(e[9][0].indexOf(l),1),d=!1,v()}}}function xe(e){var t;let l,s,r,f,d,m,O,I,A,S,R,P,V,z,U,B,j,C,Y,M=e[0]._id?"Save":"Add",W=(null==(t=e[0])?void 0:t._id)&&ve(e),X=Object.values(ne),G=[];for(let n=0;n<X.length;n+=1)G[n]=pe(de(e,X,n));function H(e,t){return e[1].recurrence.type===ne.ONCE?Ee:e[1].recurrence.type===ne.EVERY_WEEK_DAYS?ge:e[1].recurrence.type===ne.EVERY_MONTH_DAYS?me:void 0}let J=H(e),K=J&&J(e);return{c(){l=n("div"),W&&W.c(),s=y(),r=n("input"),f=y(),d=n("textarea"),m=y(),O=n("div"),I=n("select");for(let e=0;e<G.length;e+=1)G[e].c();A=y(),K&&K.c(),S=y(),R=n("div"),P=n("button"),V=g("Cancel"),z=y(),U=n("button"),B=g(M),this.h()},l(e){l=a(e,"DIV",{class:!0});var t=i(l);W&&W.l(t),s=x(t),r=a(t,"INPUT",{class:!0,type:!0,placeholder:!0}),f=x(t),d=a(t,"TEXTAREA",{class:!0,placeholder:!0}),i(d).forEach(c),m=x(t),O=a(t,"DIV",{class:!0});var n=i(O);I=a(n,"SELECT",{class:!0});var o=i(I);for(let l=0;l<G.length;l+=1)G[l].l(o);o.forEach(c),A=x(n),K&&K.l(n),n.forEach(c),S=x(t),R=a(t,"DIV",{class:!0});var u=i(R);P=a(u,"BUTTON",{class:!0});var h=i(P);V=E(h,"Cancel"),h.forEach(c),z=x(u),U=a(u,"BUTTON",{class:!0});var v=i(U);B=E(v,M),v.forEach(c),u.forEach(c),t.forEach(c),this.h()},h(){o(r,"class","w-full p-1 form-input svelte-kbxu48"),o(r,"type","text"),o(r,"placeholder","Title"),r.autofocus=!0,o(d,"class","w-full h-40 p-1 form-input font-mono svelte-kbxu48"),o(d,"placeholder","Description text"),o(I,"class","form-input svelte-kbxu48"),void 0===e[1].recurrence.type&&_((()=>e[7].call(I))),o(O,"class"," w-full inline-flex gap-2 flex-wrap"),o(P,"class","form-button svelte-kbxu48"),o(U,"class","form-button svelte-kbxu48"),o(R,"class","box-border w-full bottom-2 inline-flex justify-evenly mb-4 mt-4"),o(l,"class","fixed z-50 right-0 left-0 bottom-0 top-0 p-4 inline-flex justify-end flex-col gap-2 bg-white")},m(t,n){u(t,l,n),W&&W.m(l,null),$(l,s),$(l,r),w(r,e[1].title),$(l,f),$(l,d),w(d,e[1].description),$(l,m),$(l,O),$(O,I);for(let e=0;e<G.length;e+=1)G[e].m(I,null);b(I,e[1].recurrence.type),$(O,A),K&&K.m(O,null),$(l,S),$(l,R),$(R,P),$(P,V),$(R,z),$(R,U),$(U,B),j=!0,r.focus(),C||(Y=[h(r,"input",e[5]),h(d,"input",e[6]),h(I,"change",e[7]),h(P,"click",e[3]),h(U,"click",e[4])],C=!0)},p(e,[t]){var n;if((null==(n=e[0])?void 0:n._id)?W?(W.p(e,t),1&t&&v(W,1)):(W=ve(e),W.c(),v(W,1),W.m(l,s)):W&&(k(),p(W,1,1,(()=>{W=null})),D()),2&t&&r.value!==e[1].title&&w(r,e[1].title),2&t&&w(d,e[1].description),0&t){let l;for(X=Object.values(ne),l=0;l<X.length;l+=1){const n=de(e,X,l);G[l]?G[l].p(n,t):(G[l]=pe(n),G[l].c(),G[l].m(I,null))}for(;l<G.length;l+=1)G[l].d(1);G.length=X.length}2&t&&b(I,e[1].recurrence.type),J===(J=H(e))&&K?K.p(e,t):(K&&K.d(1),K=J&&J(e),K&&(K.c(),K.m(O,null))),(!j||1&t)&&M!==(M=e[0]._id?"Save":"Add")&&T(B,M)},i(e){j||(v(W),j=!0)},o(e){p(W),j=!1},d(e){e&&c(l),W&&W.d(),N(G,e),K&&K.d(),C=!1,L(Y)}}}const _e=(e,t)=>t+1;function we(e,t,l){let{activity:n}=t,s=n.toJS();const a=[[],[]];return e.$$set=e=>{"activity"in e&&l(0,n=e.activity)},[n,s,()=>{se(n),l(0,n=null)},()=>{l(0,n=null)},()=>{ae(n.merge(s)),l(0,n=null)},function(){s.title=this.value,l(1,s)},function(){s.description=this.value,l(1,s)},function(){s.recurrence.type=I(this),l(1,s)},function(){s.recurrence.weekdays=A(a[0],this.__value,this.checked),l(1,s)},a,function(){s.recurrence.monthDays=A(a[1],this.__value,this.checked),l(1,s)}]}class be extends e{constructor(e){super(),t(this,e,we,xe,l,{activity:0})}}function ke(e){let t,l,s,r,f,h=R.fromISO(e[0].recurrence.nextDate).toLocal().toLocaleString(R.DATE_SHORT)+"";return{c(){t=n("p"),l=g("Next date: "),s=g(" "),r=y(),f=g(h),this.h()},l(e){t=a(e,"P",{class:!0});var n=i(t);l=E(n,"Next date: "),s=E(n," "),r=x(n),f=E(n,h),n.forEach(c),this.h()},h(){o(t,"class","text-xs font-light")},m(e,n){u(e,t,n),$(t,l),$(t,s),$(t,r),$(t,f)},p(e,t){1&t&&h!==(h=R.fromISO(e[0].recurrence.nextDate).toLocal().toLocaleString(R.DATE_SHORT)+"")&&T(f,h)},d(e){e&&c(t)}}}function De(e){var t;let l,s,r,f,v,p,m,_,w,b,k=e[0].title+"",D=e[0].state+"",N=(null==(t=e[0].recurrence)?void 0:t.type)!==ne.NO_RECURRENCE&&ke(e);return{c(){l=n("div"),s=n("div"),r=n("div"),f=g(k),v=y(),p=n("div"),m=g(D),_=y(),N&&N.c(),this.h()},l(e){l=a(e,"DIV",{class:!0});var t=i(l);s=a(t,"DIV",{class:!0});var n=i(s);r=a(n,"DIV",{});var o=i(r);f=E(o,k),o.forEach(c),v=x(n),p=a(n,"DIV",{});var u=i(p);m=E(u,D),u.forEach(c),n.forEach(c),_=x(t),N&&N.l(t),t.forEach(c),this.h()},h(){o(s,"class","inline-flex justify-between items-center w-full"),o(l,"class","p-2 inline-flex flex-col gap-2 shadow-md border rounded")},m(t,n){u(t,l,n),$(l,s),$(s,r),$(r,f),$(s,v),$(s,p),$(p,m),$(l,_),N&&N.m(l,null),w||(b=h(l,"click",e[1]),w=!0)},p(e,[t]){var n;1&t&&k!==(k=e[0].title+"")&&T(f,k),1&t&&D!==(D=e[0].state+"")&&T(m,D),(null==(n=e[0].recurrence)?void 0:n.type)!==ne.NO_RECURRENCE?N?N.p(e,t):(N=ke(e),N.c(),N.m(l,null)):N&&(N.d(1),N=null)},i:d,o:d,d(e){e&&c(l),N&&N.d(),w=!1,b()}}}function Te(e,t,l){let{activity:n}=t;return e.$$set=e=>{"activity"in e&&l(0,n=e.activity)},[n,function(t){P.call(this,e,t)}]}class Ne extends e{constructor(e){super(),t(this,e,Te,De,l,{activity:0})}}function Le(e,t=400){let l,n;const s=()=>{clearTimeout(l)},a=e=>{const t=e.touches?e.touches[0]:e;let s=t.clientX,a=t.clientY,i=s-n.x,r=a-n.y;i*i+r*r>50&&clearTimeout(l)},i=r=>{const c=r.touches?r.touches[0]:r;n={x:c.clientX,y:c.clientY},l=setTimeout((()=>{e.removeEventListener("mousedown",i),e.removeEventListener("touchStart",i),e.removeEventListener("mouseup",s),e.removeEventListener("touchend",s),e.dispatchEvent(new CustomEvent("longpress",{detail:{startDragPosition:n}}))}),t),e.addEventListener("mouseup",s),e.addEventListener("mousemove",a),e.addEventListener("touchend",s),e.addEventListener("touchmove",a)};return e.addEventListener("mousedown",i),e.addEventListener("touchstart",i),{update(e){t=e},destroy(){e.removeEventListener("mousedown",i),e.removeEventListener("touchStart",i),e.removeEventListener("mouseup",s),e.removeEventListener("touchend",s),e.removeEventListener("mousemove",a)}}}function Oe(e,t,l){const n=e.slice();return n[10]=t[l],n[12]=l,n}function Ie(e,t,l){const n=e.slice();return n[10]=t[l],n[12]=l,n}function Ae(e,t,l){const n=e.slice();return n[10]=t[l],n[12]=l,n}function Se(e,t){let l,o,h,g,E,_,w,b=d;return o=new Ne({props:{activity:t[10]}}),o.$on("click",(function(){M(t[6](t[10]._id))&&t[6](t[10]._id).apply(this,arguments)})),{key:e,first:null,c(){l=n("span"),s(o.$$.fragment),h=y(),this.h()},l(e){l=a(e,"SPAN",{});var t=i(l);r(o.$$.fragment,t),h=x(t),t.forEach(c),this.h()},h(){this.first=l},m(e,t){u(e,l,t),f(o,l,null),$(l,h),E=!0,_||(w=V(Le.call(null,l)),_=!0)},p(e,l){t=e;const n={};8&l&&(n.activity=t[10]),o.$set(n)},r(){g=l.getBoundingClientRect()},f(){z(l),b()},a(){b(),b=U(l,g,G,{duration:je})},i(e){E||(v(o.$$.fragment,e),E=!0)},o(e){p(o.$$.fragment,e),E=!1},d(e){e&&c(l),m(o),_=!1,w()}}}function Re(e,t){let l,n,a;return n=new Ne({props:{activity:t[10]}}),n.$on("click",(function(){M(t[6](t[10]._id))&&t[6](t[10]._id).apply(this,arguments)})),{key:e,first:null,c(){l=j(),s(n.$$.fragment),this.h()},l(e){l=j(),r(n.$$.fragment,e),this.h()},h(){this.first=l},m(e,t){u(e,l,t),f(n,e,t),a=!0},p(e,l){t=e;const s={};1&l&&(s.activity=t[10]),n.$set(s)},i(e){a||(v(n.$$.fragment,e),a=!0)},o(e){p(n.$$.fragment,e),a=!1},d(e){e&&c(l),m(n,e)}}}function Pe(e,t){let l,n,a;return n=new Ne({props:{activity:t[10]}}),n.$on("click",(function(){M(t[6](t[10]._id))&&t[6](t[10]._id).apply(this,arguments)})),{key:e,first:null,c(){l=j(),s(n.$$.fragment),this.h()},l(e){l=j(),r(n.$$.fragment,e),this.h()},h(){this.first=l},m(e,t){u(e,l,t),f(n,e,t),a=!0},p(e,l){t=e;const s={};1&l&&(s.activity=t[10]),n.$set(s)},i(e){a||(v(n.$$.fragment,e),a=!0)},o(e){p(n.$$.fragment,e),a=!1},d(e){e&&c(l),m(n,e)}}}function Ve(e){let t,l,d,g,E,_,w;d=new Z({props:{size:e[1].activities.size?"16":"24"}});let b=e[1].activities.size&&Ue(e);return{c(){t=n("div"),l=n("button"),s(d.$$.fragment),g=y(),b&&b.c(),this.h()},l(e){t=a(e,"DIV",{class:!0});var n=i(t);l=a(n,"BUTTON",{class:!0});var s=i(l);r(d.$$.fragment,s),s.forEach(c),g=x(n),b&&b.l(n),n.forEach(c),this.h()},h(){o(l,"class","fab svelte-cy62oh"),Q(l,"small",!!e[1].activities.size),o(t,"class","fixed bottom-4 right-4 gap-3 items-center inline-flex flex-col")},m(n,s){u(n,t,s),$(t,l),f(d,l,null),$(t,g),b&&b.m(t,null),E=!0,_||(w=h(l,"click",e[5]),_=!0)},p(e,n){const s={};2&n&&(s.size=e[1].activities.size?"16":"24"),d.$set(s),2&n&&Q(l,"small",!!e[1].activities.size),e[1].activities.size?b?(b.p(e,n),2&n&&v(b,1)):(b=Ue(e),b.c(),v(b,1),b.m(t,null)):b&&(k(),p(b,1,1,(()=>{b=null})),D())},i(e){E||(v(d.$$.fragment,e),v(b),E=!0)},o(e){p(d.$$.fragment,e),p(b),E=!1},d(e){e&&c(t),m(d),b&&b.d(),_=!1,w()}}}function ze(e){let t,l,n;function a(t){e[8](t)}let i={};return void 0!==e[2]&&(i.activity=e[2]),t=new be({props:i}),q.push((()=>F(t,"activity",a))),{c(){s(t.$$.fragment)},l(e){r(t.$$.fragment,e)},m(e,l){f(t,e,l),n=!0},p(e,n){const s={};!l&&4&n&&(l=!0,s.activity=e[2],ee((()=>l=!1))),t.$set(s)},i(e){n||(v(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){m(t,e)}}}function Ue(e){let t,l,g,E,$;return l=new te({props:{size:"24"}}),{c(){t=n("button"),s(l.$$.fragment),this.h()},l(e){t=a(e,"BUTTON",{class:!0});var n=i(t);r(l.$$.fragment,n),n.forEach(c),this.h()},h(){o(t,"class","p-4 fab svelte-cy62oh")},m(n,s){u(n,t,s),f(l,t,null),g=!0,E||($=h(t,"click",e[4]),E=!0)},p:d,i(e){g||(v(l.$$.fragment,e),g=!0)},o(e){p(l.$$.fragment,e),g=!1},d(e){e&&c(t),m(l),E=!1,$()}}}function Be(e){let t,l,s,r,f,d,m,_,w,b,T,N,O,I,A,S,R,P,z,U,W,X=[],G=new Map,K=[],Z=new Map,Q=[],q=new Map,F=e[3];const ee=e=>e[10]._id;for(let n=0;n<F.length;n+=1){let t=Ae(e,F,n),l=ee(t);G.set(l,X[n]=Se(l,t))}let te=e[0].get(ie.WAITING,B()).toArray();const le=e=>e[10]._id;for(let n=0;n<te.length;n+=1){let t=Ie(e,te,n),l=le(t);Z.set(l,K[n]=Re(l,t))}let ne=e[0].get(ie.DONE,B()).toArray();const se=e=>e[10]._id;for(let n=0;n<ne.length;n+=1){let t=Oe(e,ne,n),l=se(t);q.set(l,Q[n]=Pe(l,t))}const ae=[ze,Ve],re=[];function ce(e,t){return e[2]?0:1}return S=ce(e),R=re[S]=ae[S](e),{c(){t=n("div"),l=n("p"),s=g("Next activities"),r=y(),f=n("div");for(let e=0;e<X.length;e+=1)X[e].c();m=y(),_=n("p"),w=g("Waiting activities"),b=y();for(let e=0;e<K.length;e+=1)K[e].c();T=y(),N=n("p"),O=g("Done activities"),I=y();for(let e=0;e<Q.length;e+=1)Q[e].c();A=y(),R.c(),P=j(),this.h()},l(e){t=a(e,"DIV",{class:!0});var n=i(t);l=a(n,"P",{class:!0});var o=i(l);s=E(o,"Next activities"),o.forEach(c),r=x(n),f=a(n,"DIV",{class:!0});var u=i(f);for(let t=0;t<X.length;t+=1)X[t].l(u);u.forEach(c),m=x(n),_=a(n,"P",{class:!0});var h=i(_);w=E(h,"Waiting activities"),h.forEach(c),b=x(n);for(let t=0;t<K.length;t+=1)K[t].l(n);T=x(n),N=a(n,"P",{class:!0});var d=i(N);O=E(d,"Done activities"),d.forEach(c),I=x(n);for(let t=0;t<Q.length;t+=1)Q[t].l(n);n.forEach(c),A=x(e),R.l(e),P=j(),this.h()},h(){o(l,"class","text-xl"),o(f,"class","w-full flex-col inline-flex gap-2"),o(_,"class","text-xl"),o(N,"class","text-xl"),o(t,"class","p-4 flex-col inline-flex gap-2 w-full relative")},m(n,a){u(n,t,a),$(t,l),$(l,s),$(t,r),$(t,f);for(let e=0;e<X.length;e+=1)X[e].m(f,null);$(t,m),$(t,_),$(_,w),$(t,b);for(let e=0;e<K.length;e+=1)K[e].m(t,null);$(t,T),$(t,N),$(N,O),$(t,I);for(let e=0;e<Q.length;e+=1)Q[e].m(t,null);u(n,A,a),re[S].m(n,a),u(n,P,a),z=!0,U||(W=[V(d=C.call(null,f,{items:e[3],flipDurationMs:je,customStartEvent:"longpress"})),h(f,"consider",e[7]),h(f,"finalize",e[7])],U=!0)},p(e,[l]){if(72&l){F=e[3],k();for(let e=0;e<X.length;e+=1)X[e].r();X=Y(X,l,ee,1,e,F,G,f,H,Se,null,Ae);for(let e=0;e<X.length;e+=1)X[e].a();D()}d&&M(d.update)&&8&l&&d.update.call(null,{items:e[3],flipDurationMs:je,customStartEvent:"longpress"}),65&l&&(te=e[0].get(ie.WAITING,B()).toArray(),k(),K=Y(K,l,le,1,e,te,Z,t,J,Re,T,Ie),D()),65&l&&(ne=e[0].get(ie.DONE,B()).toArray(),k(),Q=Y(Q,l,se,1,e,ne,q,t,J,Pe,null,Oe),D());let n=S;S=ce(e),S===n?re[S].p(e,l):(k(),p(re[n],1,1,(()=>{re[n]=null})),D(),R=re[S],R?R.p(e,l):(R=re[S]=ae[S](e),R.c()),v(R,1),R.m(P.parentNode,P))},i(e){if(!z){for(let e=0;e<F.length;e+=1)v(X[e]);for(let e=0;e<te.length;e+=1)v(K[e]);for(let e=0;e<ne.length;e+=1)v(Q[e]);v(R),z=!0}},o(e){for(let t=0;t<X.length;t+=1)p(X[t]);for(let t=0;t<K.length;t+=1)p(K[t]);for(let t=0;t<Q.length;t+=1)p(Q[t]);p(R),z=!1},d(e){e&&c(t);for(let t=0;t<X.length;t+=1)X[t].d();for(let t=0;t<K.length;t+=1)K[t].d();for(let t=0;t<Q.length;t+=1)Q[t].d();e&&c(A),re[S].d(e),e&&c(P),U=!1,L(W)}}}const je=100;function Ce(e,t,l){let n,s;W(e,oe,(e=>l(1,n=e)));let a,i,r=null;X((()=>{s=document.getElementsByTagName("main")[0]}));return e.$$.update=()=>{3&e.$$.dirty&&(l(0,a=n.activities.groupBy((e=>e.state))),l(3,i=a.get(ie.READY,B()).toJS()))},[a,n,r,i,()=>{le(`${ue}/focus`)},()=>{l(2,r=re())},e=>()=>{l(2,r=n.activities.find((t=>t._id===e)))},({detail:e})=>{l(3,i=e.items),e.info.trigger===K.DRAG_STARTED&&(s.classList.add("overflow-hidden"),s.classList.remove("overflow-y-scroll")),e.info.trigger.includes("dropped")&&(s.classList.add("overflow-y-scroll"),s.classList.remove("overflow-hidden")),e.info.trigger===K.DROPPED_INTO_ZONE&&ce(e.items)},function(e){r=e,l(2,r)}]}export default class extends e{constructor(e){super(),t(this,e,Ce,Be,l,{})}}
