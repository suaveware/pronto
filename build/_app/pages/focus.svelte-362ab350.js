import{S as s,i as t,s as a,ae as e,e as n,j as o,c as i,a as r,m as l,d as c,b as d,f,J as u,o as h,M as p,K as m,v,r as $,w as g,k as x,t as b,l as E,af as T,n as k,g as w,h as j,u as D,T as A,a3 as B,ag as I,ah as N,B as O,D as Y,aa as y}from"../chunks/vendor-9b7a0713.js";import{g as z}from"../chunks/navigation-c804b3db.js";import{b as P}from"../chunks/paths-7dc55c62.js";import{A as S,s as U,f as V,e as q}from"../chunks/state-1550a226.js";const{document:F}=I;function J(s){let t,a,e,x,b,E;return e=new N({props:{size:"24"}}),{c(){t=n("div"),a=n("button"),o(e.$$.fragment),this.h()},l(s){t=i(s,"DIV",{class:!0});var n=r(t);a=i(n,"BUTTON",{class:!0});var o=r(a);l(e.$$.fragment,o),o.forEach(c),n.forEach(c),this.h()},h(){d(a,"class","p-4 border shadow-md bg-white rounded-full"),d(t,"class","fixed bottom-4 right-4 gap-3 items-center inline-flex flex-col")},m(n,o){f(n,t,o),u(t,a),h(e,a,null),x=!0,b||(E=p(a,"click",s[3]),b=!0)},p:m,i(s){x||(v(e.$$.fragment,s),x=!0)},o(s){$(e.$$.fragment,s),x=!1},d(s){s&&c(t),g(e),b=!1,E()}}}function K(s){var t;let a,m,B,I,N,Y,y,z,P,S,U,V,q,K,M,R=(s[0]?null==(t=s[0])?void 0:t.title:"You're done!")+"",C=(s[0]?s[0].description||"...":"There's nothing else to do.")+"";B=new e({props:{size:"24"}});let G=s[0]&&J(s);return{c(){a=x(),m=n("button"),o(B.$$.fragment),I=x(),N=n("div"),Y=n("p"),y=b(R),z=x(),P=n("p"),S=b(C),U=x(),G&&G.c(),V=E(),this.h()},l(s){T('[data-svelte="svelte-ihrkqk"]',F.head).forEach(c),a=k(s),m=i(s,"BUTTON",{class:!0});var t=r(m);l(B.$$.fragment,t),t.forEach(c),I=k(s),N=i(s,"DIV",{class:!0});var e=r(N);Y=i(e,"P",{class:!0});var n=r(Y);y=w(n,R),n.forEach(c),z=k(e),P=i(e,"P",{class:!0});var o=r(P);S=w(o,C),o.forEach(c),e.forEach(c),U=k(s),G&&G.l(s),V=E(),this.h()},h(){F.title="Focus",d(m,"class","fixed top-4 left-4"),d(Y,"class","text-bg font-bold text-xl"),d(P,"class","font-light text-sm font-mono text-base whitespace-pre-wrap"),d(N,"class","w-full h-full inline-flex flex-col gap-6 p-4 justify-center items-center")},m(t,e){f(t,a,e),f(t,m,e),h(B,m,null),f(t,I,e),f(t,N,e),u(N,Y),u(Y,y),u(N,z),u(N,P),u(P,S),s[7](P),f(t,U,e),G&&G.m(t,e),f(t,V,e),q=!0,K||(M=[p(m,"click",s[2]),p(P,"click",s[5]),p(P,"blur",s[4])],K=!0)},p(s,[t]){var a;(!q||1&t)&&R!==(R=(s[0]?null==(a=s[0])?void 0:a.title:"You're done!")+"")&&j(y,R),(!q||1&t)&&C!==(C=(s[0]?s[0].description||"...":"There's nothing else to do.")+"")&&j(S,C),s[0]?G?(G.p(s,t),1&t&&v(G,1)):(G=J(s),G.c(),v(G,1),G.m(V.parentNode,V)):G&&(O(),$(G,1,1,(()=>{G=null})),D())},i(s){q||(v(B.$$.fragment,s),v(G),q=!0)},o(s){$(B.$$.fragment,s),$(G),q=!1},d(t){t&&c(a),t&&c(m),g(B),t&&c(I),t&&c(N),s[7](null),t&&c(U),G&&G.d(t),t&&c(V),K=!1,A(M)}}}function M(s,t,a){let e,n,o;B(s,q,(s=>a(6,e=s))),n&&U(n.set("startedAt",Y.utc().toISO()));return s.$$.update=()=>{67&s.$$.dirty&&(a(0,n=e.activities.find((s=>s.state===S.READY))),o&&(null==n?void 0:n.description)&&a(1,o.innerText=n.description,o))},[n,o,()=>{z(`${P}/`)},()=>{V(n)},()=>{const s=o.innerText.trim();a(1,o.contentEditable=!1,o),U(n.set("description",s)),s||a(1,o.innerText="...",o)},()=>{document.activeElement!==o&&(a(1,o.contentEditable=!0,o),o.focus(),(null==n?void 0:n.description)||a(1,o.innerText="",o))},e,function(s){y[s?"unshift":"push"]((()=>{o=s,a(1,o),a(6,e),a(0,n)}))}]}export default class extends s{constructor(s){super(),t(this,s,M,K,a,{})}}
