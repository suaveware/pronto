import{S as t,i as e,s as a,ao as n,e as s,k as l,t as r,c,a as o,d as i,n as f,g as u,b as $,f as m,H as d,J as h,a0 as p,u as g,w as v,x as k,h as x,j as b,m as w,o as E,v as y,a7 as D,T as I,M as A,a8 as T,A as V,ap as G,aq as L,r as P,ar as j,as as q,I as z,_ as F,P as J,a1 as R,at as S}from"../chunks/vendor-d03ab36e.js";import{F as Y,d as M,c as N,a as _,s as B,e as C}from"../chunks/FabContainer-21b4567b.js";import{A as H}from"../chunks/tick-9a5f09cc.js";const{document:O}=L;function U(t,e,a){const n=t.slice();return n[14]=e[a],n[16]=a,n}function K(t){let e,a;return e=new R({props:{size:"24"}}),{c(){b(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){E(e,t,n),a=!0},i(t){a||(k(e.$$.fragment,t),a=!0)},o(t){g(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function Q(t){let e,a;return e=new S({props:{size:"24"}}),{c(){b(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){E(e,t,n),a=!0},i(t){a||(k(e.$$.fragment,t),a=!0)},o(t){g(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function W(t,e){let a,n,b,w,E,y,D,I,A,T,V,G=e[14].name+"";const L=[Q,K],j=[];function q(t,e){return t[14].checked?0:1}function z(){return e[11](e[16])}return b=q(e),w=j[b]=L[b](e),{key:t,first:null,c(){a=s("div"),n=s("div"),w.c(),E=l(),y=s("div"),D=r(G),I=l(),this.h()},l(t){a=c(t,"DIV",{class:!0});var e=o(a);n=c(e,"DIV",{});var s=o(n);w.l(s),s.forEach(i),E=f(e),y=c(e,"DIV",{});var l=o(y);D=u(l,G),l.forEach(i),I=f(e),e.forEach(i),this.h()},h(){$(a,"class","inline-flex gap-4 cursor-pointer"),this.first=a},m(t,e){m(t,a,e),d(a,n),j[b].m(n,null),d(a,E),d(a,y),d(y,D),d(a,I),A=!0,T||(V=h(a,"click",p(z)),T=!0)},p(t,a){let s=b;b=q(e=t),b!==s&&(P(),g(j[s],1,1,(()=>{j[s]=null})),v(),w=j[b],w||(w=j[b]=L[b](e),w.c()),k(w,1),w.m(n,null)),(!A||1&a)&&G!==(G=e[14].name+"")&&x(D,G)},i(t){A||(k(w),A=!0)},o(t){g(w),A=!1},d(t){t&&i(a),j[b].d(),T=!1,V()}}}function X(t){let e,a;return e=new Y({props:{$$slots:{default:[Z]},$$scope:{ctx:t}}}),{c(){b(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){E(e,t,n),a=!0},p(t,a){const n={};131072&a&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){a||(k(e.$$.fragment,t),a=!0)},o(t){g(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function Z(t){let e,a,n,s;return e=new M({props:{color:"bg-blueGray-400",small:!0,icon:j}}),e.$on("click",t[4]),n=new M({props:{color:"bg-blueGray-400",icon:q}}),n.$on("click",t[3]),{c(){b(e.$$.fragment),a=l(),b(n.$$.fragment)},l(t){w(e.$$.fragment,t),a=f(t),w(n.$$.fragment,t)},m(t,l){E(e,t,l),m(t,a,l),E(n,t,l),s=!0},p:z,i(t){s||(k(e.$$.fragment,t),k(n.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),g(n.$$.fragment,t),s=!1},d(t){y(e,t),t&&i(a),y(n,t)}}}function tt(t){var e,a;let T,V,G,L,j,q,z,J,R,S,Y,M,N,_,B,C,H,K,Q=((null==(e=t[0])?void 0:e.title)||"Pronto!")+"",Z=[],tt=new Map;j=new n({props:{class:"text-blueGray-600",size:"24"}});let et=(null==(a=t[0])?void 0:a.checkList.toArray())||[];const at=t=>t[14]._id;for(let n=0;n<et.length;n+=1){let e=U(t,et,n),a=at(e);tt.set(a,Z[n]=W(a,e))}let nt=t[0]&&X(t);return{c(){T=l(),V=s("div"),G=s("div"),L=s("button"),b(j.$$.fragment),q=l(),z=s("div"),J=s("p"),R=r(Q),S=l(),Y=s("p"),M=r(""),N=l(),_=s("div");for(let t=0;t<Z.length;t+=1)Z[t].c();B=l(),nt&&nt.c(),this.h()},l(t){D('[data-svelte="svelte-ihrkqk"]',O.head).forEach(i),T=f(t),V=c(t,"DIV",{class:!0});var e=o(V);G=c(e,"DIV",{class:!0});var a=o(G);L=c(a,"BUTTON",{});var n=o(L);w(j.$$.fragment,n),n.forEach(i),a.forEach(i),q=f(e),z=c(e,"DIV",{class:!0});var s=o(z);J=c(s,"P",{class:!0});var l=o(J);R=u(l,Q),l.forEach(i),S=f(s),Y=c(s,"P",{class:!0});var r=o(Y);M=u(r,""),r.forEach(i),N=f(s),_=c(s,"DIV",{class:!0});var $=o(_);for(let c=0;c<Z.length;c+=1)Z[c].l($);$.forEach(i),s.forEach(i),B=f(e),nt&&nt.l(e),e.forEach(i),this.h()},h(){O.title="Focus",$(G,"class","inline-flex relative items-center w-ful p-4 text-blueGray-600"),$(J,"class","text-bg font-bold text-xl"),$(Y,"class","font-light font-mono text-base whitespace-pre-wrap"),$(_,"class","inline-flex flex-col gap-2 px-4 pt-4 w-full"),$(z,"class","w-full inline-flex my-auto box-border flex-col overflow-y-scroll text-blueGray-600 gap-6 p-4 items-center"),$(V,"class","inline-flex flex-col h-full w-full")},m(e,a){m(e,T,a),m(e,V,a),d(V,G),d(G,L),E(j,L,null),d(V,q),d(V,z),d(z,J),d(J,R),d(z,S),d(z,Y),d(Y,M),t[10](Y),d(z,N),d(z,_);for(let t=0;t<Z.length;t+=1)Z[t].m(_,null);d(V,B),nt&&nt.m(V,null),C=!0,H||(K=[h(L,"click",t[2]),h(Y,"click",p(t[6])),h(Y,"blur",t[5]),h(V,"click",t[7])],H=!0)},p(t,[e]){var a,n;(!C||1&e)&&Q!==(Q=((null==(a=t[0])?void 0:a.title)||"Pronto!")+"")&&x(R,Q),257&e&&(et=(null==(n=t[0])?void 0:n.checkList.toArray())||[],P(),Z=I(Z,e,at,1,t,et,tt,_,F,W,null,U),v()),t[0]?nt?(nt.p(t,e),1&e&&k(nt,1)):(nt=X(t),nt.c(),k(nt,1),nt.m(V,null)):nt&&(P(),g(nt,1,1,(()=>{nt=null})),v())},i(t){if(!C){k(j.$$.fragment,t);for(let t=0;t<et.length;t+=1)k(Z[t]);k(nt),C=!0}},o(t){g(j.$$.fragment,t);for(let e=0;e<Z.length;e+=1)g(Z[e]);g(nt),C=!1},d(e){e&&i(T),e&&i(V),y(j),t[10](null);for(let t=0;t<Z.length;t+=1)Z[t].d();nt&&nt.d(),H=!1,A(K)}}}function et(t,e,a){let n;T(t,C,(t=>a(9,n=t)));let s,l,r=null,c=!1;V((()=>{var t;r=null==(t=navigator.wakeLock)?void 0:t.request()})),G((()=>{null==r||r.release()}));const o=t=>{B(s.setIn(["checkList",t,"checked"],!s.checkList.get(t).checked))};return t.$$.update=()=>{512&t.$$.dirty&&a(0,s=n.activities.find((t=>t.state===H.READY.key))),3&t.$$.dirty&&l&&document.activeElement!==l&&a(1,l.innerText=s?(null==s?void 0:s.description)||"...":"Nenhuma outra atividade",l)},[s,l,()=>{window.history.back()},()=>{N(s)},()=>{const t=n.activities.toJS().filter((({state:t})=>t===H.READY.key)),e=n.activities.toJS().filter((({state:t})=>t!==H.READY.key));if(t.length>1){const[a,n,...s]=t,l=[n,a,...s,...e];_(l)}},()=>{const t=l.innerText.trim();a(1,l.contentEditable=!1,l),a(0,s=s.set("description",t)),t||a(1,l.innerText="...",l),c=!0},()=>{s&&document.activeElement!==l&&(a(1,l.innerText=s.description,l),a(1,l.contentEditable=!0,l),l.focus())},()=>{c&&(c=!1)},o,n,function(t){J[t?"unshift":"push"]((()=>{l=t,a(1,l),a(0,s),a(9,n)}))},t=>o(t)]}export default class extends t{constructor(t){super(),e(this,t,et,tt,a,{})}}
